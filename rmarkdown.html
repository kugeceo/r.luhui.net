<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>22 R Markdown文件格式 | R语言教程</title>
  <meta name="description" content="李东风在北京大学数学科学学院开设本科生《统计软件》教材。采用R的bookdown制作，输出格式为bookdown::gitbook." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="22 R Markdown文件格式 | R语言教程" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="李东风在北京大学数学科学学院开设本科生《统计软件》教材。采用R的bookdown制作，输出格式为bookdown::gitbook." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="22 R Markdown文件格式 | R语言教程" />
  
  <meta name="twitter:description" content="李东风在北京大学数学科学学院开设本科生《统计软件》教材。采用R的bookdown制作，输出格式为bookdown::gitbook." />
  

<meta name="author" content="李东风" />


<meta name="date" content="2020-12-28" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="markdown.html"/>
<link rel="next" href="bookdown.html"/>
<script src="static/js/jquery.min.js"></script>
<link href="static/css/style.css" rel="stylesheet" />
<link href="static/css/plugin-table.css" rel="stylesheet" />
<link href="static/css/plugin-bookdown.css" rel="stylesheet" />
<link href="static/css/plugin-highlight.css" rel="stylesheet" />
<link href="static/css/plugin-search.css" rel="stylesheet" />
<link href="static/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="static/css/plugin-clipboard.css" rel="stylesheet" />





<div style="display:none">
    <script src="http://s11.cnzz.com/z_stat.php?id=610720&web_id=610720" language="JavaScript"></script>
</div>






<script src="static/js/empty-anchor.js"></script>
<script src="static/js/htmlwidgets.js"></script>
<link href="static/css/str_view.css" rel="stylesheet" />
<script src="static/js/str_view.js"></script>
<link href="static/css/wordcloud.css" rel="stylesheet" />
<script src="static/js/wordcloud2-all.js"></script>
<script src="static/js/hover.js"></script>
<script src="static/js/wordcloud2.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  jax: ["input/TeX","output/SVG"],
  extensions: ["tex2jax.js","MathMenu.js","MathZoom.js"],
  TeX: {
    extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
  }
});
</script>
<script type="text/javascript"
   src="static/js/mathjax.js">
</script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="http://www.math.pku.edu.cn/teachers/lidf/docs/Rbook/html/_Rbook/index.html">R语言教程</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>前言</a></li>
<li class="part"><span><b>I 介绍</b></span></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> R语言介绍</a><ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#intro-hist-char"><i class="fa fa-check"></i><b>1.1</b> R的历史和特点</a><ul>
<li class="chapter" data-level="1.1.1" data-path="intro.html"><a href="intro.html#intro-hc-hist"><i class="fa fa-check"></i><b>1.1.1</b> R的历史</a></li>
<li class="chapter" data-level="1.1.2" data-path="intro.html"><a href="intro.html#intro-hc-char"><i class="fa fa-check"></i><b>1.1.2</b> R的特点</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="intro.html"><a href="intro.html#intro-install"><i class="fa fa-check"></i><b>1.2</b> R的下载与安装</a><ul>
<li class="chapter" data-level="1.2.1" data-path="intro.html"><a href="intro.html#intro-ins-down"><i class="fa fa-check"></i><b>1.2.1</b> R的下载</a></li>
<li class="chapter" data-level="1.2.2" data-path="intro.html"><a href="intro.html#intro-ins-install"><i class="fa fa-check"></i><b>1.2.2</b> R软件安装</a></li>
<li class="chapter" data-level="1.2.3" data-path="intro.html"><a href="intro.html#intro-ins-other-soft"><i class="fa fa-check"></i><b>1.2.3</b> 辅助软件</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="intro.html"><a href="intro.html#intro-ins-packages"><i class="fa fa-check"></i><b>1.3</b> R扩展软件包的安装与管理</a><ul>
<li class="chapter" data-level="1.3.1" data-path="intro.html"><a href="intro.html#intro-ins-pack-ins"><i class="fa fa-check"></i><b>1.3.1</b> 安装</a></li>
<li class="chapter" data-level="1.3.2" data-path="intro.html"><a href="intro.html#intro-ins-pack-gitbioc"><i class="fa fa-check"></i><b>1.3.2</b> Github和BioConductor的扩展包</a></li>
<li class="chapter" data-level="1.3.3" data-path="intro.html"><a href="intro.html#intro-ins-pack-upd"><i class="fa fa-check"></i><b>1.3.3</b> 更新扩展包</a></li>
<li class="chapter" data-level="1.3.4" data-path="intro.html"><a href="intro.html#intro-ins-pack-verup"><i class="fa fa-check"></i><b>1.3.4</b> 迁移扩展包</a></li>
<li class="chapter" data-level="1.3.5" data-path="intro.html"><a href="intro.html#intro-ins-pack-renv"><i class="fa fa-check"></i><b>1.3.5</b> 项目私有扩展包目录</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="intro.html"><a href="intro.html#intro-ruse"><i class="fa fa-check"></i><b>1.4</b> 基本R软件的用法</a><ul>
<li class="chapter" data-level="1.4.1" data-path="intro.html"><a href="intro.html#intro-ruse-run"><i class="fa fa-check"></i><b>1.4.1</b> 基本运行</a></li>
<li class="chapter" data-level="1.4.2" data-path="intro.html"><a href="intro.html#intro-ruse-proj"><i class="fa fa-check"></i><b>1.4.2</b> 项目目录</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="intro.html"><a href="intro.html#intro-rstudio"><i class="fa fa-check"></i><b>1.5</b> RStudio软件</a><ul>
<li class="chapter" data-level="1.5.1" data-path="intro.html"><a href="intro.html#intro-rstudio-intro"><i class="fa fa-check"></i><b>1.5.1</b> 介绍</a></li>
<li class="chapter" data-level="1.5.2" data-path="intro.html"><a href="intro.html#intro-rstudio-proj"><i class="fa fa-check"></i><b>1.5.2</b> 项目</a></li>
<li class="chapter" data-level="1.5.3" data-path="intro.html"><a href="intro.html#intro-rstudio-help"><i class="fa fa-check"></i><b>1.5.3</b> 帮助</a></li>
<li class="chapter" data-level="1.5.4" data-path="intro.html"><a href="intro.html#intro-rstudio-shortcuts"><i class="fa fa-check"></i><b>1.5.4</b> 使用技巧</a></li>
<li class="chapter" data-level="1.5.5" data-path="intro.html"><a href="intro.html#intro-rstudio-rmd"><i class="fa fa-check"></i><b>1.5.5</b> Rmd文件</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="intro.html"><a href="intro.html#intro-ins-ex"><i class="fa fa-check"></i><b>1.6</b> 练习</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="intro-example.html"><a href="intro-example.html"><i class="fa fa-check"></i><b>2</b> R语言入门运行样例</a><ul>
<li class="chapter" data-level="2.1" data-path="intro-example.html"><a href="intro-example.html#i-e-command-line"><i class="fa fa-check"></i><b>2.1</b> 命令行界面</a></li>
<li class="chapter" data-level="2.2" data-path="intro-example.html"><a href="intro-example.html#i-e-arith-op"><i class="fa fa-check"></i><b>2.2</b> 四则运算</a><ul>
<li class="chapter" data-level="2.2.1" data-path="intro-example.html"><a href="intro-example.html#i-e-arith-op-poker"><i class="fa fa-check"></i><b>2.2.1</b> 计算例子</a></li>
<li class="chapter" data-level="2.2.2" data-path="intro-example.html"><a href="intro-example.html#i-e-a-o-ex"><i class="fa fa-check"></i><b>2.2.2</b> 练习</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="intro-example.html"><a href="intro-example.html#i-e-math-func"><i class="fa fa-check"></i><b>2.3</b> 数学函数</a><ul>
<li class="chapter" data-level="2.3.1" data-path="intro-example.html"><a href="intro-example.html#i-e-m-f-sqrt"><i class="fa fa-check"></i><b>2.3.1</b> 数学函数——平方根、指数、对数</a></li>
<li class="chapter" data-level="2.3.2" data-path="intro-example.html"><a href="intro-example.html#i-e-m-f-round"><i class="fa fa-check"></i><b>2.3.2</b> 数学函数——取整</a></li>
<li class="chapter" data-level="2.3.3" data-path="intro-example.html"><a href="intro-example.html#i-e-m-f-sin"><i class="fa fa-check"></i><b>2.3.3</b> 数学函数——三角函数</a></li>
<li class="chapter" data-level="2.3.4" data-path="intro-example.html"><a href="intro-example.html#i-e-m-f-asin"><i class="fa fa-check"></i><b>2.3.4</b> 数学函数——反三角函数</a></li>
<li class="chapter" data-level="2.3.5" data-path="intro-example.html"><a href="intro-example.html#i-e-m-f-dist"><i class="fa fa-check"></i><b>2.3.5</b> 分布函数和分位数函数</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="intro-example.html"><a href="intro-example.html#i-e-output"><i class="fa fa-check"></i><b>2.4</b> 输出</a><ul>
<li class="chapter" data-level="2.4.1" data-path="intro-example.html"><a href="intro-example.html#i-e-o-simple"><i class="fa fa-check"></i><b>2.4.1</b> 简单输出</a></li>
<li class="chapter" data-level="2.4.2" data-path="intro-example.html"><a href="intro-example.html#i-e-o-sink"><i class="fa fa-check"></i><b>2.4.2</b> 用<code>sink()</code>函数作运行记录</a></li>
<li class="chapter" data-level="2.4.3" data-path="intro-example.html"><a href="intro-example.html#i-e-o-ex"><i class="fa fa-check"></i><b>2.4.3</b> 练习</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="intro-example.html"><a href="intro-example.html#i-e-vector"><i class="fa fa-check"></i><b>2.5</b> 向量计算与变量赋值</a></li>
<li class="chapter" data-level="2.6" data-path="intro-example.html"><a href="intro-example.html#i-e-workspace"><i class="fa fa-check"></i><b>2.6</b> 工作空间介绍</a><ul>
<li class="chapter" data-level="2.6.1" data-path="intro-example.html"><a href="intro-example.html#i-e-w-ex"><i class="fa fa-check"></i><b>2.6.1</b> 练习</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="intro-example.html"><a href="intro-example.html#i-e-graph"><i class="fa fa-check"></i><b>2.7</b> 绘图示例</a><ul>
<li class="chapter" data-level="2.7.1" data-path="intro-example.html"><a href="intro-example.html#i-e-g-curve"><i class="fa fa-check"></i><b>2.7.1</b> 函数曲线示例</a></li>
<li class="chapter" data-level="2.7.2" data-path="intro-example.html"><a href="intro-example.html#i-e-g-barplot"><i class="fa fa-check"></i><b>2.7.2</b> 条形图示例</a></li>
<li class="chapter" data-level="2.7.3" data-path="intro-example.html"><a href="intro-example.html#i-e-g-scatter"><i class="fa fa-check"></i><b>2.7.3</b> 散点图示例</a></li>
<li class="chapter" data-level="2.7.4" data-path="intro-example.html"><a href="intro-example.html#i-e-g-demo"><i class="fa fa-check"></i><b>2.7.4</b> R软件自带的图形示例</a></li>
<li class="chapter" data-level="2.7.5" data-path="intro-example.html"><a href="intro-example.html#i-e-g-ex"><i class="fa fa-check"></i><b>2.7.5</b> 练习</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="intro-example.html"><a href="intro-example.html#i-e-summary"><i class="fa fa-check"></i><b>2.8</b> 汇总统计示例</a><ul>
<li class="chapter" data-level="2.8.1" data-path="intro-example.html"><a href="intro-example.html#i-e-s-table"><i class="fa fa-check"></i><b>2.8.1</b> 表格数据</a></li>
<li class="chapter" data-level="2.8.2" data-path="intro-example.html"><a href="intro-example.html#i-e-s-t-read-table"><i class="fa fa-check"></i><b>2.8.2</b> 读入表格数据</a></li>
<li class="chapter" data-level="2.8.3" data-path="intro-example.html"><a href="intro-example.html#i-e-s-ex"><i class="fa fa-check"></i><b>2.8.3</b> 练习</a></li>
<li class="chapter" data-level="2.8.4" data-path="intro-example.html"><a href="intro-example.html#i-e-s-qual-freq"><i class="fa fa-check"></i><b>2.8.4</b> 分类变量频数统计</a></li>
<li class="chapter" data-level="2.8.5" data-path="intro-example.html"><a href="intro-example.html#i-e-s-num-summ"><i class="fa fa-check"></i><b>2.8.5</b> 数值型变量的统计</a></li>
<li class="chapter" data-level="2.8.6" data-path="intro-example.html"><a href="intro-example.html#i-e-s-ex2"><i class="fa fa-check"></i><b>2.8.6</b> 练习</a></li>
</ul></li>
<li class="chapter" data-level="2.9" data-path="intro-example.html"><a href="intro-example.html#i-e-source"><i class="fa fa-check"></i><b>2.9</b> 运行源程序文件</a><ul>
<li class="chapter" data-level="2.9.1" data-path="intro-example.html"><a href="intro-example.html#i-e-source-enc"><i class="fa fa-check"></i><b>2.9.1</b> 源文件编码</a></li>
<li class="chapter" data-level="2.9.2" data-path="intro-example.html"><a href="intro-example.html#i-e-cwd"><i class="fa fa-check"></i><b>2.9.2</b> 当前工作目录</a></li>
<li class="chapter" data-level="2.9.3" data-path="intro-example.html"><a href="intro-example.html#i-e-source-ex"><i class="fa fa-check"></i><b>2.9.3</b> 练习</a></li>
</ul></li>
<li class="chapter" data-level="2.10" data-path="intro-example.html"><a href="intro-example.html#i-e-appendix-data"><i class="fa fa-check"></i><b>2.10</b> 附录：数据</a><ul>
<li class="chapter" data-level="2.10.1" data-path="intro-example.html"><a href="intro-example.html#i-e-appendix-data-tax"><i class="fa fa-check"></i><b>2.10.1</b> 公司纳税数据样例</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>II 数据类型与相应的运算</b></span></li>
<li class="chapter" data-level="3" data-path="prog-type-intro.html"><a href="prog-type-intro.html"><i class="fa fa-check"></i><b>3</b> 常量与变量</a><ul>
<li class="chapter" data-level="3.1" data-path="prog-type-intro.html"><a href="prog-type-intro.html#p-t-const"><i class="fa fa-check"></i><b>3.1</b> 常量</a></li>
<li class="chapter" data-level="3.2" data-path="prog-type-intro.html"><a href="prog-type-intro.html#p-t-cv-var"><i class="fa fa-check"></i><b>3.2</b> 变量</a></li>
<li class="chapter" data-level="3.3" data-path="prog-type-intro.html"><a href="prog-type-intro.html#p-t-type"><i class="fa fa-check"></i><b>3.3</b> R数据类型</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="prog-type-num.html"><a href="prog-type-num.html"><i class="fa fa-check"></i><b>4</b> 数值型向量及其运算</a><ul>
<li class="chapter" data-level="4.1" data-path="prog-type-num.html"><a href="prog-type-num.html#p-t-num"><i class="fa fa-check"></i><b>4.1</b> 数值型向量</a></li>
<li class="chapter" data-level="4.2" data-path="prog-type-num.html"><a href="prog-type-num.html#p-t-arith"><i class="fa fa-check"></i><b>4.2</b> 向量运算</a><ul>
<li class="chapter" data-level="4.2.1" data-path="prog-type-num.html"><a href="prog-type-num.html#p-t-arith-scalar"><i class="fa fa-check"></i><b>4.2.1</b> 标量和标量运算</a></li>
<li class="chapter" data-level="4.2.2" data-path="prog-type-num.html"><a href="prog-type-num.html#p-t-arith-vec-with-scalar"><i class="fa fa-check"></i><b>4.2.2</b> 向量与标量运算</a></li>
<li class="chapter" data-level="4.2.3" data-path="prog-type-num.html"><a href="prog-type-num.html#p-t-arith-vec-eq-len"><i class="fa fa-check"></i><b>4.2.3</b> 等长向量运算</a></li>
<li class="chapter" data-level="4.2.4" data-path="prog-type-num.html"><a href="prog-type-num.html#p-t-arith-vec-uneq-len"><i class="fa fa-check"></i><b>4.2.4</b> 不等长向量的运算</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="prog-type-num.html"><a href="prog-type-num.html#p-t-vfunc"><i class="fa fa-check"></i><b>4.3</b> 向量函数</a><ul>
<li class="chapter" data-level="4.3.1" data-path="prog-type-num.html"><a href="prog-type-num.html#p-t-vfunc-vector-func"><i class="fa fa-check"></i><b>4.3.1</b> 向量化的函数</a></li>
<li class="chapter" data-level="4.3.2" data-path="prog-type-num.html"><a href="prog-type-num.html#p-t-vfunc-sort"><i class="fa fa-check"></i><b>4.3.2</b> 排序函数</a></li>
<li class="chapter" data-level="4.3.3" data-path="prog-type-num.html"><a href="prog-type-num.html#p-t-vfunc-stat"><i class="fa fa-check"></i><b>4.3.3</b> 统计函数</a></li>
<li class="chapter" data-level="4.3.4" data-path="prog-type-num.html"><a href="prog-type-num.html#p-t-vfunc-seq"><i class="fa fa-check"></i><b>4.3.4</b> 生成规则序列的函数</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="prog-type-num.html"><a href="prog-type-num.html#p-t-complex"><i class="fa fa-check"></i><b>4.4</b> 复数向量</a></li>
<li class="chapter" data-level="4.5" data-path="prog-type-num.html"><a href="prog-type-num.html#p-t-vfunc-ex"><i class="fa fa-check"></i><b>4.5</b> 练习</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="prog-type-logi.html"><a href="prog-type-logi.html"><i class="fa fa-check"></i><b>5</b> 逻辑型向量及其运算</a><ul>
<li class="chapter" data-level="5.1" data-path="prog-type-logi.html"><a href="prog-type-logi.html#p-t-logical-vec"><i class="fa fa-check"></i><b>5.1</b> 逻辑型向量与比较运算</a></li>
<li class="chapter" data-level="5.2" data-path="prog-type-logi.html"><a href="prog-type-logi.html#p-t-lvec-logic-op"><i class="fa fa-check"></i><b>5.2</b> 逻辑运算</a></li>
<li class="chapter" data-level="5.3" data-path="prog-type-logi.html"><a href="prog-type-logi.html#p-t-lvec-logic-op-vec"><i class="fa fa-check"></i><b>5.3</b> 逻辑运算函数</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="prog-type-char.html"><a href="prog-type-char.html"><i class="fa fa-check"></i><b>6</b> 字符型数据及其处理</a><ul>
<li class="chapter" data-level="6.1" data-path="prog-type-char.html"><a href="prog-type-char.html#p-t-char"><i class="fa fa-check"></i><b>6.1</b> 字符型向量</a></li>
<li class="chapter" data-level="6.2" data-path="prog-type-char.html"><a href="prog-type-char.html#p-t-char-paste"><i class="fa fa-check"></i><b>6.2</b> <code>paste()</code>函数</a></li>
<li class="chapter" data-level="6.3" data-path="prog-type-char.html"><a href="prog-type-char.html#p-t-char-toupper"><i class="fa fa-check"></i><b>6.3</b> 转换大小写</a></li>
<li class="chapter" data-level="6.4" data-path="prog-type-char.html"><a href="prog-type-char.html#p-t-char-nchar"><i class="fa fa-check"></i><b>6.4</b> 字符串长度</a></li>
<li class="chapter" data-level="6.5" data-path="prog-type-char.html"><a href="prog-type-char.html#p-t-char-substr"><i class="fa fa-check"></i><b>6.5</b> 取子串</a></li>
<li class="chapter" data-level="6.6" data-path="prog-type-char.html"><a href="prog-type-char.html#p-t-char-asnum"><i class="fa fa-check"></i><b>6.6</b> 类型转换</a></li>
<li class="chapter" data-level="6.7" data-path="prog-type-char.html"><a href="prog-type-char.html#p-t-char-strsplit"><i class="fa fa-check"></i><b>6.7</b> 字符串拆分</a></li>
<li class="chapter" data-level="6.8" data-path="prog-type-char.html"><a href="prog-type-char.html#p-t-char-gsub"><i class="fa fa-check"></i><b>6.8</b> 字符串替换功能</a></li>
<li class="chapter" data-level="6.9" data-path="prog-type-char.html"><a href="prog-type-char.html#p-t-char-regexp"><i class="fa fa-check"></i><b>6.9</b> 正则表达式</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="prog-type-index.html"><a href="prog-type-index.html"><i class="fa fa-check"></i><b>7</b> R向量下标和子集</a><ul>
<li class="chapter" data-level="7.1" data-path="prog-type-index.html"><a href="prog-type-index.html#p-t-subset-int"><i class="fa fa-check"></i><b>7.1</b> 正整数下标</a></li>
<li class="chapter" data-level="7.2" data-path="prog-type-index.html"><a href="prog-type-index.html#p-t-subset-negint"><i class="fa fa-check"></i><b>7.2</b> 负整数下标</a></li>
<li class="chapter" data-level="7.3" data-path="prog-type-index.html"><a href="prog-type-index.html#p-t-subset-all"><i class="fa fa-check"></i><b>7.3</b> 空下标与零下标</a></li>
<li class="chapter" data-level="7.4" data-path="prog-type-index.html"><a href="prog-type-index.html#p-t-subset-over"><i class="fa fa-check"></i><b>7.4</b> 下标超界</a></li>
<li class="chapter" data-level="7.5" data-path="prog-type-index.html"><a href="prog-type-index.html#p-t-subset-logic"><i class="fa fa-check"></i><b>7.5</b> 逻辑下标</a></li>
<li class="chapter" data-level="7.6" data-path="prog-type-index.html"><a href="prog-type-index.html#p-t-subset-which"><i class="fa fa-check"></i><b>7.6</b> <code>which()</code>、<code>which.min()</code>、<code>which.max()</code>函数</a></li>
<li class="chapter" data-level="7.7" data-path="prog-type-index.html"><a href="prog-type-index.html#p-t-subset-names"><i class="fa fa-check"></i><b>7.7</b> 元素名</a></li>
<li class="chapter" data-level="7.8" data-path="prog-type-index.html"><a href="prog-type-index.html#p-t-subset-mapping"><i class="fa fa-check"></i><b>7.8</b> 用R向量下标作映射</a></li>
<li class="chapter" data-level="7.9" data-path="prog-type-index.html"><a href="prog-type-index.html#p-t-subset-set"><i class="fa fa-check"></i><b>7.9</b> 集合运算</a></li>
<li class="chapter" data-level="7.10" data-path="prog-type-index.html"><a href="prog-type-index.html#p-t-set-ex"><i class="fa fa-check"></i><b>7.10</b> 练习</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="prog-type-attr.html"><a href="prog-type-attr.html"><i class="fa fa-check"></i><b>8</b> R数据类型的性质</a><ul>
<li class="chapter" data-level="8.1" data-path="prog-type-attr.html"><a href="prog-type-attr.html#p-t-modes-typeof"><i class="fa fa-check"></i><b>8.1</b> 存储模式与基本类型</a></li>
<li class="chapter" data-level="8.2" data-path="prog-type-attr.html"><a href="prog-type-attr.html#p-t-modes-as"><i class="fa fa-check"></i><b>8.2</b> 类型转换与类型升档</a></li>
<li class="chapter" data-level="8.3" data-path="prog-type-attr.html"><a href="prog-type-attr.html#p-t-modes-attr"><i class="fa fa-check"></i><b>8.3</b> 属性</a><ul>
<li class="chapter" data-level="8.3.1" data-path="prog-type-attr.html"><a href="prog-type-attr.html#p-t-modes-attr-asfun"><i class="fa fa-check"></i><b>8.3.1</b> <code>attributes</code>函数</a></li>
<li class="chapter" data-level="8.3.2" data-path="prog-type-attr.html"><a href="prog-type-attr.html#p-t-modes-attr-attrfun"><i class="fa fa-check"></i><b>8.3.2</b> <code>attr</code>函数</a></li>
<li class="chapter" data-level="8.3.3" data-path="prog-type-attr.html"><a href="prog-type-attr.html#p-t-modes-attr-names"><i class="fa fa-check"></i><b>8.3.3</b> <code>names</code>属性</a></li>
<li class="chapter" data-level="8.3.4" data-path="prog-type-attr.html"><a href="prog-type-attr.html#p-t-modes-attr-dim"><i class="fa fa-check"></i><b>8.3.4</b> <code>dim</code>属性</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="prog-type-attr.html"><a href="prog-type-attr.html#p-t-modes-class"><i class="fa fa-check"></i><b>8.4</b> 类属</a></li>
<li class="chapter" data-level="8.5" data-path="prog-type-attr.html"><a href="prog-type-attr.html#p-t-modes-str"><i class="fa fa-check"></i><b>8.5</b> <code>str()</code>函数</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="prog-type-date.html"><a href="prog-type-date.html"><i class="fa fa-check"></i><b>9</b> R日期时间</a><ul>
<li class="chapter" data-level="9.1" data-path="prog-type-date.html"><a href="prog-type-date.html#prog-type-dt-intro"><i class="fa fa-check"></i><b>9.1</b> R日期和日期时间类型</a></li>
<li class="chapter" data-level="9.2" data-path="prog-type-date.html"><a href="prog-type-date.html#prog-type-dt-fromchr"><i class="fa fa-check"></i><b>9.2</b> 从字符串生成日期数据</a></li>
<li class="chapter" data-level="9.3" data-path="prog-type-date.html"><a href="prog-type-date.html#p-t-date-format"><i class="fa fa-check"></i><b>9.3</b> 日期显示格式</a></li>
<li class="chapter" data-level="9.4" data-path="prog-type-date.html"><a href="prog-type-date.html#p-t-date-comp"><i class="fa fa-check"></i><b>9.4</b> 访问日期时间的组成值</a></li>
<li class="chapter" data-level="9.5" data-path="prog-type-date.html"><a href="prog-type-date.html#p-t-date-round"><i class="fa fa-check"></i><b>9.5</b> 日期舍入计算</a></li>
<li class="chapter" data-level="9.6" data-path="prog-type-date.html"><a href="prog-type-date.html#p-t-date-calc"><i class="fa fa-check"></i><b>9.6</b> 日期计算</a><ul>
<li class="chapter" data-level="9.6.1" data-path="prog-type-date.html"><a href="prog-type-date.html#p-t-date-calc-dur"><i class="fa fa-check"></i><b>9.6.1</b> 时间长度</a></li>
<li class="chapter" data-level="9.6.2" data-path="prog-type-date.html"><a href="prog-type-date.html#p-t-date-calc-per"><i class="fa fa-check"></i><b>9.6.2</b> 时间周期</a></li>
<li class="chapter" data-level="9.6.3" data-path="prog-type-date.html"><a href="prog-type-date.html#p-t-date-calc-int"><i class="fa fa-check"></i><b>9.6.3</b> 时间区间</a></li>
</ul></li>
<li class="chapter" data-level="9.7" data-path="prog-type-date.html"><a href="prog-type-date.html#prog-type-dt-baser"><i class="fa fa-check"></i><b>9.7</b> 基本R软件的日期功能</a><ul>
<li class="chapter" data-level="9.7.1" data-path="prog-type-date.html"><a href="prog-type-date.html#p-t-date-baser-gen"><i class="fa fa-check"></i><b>9.7.1</b> 生成日期和日期时间型数据</a></li>
<li class="chapter" data-level="9.7.2" data-path="prog-type-date.html"><a href="prog-type-date.html#p-t-date-baser-comp"><i class="fa fa-check"></i><b>9.7.2</b> 取出日期时间的组成值</a></li>
<li class="chapter" data-level="9.7.3" data-path="prog-type-date.html"><a href="prog-type-date.html#p-t-date-baser-calc"><i class="fa fa-check"></i><b>9.7.3</b> 日期计算</a></li>
</ul></li>
<li class="chapter" data-level="9.8" data-path="prog-type-date.html"><a href="prog-type-date.html#p-t-date-ex"><i class="fa fa-check"></i><b>9.8</b> 练习</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="prog-type-fact.html"><a href="prog-type-fact.html"><i class="fa fa-check"></i><b>10</b> R因子类型</a><ul>
<li class="chapter" data-level="10.1" data-path="prog-type-fact.html"><a href="prog-type-fact.html#p-t-fact"><i class="fa fa-check"></i><b>10.1</b> 因子</a></li>
<li class="chapter" data-level="10.2" data-path="prog-type-fact.html"><a href="prog-type-fact.html#p-t-factor-table"><i class="fa fa-check"></i><b>10.2</b> <code>table()</code>函数</a></li>
<li class="chapter" data-level="10.3" data-path="prog-type-fact.html"><a href="prog-type-fact.html#p-t-factor-tapply"><i class="fa fa-check"></i><b>10.3</b> <code>tapply()</code>函数</a></li>
<li class="chapter" data-level="10.4" data-path="prog-type-fact.html"><a href="prog-type-fact.html#summ-by-forcats"><i class="fa fa-check"></i><b>10.4</b> forcats包的因子函数</a></li>
<li class="chapter" data-level="10.5" data-path="prog-type-fact.html"><a href="prog-type-fact.html#p-t-factor-ex"><i class="fa fa-check"></i><b>10.5</b> 练习</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="prog-type-list.html"><a href="prog-type-list.html"><i class="fa fa-check"></i><b>11</b> 列表类型</a><ul>
<li class="chapter" data-level="11.1" data-path="prog-type-list.html"><a href="prog-type-list.html#p-t-list"><i class="fa fa-check"></i><b>11.1</b> 列表</a></li>
<li class="chapter" data-level="11.2" data-path="prog-type-list.html"><a href="prog-type-list.html#p-t-list-access"><i class="fa fa-check"></i><b>11.2</b> 列表元素访问</a></li>
<li class="chapter" data-level="11.3" data-path="prog-type-list.html"><a href="prog-type-list.html#p-t-list-as"><i class="fa fa-check"></i><b>11.3</b> 列表类型转换</a></li>
<li class="chapter" data-level="11.4" data-path="prog-type-list.html"><a href="prog-type-list.html#p-t-list-ex-strsplit"><i class="fa fa-check"></i><b>11.4</b> 返回列表的函数示例–<code>strsplit()</code></a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="prog-type-matrix.html"><a href="prog-type-matrix.html"><i class="fa fa-check"></i><b>12</b> R矩阵和数组</a><ul>
<li class="chapter" data-level="12.1" data-path="prog-type-matrix.html"><a href="prog-type-matrix.html#p-t-array-matrix"><i class="fa fa-check"></i><b>12.1</b> R矩阵</a></li>
<li class="chapter" data-level="12.2" data-path="prog-type-matrix.html"><a href="prog-type-matrix.html#p-t-array-subset"><i class="fa fa-check"></i><b>12.2</b> 矩阵子集</a></li>
<li class="chapter" data-level="12.3" data-path="prog-type-matrix.html"><a href="prog-type-matrix.html#p-t-array-cbind"><i class="fa fa-check"></i><b>12.3</b> <code>cbind()</code>和<code>rbind()</code>函数</a></li>
<li class="chapter" data-level="12.4" data-path="prog-type-matrix.html"><a href="prog-type-matrix.html#p-t-array-matop"><i class="fa fa-check"></i><b>12.4</b> 矩阵运算</a><ul>
<li class="chapter" data-level="12.4.1" data-path="prog-type-matrix.html"><a href="prog-type-matrix.html#p-t-array-matop-arith"><i class="fa fa-check"></i><b>12.4.1</b> 四则运算</a></li>
<li class="chapter" data-level="12.4.2" data-path="prog-type-matrix.html"><a href="prog-type-matrix.html#p-t-array-matop-mult"><i class="fa fa-check"></i><b>12.4.2</b> 矩阵乘法</a></li>
<li class="chapter" data-level="12.4.3" data-path="prog-type-matrix.html"><a href="prog-type-matrix.html#p-t-array-matop-vecmat"><i class="fa fa-check"></i><b>12.4.3</b> 向量与矩阵相乘</a></li>
<li class="chapter" data-level="12.4.4" data-path="prog-type-matrix.html"><a href="prog-type-matrix.html#p-t-array-matop-inprod"><i class="fa fa-check"></i><b>12.4.4</b> 内积</a></li>
<li class="chapter" data-level="12.4.5" data-path="prog-type-matrix.html"><a href="prog-type-matrix.html#p-t-array-matop-outer"><i class="fa fa-check"></i><b>12.4.5</b> 外积</a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="prog-type-matrix.html"><a href="prog-type-matrix.html#p-t-array-solve"><i class="fa fa-check"></i><b>12.5</b> 逆矩阵与线性方程组求解</a></li>
<li class="chapter" data-level="12.6" data-path="prog-type-matrix.html"><a href="prog-type-matrix.html#p-t-array-apply"><i class="fa fa-check"></i><b>12.6</b> <code>apply()</code>函数</a></li>
<li class="chapter" data-level="12.7" data-path="prog-type-matrix.html"><a href="prog-type-matrix.html#p-t-array-array"><i class="fa fa-check"></i><b>12.7</b> 多维数组</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="prog-type-df.html"><a href="prog-type-df.html"><i class="fa fa-check"></i><b>13</b> 数据框</a><ul>
<li class="chapter" data-level="13.1" data-path="prog-type-df.html"><a href="prog-type-df.html#p-t-dataframe"><i class="fa fa-check"></i><b>13.1</b> 数据框</a></li>
<li class="chapter" data-level="13.2" data-path="prog-type-df.html"><a href="prog-type-df.html#p-t-df-access"><i class="fa fa-check"></i><b>13.2</b> 数据框内容访问</a></li>
<li class="chapter" data-level="13.3" data-path="prog-type-df.html"><a href="prog-type-df.html#p-t-df-rownames"><i class="fa fa-check"></i><b>13.3</b> 数据框的行名</a></li>
<li class="chapter" data-level="13.4" data-path="prog-type-df.html"><a href="prog-type-df.html#p-t-df-notmatrix"><i class="fa fa-check"></i><b>13.4</b> 数据框与矩阵的区别</a></li>
<li class="chapter" data-level="13.5" data-path="prog-type-df.html"><a href="prog-type-df.html#p-t-df-gl-func"><i class="fa fa-check"></i><b>13.5</b> <code>tidyr::expand_grid()</code>函数</a></li>
<li class="chapter" data-level="13.6" data-path="prog-type-df.html"><a href="prog-type-df.html#p-t-tibble"><i class="fa fa-check"></i><b>13.6</b> <code>tibble</code>类型</a></li>
<li class="chapter" data-level="13.7" data-path="prog-type-df.html"><a href="prog-type-df.html#p-t-df-ex"><i class="fa fa-check"></i><b>13.7</b> 练习</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="prog-type-ws.html"><a href="prog-type-ws.html"><i class="fa fa-check"></i><b>14</b> 工作空间和变量赋值</a><ul>
<li class="chapter" data-level="14.1" data-path="prog-type-ws.html"><a href="prog-type-ws.html#p-t-ws"><i class="fa fa-check"></i><b>14.1</b> 工作空间</a></li>
<li class="chapter" data-level="14.2" data-path="prog-type-ws.html"><a href="prog-type-ws.html#p-t-nlvname"><i class="fa fa-check"></i><b>14.2</b> 非法变量名</a></li>
<li class="chapter" data-level="14.3" data-path="prog-type-ws.html"><a href="prog-type-ws.html#p-t-ws-asign"><i class="fa fa-check"></i><b>14.3</b> 变量赋值与绑定</a></li>
<li class="chapter" data-level="14.4" data-path="prog-type-ws.html"><a href="prog-type-ws.html#p-t-ws-env"><i class="fa fa-check"></i><b>14.4</b> 环境</a></li>
</ul></li>
<li class="part"><span><b>III 编程</b></span></li>
<li class="chapter" data-level="15" data-path="prog-io.html"><a href="prog-io.html"><i class="fa fa-check"></i><b>15</b> R输入输出</a><ul>
<li class="chapter" data-level="15.1" data-path="prog-io.html"><a href="prog-io.html#p-io-simple"><i class="fa fa-check"></i><b>15.1</b> 输入输出的简单方法</a><ul>
<li class="chapter" data-level="15.1.1" data-path="prog-io.html"><a href="prog-io.html#p-io-simple-out"><i class="fa fa-check"></i><b>15.1.1</b> 简单的输出</a></li>
<li class="chapter" data-level="15.1.2" data-path="prog-io.html"><a href="prog-io.html#p-io-simple-input"><i class="fa fa-check"></i><b>15.1.2</b> 简单的输入</a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="prog-io.html"><a href="prog-io.html#p-io-read-csv"><i class="fa fa-check"></i><b>15.2</b> 读取CSV文件</a><ul>
<li class="chapter" data-level="15.2.1" data-path="prog-io.html"><a href="prog-io.html#p-io-read-csv-format"><i class="fa fa-check"></i><b>15.2.1</b> CSV格式</a></li>
<li class="chapter" data-level="15.2.2" data-path="prog-io.html"><a href="prog-io.html#p-io-read-csv-fromstr"><i class="fa fa-check"></i><b>15.2.2</b> 从字符串读入</a></li>
<li class="chapter" data-level="15.2.3" data-path="prog-io.html"><a href="prog-io.html#p-io-read-csv-opt"><i class="fa fa-check"></i><b>15.2.3</b> <code>read_csv</code>选项</a></li>
<li class="chapter" data-level="15.2.4" data-path="prog-io.html"><a href="prog-io.html#p-io-read-csv-enc"><i class="fa fa-check"></i><b>15.2.4</b> 编码设置</a></li>
<li class="chapter" data-level="15.2.5" data-path="prog-io.html"><a href="prog-io.html#p-io-read-csv-na"><i class="fa fa-check"></i><b>15.2.5</b> 缺失值设置</a></li>
<li class="chapter" data-level="15.2.6" data-path="prog-io.html"><a href="prog-io.html#p-io-read-csv-colt"><i class="fa fa-check"></i><b>15.2.6</b> 各列类型设置</a></li>
<li class="chapter" data-level="15.2.7" data-path="prog-io.html"><a href="prog-io.html#p-io-read-csv-fact"><i class="fa fa-check"></i><b>15.2.7</b> 因子类型设置</a></li>
<li class="chapter" data-level="15.2.8" data-path="prog-io.html"><a href="prog-io.html#p-io-read-csv-date"><i class="fa fa-check"></i><b>15.2.8</b> 读入日期</a></li>
<li class="chapter" data-level="15.2.9" data-path="prog-io.html"><a href="prog-io.html#p-io-read-csv-funcs"><i class="fa fa-check"></i><b>15.2.9</b> 其它函数</a></li>
</ul></li>
<li class="chapter" data-level="15.3" data-path="prog-io.html"><a href="prog-io.html#p-io-excel"><i class="fa fa-check"></i><b>15.3</b> Excel表访问</a><ul>
<li class="chapter" data-level="15.3.1" data-path="prog-io.html"><a href="prog-io.html#p-io-excel-csv"><i class="fa fa-check"></i><b>15.3.1</b> 借助于文本格式</a></li>
<li class="chapter" data-level="15.3.2" data-path="prog-io.html"><a href="prog-io.html#p-io-excel-clip"><i class="fa fa-check"></i><b>15.3.2</b> 使用剪贴板</a></li>
<li class="chapter" data-level="15.3.3" data-path="prog-io.html"><a href="prog-io.html#p-io-excel-readxl"><i class="fa fa-check"></i><b>15.3.3</b> 利用readxl扩展包</a></li>
</ul></li>
<li class="chapter" data-level="15.4" data-path="prog-io.html"><a href="prog-io.html#p-io-file"><i class="fa fa-check"></i><b>15.4</b> 文件访问</a><ul>
<li class="chapter" data-level="15.4.1" data-path="prog-io.html"><a href="prog-io.html#p-io-file-conn"><i class="fa fa-check"></i><b>15.4.1</b> 连接</a></li>
<li class="chapter" data-level="15.4.2" data-path="prog-io.html"><a href="prog-io.html#p-io-file-text"><i class="fa fa-check"></i><b>15.4.2</b> 文本文件访问</a></li>
<li class="chapter" data-level="15.4.3" data-path="prog-io.html"><a href="prog-io.html#p-io-enc-batch"><i class="fa fa-check"></i><b>15.4.3</b> 文本文件分批读写</a></li>
<li class="chapter" data-level="15.4.4" data-path="prog-io.html"><a href="prog-io.html#p-io-file-bin"><i class="fa fa-check"></i><b>15.4.4</b> 二进制文件访问</a></li>
<li class="chapter" data-level="15.4.5" data-path="prog-io.html"><a href="prog-io.html#p-io-file-textcon"><i class="fa fa-check"></i><b>15.4.5</b> 字符型连接</a></li>
</ul></li>
<li class="chapter" data-level="15.5" data-path="prog-io.html"><a href="prog-io.html#p-io-enc"><i class="fa fa-check"></i><b>15.5</b> 中文编码问题</a><ul>
<li class="chapter" data-level="15.5.1" data-path="prog-io.html"><a href="prog-io.html#p-io-enc-base"><i class="fa fa-check"></i><b>15.5.1</b> 用基本R的读取函数读取</a></li>
<li class="chapter" data-level="15.5.2" data-path="prog-io.html"><a href="prog-io.html#p-io-enc-readr"><i class="fa fa-check"></i><b>15.5.2</b> 用readr包读取</a></li>
<li class="chapter" data-level="15.5.3" data-path="prog-io.html"><a href="prog-io.html#p-io-enc-write"><i class="fa fa-check"></i><b>15.5.3</b> 输出文件的编码</a></li>
</ul></li>
<li class="chapter" data-level="15.6" data-path="prog-io.html"><a href="prog-io.html#p-io-dir"><i class="fa fa-check"></i><b>15.6</b> 目录和文件管理</a></li>
<li class="chapter" data-level="15.7" data-path="prog-io.html"><a href="prog-io.html#p-io-db"><i class="fa fa-check"></i><b>15.7</b> SQL数据库访问</a><ul>
<li class="chapter" data-level="15.7.1" data-path="prog-io.html"><a href="prog-io.html#p-io-db-intro"><i class="fa fa-check"></i><b>15.7.1</b> 介绍</a></li>
<li class="chapter" data-level="15.7.2" data-path="prog-io.html"><a href="prog-io.html#p-io-db-sqlite"><i class="fa fa-check"></i><b>15.7.2</b> SQLite数据库访问</a></li>
<li class="chapter" data-level="15.7.3" data-path="prog-io.html"><a href="prog-io.html#p-io-db-sql"><i class="fa fa-check"></i><b>15.7.3</b> SQL命令简介</a></li>
<li class="chapter" data-level="15.7.4" data-path="prog-io.html"><a href="prog-io.html#p-io-db-oracle"><i class="fa fa-check"></i><b>15.7.4</b> 访问Oracle数据库</a></li>
<li class="chapter" data-level="15.7.5" data-path="prog-io.html"><a href="prog-io.html#p-io-db-mysql"><i class="fa fa-check"></i><b>15.7.5</b> MySQL数据库访问</a></li>
<li class="chapter" data-level="15.7.6" data-path="prog-io.html"><a href="prog-io.html#p-io-excel-rodbc"><i class="fa fa-check"></i><b>15.7.6</b> 利用RODBC访问Access数据库</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="prog-control.html"><a href="prog-control.html"><i class="fa fa-check"></i><b>16</b> 程序控制结构</a><ul>
<li class="chapter" data-level="16.1" data-path="prog-control.html"><a href="prog-control.html#p-con-exp"><i class="fa fa-check"></i><b>16.1</b> 表达式</a></li>
<li class="chapter" data-level="16.2" data-path="prog-control.html"><a href="prog-control.html#p-con-if"><i class="fa fa-check"></i><b>16.2</b> 分支结构</a><ul>
<li class="chapter" data-level="16.2.1" data-path="prog-control.html"><a href="prog-control.html#p-con-logic-index"><i class="fa fa-check"></i><b>16.2.1</b> 用逻辑下标代替分支结构</a></li>
<li class="chapter" data-level="16.2.2" data-path="prog-control.html"><a href="prog-control.html#p-con-ifelsef"><i class="fa fa-check"></i><b>16.2.2</b> <code>ifelse</code>函数</a></li>
<li class="chapter" data-level="16.2.3" data-path="prog-control.html"><a href="prog-control.html#p-con-switch"><i class="fa fa-check"></i><b>16.2.3</b> <code>switch</code>函数</a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="prog-control.html"><a href="prog-control.html#p-con-loop"><i class="fa fa-check"></i><b>16.3</b> 循环结构</a><ul>
<li class="chapter" data-level="16.3.1" data-path="prog-control.html"><a href="prog-control.html#p-con-for"><i class="fa fa-check"></i><b>16.3.1</b> 计数循环</a></li>
<li class="chapter" data-level="16.3.2" data-path="prog-control.html"><a href="prog-control.html#p-con-while"><i class="fa fa-check"></i><b>16.3.2</b> <code>while</code>循环和<code>repeat</code>循环</a></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="prog-control.html"><a href="prog-control.html#p-con-cond"><i class="fa fa-check"></i><b>16.4</b> R中判断条件</a></li>
<li class="chapter" data-level="16.5" data-path="prog-control.html"><a href="prog-control.html#p-pipe"><i class="fa fa-check"></i><b>16.5</b> 管道控制</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="prog-func.html"><a href="prog-func.html"><i class="fa fa-check"></i><b>17</b> 函数</a><ul>
<li class="chapter" data-level="17.1" data-path="prog-func.html"><a href="prog-func.html#p-func"><i class="fa fa-check"></i><b>17.1</b> 函数基础</a><ul>
<li class="chapter" data-level="17.1.1" data-path="prog-func.html"><a href="prog-func.html#p-func-intro"><i class="fa fa-check"></i><b>17.1.1</b> 介绍</a></li>
<li class="chapter" data-level="17.1.2" data-path="prog-func.html"><a href="prog-func.html#p-func-def"><i class="fa fa-check"></i><b>17.1.2</b> 函数定义</a></li>
<li class="chapter" data-level="17.1.3" data-path="prog-func.html"><a href="prog-func.html#p-func-call"><i class="fa fa-check"></i><b>17.1.3</b> 函数调用</a></li>
<li class="chapter" data-level="17.1.4" data-path="prog-func.html"><a href="prog-func.html#p-func-recursive"><i class="fa fa-check"></i><b>17.1.4</b> 递归调用</a></li>
<li class="chapter" data-level="17.1.5" data-path="prog-func.html"><a href="prog-func.html#p-func-vr"><i class="fa fa-check"></i><b>17.1.5</b> 向量化</a></li>
<li class="chapter" data-level="17.1.6" data-path="prog-func.html"><a href="prog-func.html#p-func-anonymf"><i class="fa fa-check"></i><b>17.1.6</b> 无名函数</a></li>
</ul></li>
<li class="chapter" data-level="17.2" data-path="prog-func.html"><a href="prog-func.html#p-func-space"><i class="fa fa-check"></i><b>17.2</b> 变量作用域</a><ul>
<li class="chapter" data-level="17.2.1" data-path="prog-func.html"><a href="prog-func.html#p-func-global"><i class="fa fa-check"></i><b>17.2.1</b> 全局变量和工作空间</a></li>
<li class="chapter" data-level="17.2.2" data-path="prog-func.html"><a href="prog-func.html#p-func-local"><i class="fa fa-check"></i><b>17.2.2</b> 局部变量</a></li>
<li class="chapter" data-level="17.2.3" data-path="prog-func.html"><a href="prog-func.html#p-func-global-access"><i class="fa fa-check"></i><b>17.2.3</b> 在函数内访问全局变量</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="18" data-path="prog-prof.html"><a href="prog-prof.html"><i class="fa fa-check"></i><b>18</b> R程序效率</a><ul>
<li class="chapter" data-level="18.1" data-path="prog-prof.html"><a href="prog-prof.html#p-prof-effic"><i class="fa fa-check"></i><b>18.1</b> R的运行效率</a></li>
<li class="chapter" data-level="18.2" data-path="prog-prof.html"><a href="prog-prof.html#p-prof-vect"><i class="fa fa-check"></i><b>18.2</b> 向量化编程</a><ul>
<li class="chapter" data-level="18.2.1" data-path="prog-prof.html"><a href="prog-prof.html#p-prof-vect-ex1"><i class="fa fa-check"></i><b>18.2.1</b> 示例1</a></li>
<li class="chapter" data-level="18.2.2" data-path="prog-prof.html"><a href="prog-prof.html#p-prof-vect-ex2"><i class="fa fa-check"></i><b>18.2.2</b> 示例2</a></li>
<li class="chapter" data-level="18.2.3" data-path="prog-prof.html"><a href="prog-prof.html#p-prof-vect-ex3"><i class="fa fa-check"></i><b>18.2.3</b> 示例3</a></li>
</ul></li>
<li class="chapter" data-level="18.3" data-path="prog-prof.html"><a href="prog-prof.html#p-prof-loop"><i class="fa fa-check"></i><b>18.3</b> 减少显式循环</a><ul>
<li class="chapter" data-level="18.3.1" data-path="prog-prof.html"><a href="prog-prof.html#p-prof-replicate"><i class="fa fa-check"></i><b>18.3.1</b> <code>replicate()</code>函数</a></li>
</ul></li>
<li class="chapter" data-level="18.4" data-path="prog-prof.html"><a href="prog-prof.html#p-prof-copy"><i class="fa fa-check"></i><b>18.4</b> 避免制作副本</a></li>
<li class="chapter" data-level="18.5" data-path="prog-prof.html"><a href="prog-prof.html#p-prof-mathfun"><i class="fa fa-check"></i><b>18.5</b> R的计算函数</a><ul>
<li class="chapter" data-level="18.5.1" data-path="prog-prof.html"><a href="prog-prof.html#p-prof-mathfun-math"><i class="fa fa-check"></i><b>18.5.1</b> 数学函数</a></li>
<li class="chapter" data-level="18.5.2" data-path="prog-prof.html"><a href="prog-prof.html#p-prof-mathfun-sum"><i class="fa fa-check"></i><b>18.5.2</b> 概括函数</a></li>
<li class="chapter" data-level="18.5.3" data-path="prog-prof.html"><a href="prog-prof.html#p-prof-mathfun-max"><i class="fa fa-check"></i><b>18.5.3</b> 最值</a></li>
<li class="chapter" data-level="18.5.4" data-path="prog-prof.html"><a href="prog-prof.html#p-prof-mathfun-sort"><i class="fa fa-check"></i><b>18.5.4</b> 排序</a></li>
<li class="chapter" data-level="18.5.5" data-path="prog-prof.html"><a href="prog-prof.html#p-prof-mathfun-integrate"><i class="fa fa-check"></i><b>18.5.5</b> 一元定积分<code>integrate</code></a></li>
<li class="chapter" data-level="18.5.6" data-path="prog-prof.html"><a href="prog-prof.html#p-prof-mathfun-uniroot"><i class="fa fa-check"></i><b>18.5.6</b> 一元函数求根<code>uniroot</code></a></li>
<li class="chapter" data-level="18.5.7" data-path="prog-prof.html"><a href="prog-prof.html#p-prof-mathfun-fft"><i class="fa fa-check"></i><b>18.5.7</b> 离散傅立叶变换<code>fft</code></a></li>
<li class="chapter" data-level="18.5.8" data-path="prog-prof.html"><a href="prog-prof.html#p-prof-mathfun-filter"><i class="fa fa-check"></i><b>18.5.8</b> 用<code>filter</code>函数作迭代</a></li>
</ul></li>
<li class="chapter" data-level="18.6" data-path="prog-prof.html"><a href="prog-prof.html#p-prof-mcpu"><i class="fa fa-check"></i><b>18.6</b> 并行计算</a><ul>
<li class="chapter" data-level="18.6.1" data-path="prog-prof.html"><a href="prog-prof.html#p-prof-mcpu-ex1"><i class="fa fa-check"></i><b>18.6.1</b> 例1：完全不互相依赖的并行运算</a></li>
<li class="chapter" data-level="18.6.2" data-path="prog-prof.html"><a href="prog-prof.html#p-prof-mcpu-ex2"><i class="fa fa-check"></i><b>18.6.2</b> 例2：使用相同随机数序列的并行计算</a></li>
<li class="chapter" data-level="18.6.3" data-path="prog-prof.html"><a href="prog-prof.html#p-prof-mcpu-ex3"><i class="fa fa-check"></i><b>18.6.3</b> 例3：使用独立随机数序列的并行计算</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="19" data-path="p-advfunc.html"><a href="p-advfunc.html"><i class="fa fa-check"></i><b>19</b> 函数进阶</a><ul>
<li class="chapter" data-level="19.1" data-path="p-advfunc.html"><a href="p-advfunc.html#p-advfunc-callspe"><i class="fa fa-check"></i><b>19.1</b> 函数调用的各种形式</a></li>
<li class="chapter" data-level="19.2" data-path="p-advfunc.html"><a href="p-advfunc.html#p-advfunc-lex"><i class="fa fa-check"></i><b>19.2</b> 嵌套定义与句法作用域(lexical scoping)</a></li>
<li class="chapter" data-level="19.3" data-path="p-advfunc.html"><a href="p-advfunc.html#p-advfunc-inner"><i class="fa fa-check"></i><b>19.3</b> 辅助嵌套函数</a></li>
<li class="chapter" data-level="19.4" data-path="p-advfunc.html"><a href="p-advfunc.html#p-advfunc-lazy"><i class="fa fa-check"></i><b>19.4</b> 懒惰求值</a></li>
<li class="chapter" data-level="19.5" data-path="p-advfunc.html"><a href="p-advfunc.html#p-advfunc-debug"><i class="fa fa-check"></i><b>19.5</b> 程序调试</a><ul>
<li class="chapter" data-level="19.5.1" data-path="p-advfunc.html"><a href="p-advfunc.html#p-advfunc-debug-intro"><i class="fa fa-check"></i><b>19.5.1</b> 基本调试策略</a></li>
<li class="chapter" data-level="19.5.2" data-path="p-advfunc.html"><a href="p-advfunc.html#p-advfunc-debug-findfunc"><i class="fa fa-check"></i><b>19.5.2</b> 找到出错的函数</a></li>
<li class="chapter" data-level="19.5.3" data-path="p-advfunc.html"><a href="p-advfunc.html#p-advfunc-debug-browser"><i class="fa fa-check"></i><b>19.5.3</b> 跟踪调试</a></li>
<li class="chapter" data-level="19.5.4" data-path="p-advfunc.html"><a href="p-advfunc.html#p-advfunc-debug-cond"><i class="fa fa-check"></i><b>19.5.4</b> 条件断点</a></li>
<li class="chapter" data-level="19.5.5" data-path="p-advfunc.html"><a href="p-advfunc.html#p-advfunc-debug-debugf"><i class="fa fa-check"></i><b>19.5.5</b> 开启对一个函数的调试</a></li>
<li class="chapter" data-level="19.5.6" data-path="p-advfunc.html"><a href="p-advfunc.html#p-advfunc-debug-opt"><i class="fa fa-check"></i><b>19.5.6</b> 出错调试选项</a></li>
<li class="chapter" data-level="19.5.7" data-path="p-advfunc.html"><a href="p-advfunc.html#p-advfunc-debug-stop"><i class="fa fa-check"></i><b>19.5.7</b> <code>stop()</code>、<code>warning()</code>、<code>message()</code></a></li>
<li class="chapter" data-level="19.5.8" data-path="p-advfunc.html"><a href="p-advfunc.html#p-advfunc-debug-preventive"><i class="fa fa-check"></i><b>19.5.8</b> 预防性设计</a></li>
<li class="chapter" data-level="19.5.9" data-path="p-advfunc.html"><a href="p-advfunc.html#p-advfunc-debug-try"><i class="fa fa-check"></i><b>19.5.9</b> 出错处理机制</a></li>
</ul></li>
<li class="chapter" data-level="19.6" data-path="p-advfunc.html"><a href="p-advfunc.html#p-advfunc-funcprog"><i class="fa fa-check"></i><b>19.6</b> 函数式编程介绍</a><ul>
<li class="chapter" data-level="19.6.1" data-path="p-advfunc.html"><a href="p-advfunc.html#p-advfunc-pure"><i class="fa fa-check"></i><b>19.6.1</b> 纯函数</a></li>
<li class="chapter" data-level="19.6.2" data-path="p-advfunc.html"><a href="p-advfunc.html#p-advfunc-rec"><i class="fa fa-check"></i><b>19.6.2</b> 副作用和运行环境恢复</a></li>
<li class="chapter" data-level="19.6.3" data-path="p-advfunc.html"><a href="p-advfunc.html#p-advfunc-rsupp"><i class="fa fa-check"></i><b>19.6.3</b> R的函数式编程功能</a></li>
</ul></li>
<li class="chapter" data-level="19.7" data-path="p-advfunc.html"><a href="p-advfunc.html#p-advfunc-functional"><i class="fa fa-check"></i><b>19.7</b> 泛函</a><ul>
<li class="chapter" data-level="19.7.1" data-path="p-advfunc.html"><a href="p-advfunc.html#p-advfunc-fnctnl-map"><i class="fa fa-check"></i><b>19.7.1</b> <code>purrr::map</code>函数</a></li>
<li class="chapter" data-level="19.7.2" data-path="p-advfunc.html"><a href="p-advfunc.html#p-advfunc-fnctnl-mapv"><i class="fa fa-check"></i><b>19.7.2</b> purrr包中<code>map</code>函数的变种</a></li>
<li class="chapter" data-level="19.7.3" data-path="p-advfunc.html"><a href="p-advfunc.html#p-advfunc-fnctnl-reduce"><i class="fa fa-check"></i><b>19.7.3</b> purrr包中<code>reduce</code>类函数</a></li>
<li class="chapter" data-level="19.7.4" data-path="p-advfunc.html"><a href="p-advfunc.html#p-advfunc-fnctnl-pred"><i class="fa fa-check"></i><b>19.7.4</b> purrr包中使用示性函数的泛函</a></li>
<li class="chapter" data-level="19.7.5" data-path="p-advfunc.html"><a href="p-advfunc.html#p-advfunc-fnctnl-lapp"><i class="fa fa-check"></i><b>19.7.5</b> 基本R的函数式编程支持</a></li>
<li class="chapter" data-level="19.7.6" data-path="p-advfunc.html"><a href="p-advfunc.html#p-advfunc-fnctnl-udef"><i class="fa fa-check"></i><b>19.7.6</b> 自定义泛函</a></li>
</ul></li>
<li class="chapter" data-level="19.8" data-path="p-advfunc.html"><a href="p-advfunc.html#p-advfunc-factory"><i class="fa fa-check"></i><b>19.8</b> 函数工厂</a><ul>
<li class="chapter" data-level="19.8.1" data-path="p-advfunc.html"><a href="p-advfunc.html#p-advfunc-factory-clex"><i class="fa fa-check"></i><b>19.8.1</b> 闭包例子</a></li>
<li class="chapter" data-level="19.8.2" data-path="p-advfunc.html"><a href="p-advfunc.html#p-advfunc-factory-lazy"><i class="fa fa-check"></i><b>19.8.2</b> 动态查找和懒惰求值引起的问题</a></li>
<li class="chapter" data-level="19.8.3" data-path="p-advfunc.html"><a href="p-advfunc.html#p-advfunc-factory-mem"><i class="fa fa-check"></i><b>19.8.3</b> 函数工厂的内存负担</a></li>
<li class="chapter" data-level="19.8.4" data-path="p-advfunc.html"><a href="p-advfunc.html#p-advfunc-operator"><i class="fa fa-check"></i><b>19.8.4</b> 函数算子</a></li>
</ul></li>
<li class="chapter" data-level="19.9" data-path="p-advfunc.html"><a href="p-advfunc.html#p-advfunc-env"><i class="fa fa-check"></i><b>19.9</b> 环境</a><ul>
<li class="chapter" data-level="19.9.1" data-path="p-advfunc.html"><a href="p-advfunc.html#p-advfunc-env-def"><i class="fa fa-check"></i><b>19.9.1</b> 基本概念</a></li>
<li class="chapter" data-level="19.9.2" data-path="p-advfunc.html"><a href="p-advfunc.html#p-advfunc-env-recurs"><i class="fa fa-check"></i><b>19.9.2</b> 逐层向上访问环境</a></li>
<li class="chapter" data-level="19.9.3" data-path="p-advfunc.html"><a href="p-advfunc.html#p-advfunc-env-spec"><i class="fa fa-check"></i><b>19.9.3</b> 特殊环境</a></li>
<li class="chapter" data-level="19.9.4" data-path="p-advfunc.html"><a href="p-advfunc.html#p-advfunc-env-callst"><i class="fa fa-check"></i><b>19.9.4</b> 调用栈</a></li>
<li class="chapter" data-level="19.9.5" data-path="p-advfunc.html"><a href="p-advfunc.html#p-advfunc-env-usedt"><i class="fa fa-check"></i><b>19.9.5</b> 将环境用作一般数据结构</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>IV 制作研究报告和图书</b></span></li>
<li class="chapter" data-level="20" data-path="knitr.html"><a href="knitr.html"><i class="fa fa-check"></i><b>20</b> 用R制作研究报告</a></li>
<li class="chapter" data-level="21" data-path="markdown.html"><a href="markdown.html"><i class="fa fa-check"></i><b>21</b> Markdown格式</a><ul>
<li class="chapter" data-level="21.1" data-path="markdown.html"><a href="markdown.html#markdown-intro"><i class="fa fa-check"></i><b>21.1</b> 介绍</a></li>
<li class="chapter" data-level="21.2" data-path="markdown.html"><a href="markdown.html#markdown-app"><i class="fa fa-check"></i><b>21.2</b> Markdown格式文件的应用</a></li>
<li class="chapter" data-level="21.3" data-path="markdown.html"><a href="markdown.html#markdown-format"><i class="fa fa-check"></i><b>21.3</b> markdown格式说明</a><ul>
<li class="chapter" data-level="21.3.1" data-path="markdown.html"><a href="markdown.html#markdown-format-intro"><i class="fa fa-check"></i><b>21.3.1</b> 概述</a></li>
<li class="chapter" data-level="21.3.2" data-path="markdown.html"><a href="markdown.html#markdown-format-paragraph"><i class="fa fa-check"></i><b>21.3.2</b> 段落</a></li>
<li class="chapter" data-level="21.3.3" data-path="markdown.html"><a href="markdown.html#markdown-format-inline"><i class="fa fa-check"></i><b>21.3.3</b> 段内文字格式</a></li>
<li class="chapter" data-level="21.3.4" data-path="markdown.html"><a href="markdown.html#markdown-format-header"><i class="fa fa-check"></i><b>21.3.4</b> 标题和分隔线</a></li>
<li class="chapter" data-level="21.3.5" data-path="markdown.html"><a href="markdown.html#markdown-format-cite"><i class="fa fa-check"></i><b>21.3.5</b> 引用段落</a></li>
<li class="chapter" data-level="21.3.6" data-path="markdown.html"><a href="markdown.html#markdown-format-list"><i class="fa fa-check"></i><b>21.3.6</b> 列表</a></li>
<li class="chapter" data-level="21.3.7" data-path="markdown.html"><a href="markdown.html#markdown-format-code"><i class="fa fa-check"></i><b>21.3.7</b> 源程序</a></li>
<li class="chapter" data-level="21.3.8" data-path="markdown.html"><a href="markdown.html#markdown-format-link"><i class="fa fa-check"></i><b>21.3.8</b> 链接</a></li>
<li class="chapter" data-level="21.3.9" data-path="markdown.html"><a href="markdown.html#markdown-format-fig"><i class="fa fa-check"></i><b>21.3.9</b> 插入图形</a></li>
<li class="chapter" data-level="21.3.10" data-path="markdown.html"><a href="markdown.html#markdown-format-table"><i class="fa fa-check"></i><b>21.3.10</b> 表格</a></li>
</ul></li>
<li class="chapter" data-level="21.4" data-path="markdown.html"><a href="markdown.html#markdown-pandoc"><i class="fa fa-check"></i><b>21.4</b> 附录：pandoc软件介绍</a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="rmarkdown.html"><a href="rmarkdown.html"><i class="fa fa-check"></i><b>22</b> R Markdown文件格式</a><ul>
<li class="chapter" data-level="22.1" data-path="rmarkdown.html"><a href="rmarkdown.html#rmd-intro"><i class="fa fa-check"></i><b>22.1</b> R Markdown文件</a></li>
<li class="chapter" data-level="22.2" data-path="rmarkdown.html"><a href="rmarkdown.html#rmd-compile"><i class="fa fa-check"></i><b>22.2</b> R Markdown文件的编译</a><ul>
<li class="chapter" data-level="22.2.1" data-path="rmarkdown.html"><a href="rmarkdown.html#rmd-compile-proc"><i class="fa fa-check"></i><b>22.2.1</b> 编译的实际过程</a></li>
</ul></li>
<li class="chapter" data-level="22.3" data-path="rmarkdown.html"><a href="rmarkdown.html#rmd-rcode"><i class="fa fa-check"></i><b>22.3</b> 在R Markdown文件中插入R代码</a></li>
<li class="chapter" data-level="22.4" data-path="rmarkdown.html"><a href="rmarkdown.html#rmd-kable"><i class="fa fa-check"></i><b>22.4</b> 输出表格</a></li>
<li class="chapter" data-level="22.5" data-path="rmarkdown.html"><a href="rmarkdown.html#rmd-graph"><i class="fa fa-check"></i><b>22.5</b> 利用R程序插图</a></li>
<li class="chapter" data-level="22.6" data-path="rmarkdown.html"><a href="rmarkdown.html#rmd-rcode-opt"><i class="fa fa-check"></i><b>22.6</b> 代码段选项</a><ul>
<li class="chapter" data-level="22.6.1" data-path="rmarkdown.html"><a href="rmarkdown.html#rmd-rcode-outformat"><i class="fa fa-check"></i><b>22.6.1</b> 代码和文本输出结果格式</a></li>
<li class="chapter" data-level="22.6.2" data-path="rmarkdown.html"><a href="rmarkdown.html#rmd-rcode-figopt"><i class="fa fa-check"></i><b>22.6.2</b> 图形选项</a></li>
<li class="chapter" data-level="22.6.3" data-path="rmarkdown.html"><a href="rmarkdown.html#rmd-rcode-cache"><i class="fa fa-check"></i><b>22.6.3</b> 缓存(cache)选项</a></li>
</ul></li>
<li class="chapter" data-level="22.7" data-path="rmarkdown.html"><a href="rmarkdown.html#rmd--sectionlink"><i class="fa fa-check"></i><b>22.7</b> 章节目录链接问题</a></li>
<li class="chapter" data-level="22.8" data-path="rmarkdown.html"><a href="rmarkdown.html#markdown-formula"><i class="fa fa-check"></i><b>22.8</b> 数学公式</a><ul>
<li class="chapter" data-level="22.8.1" data-path="rmarkdown.html"><a href="rmarkdown.html#markdown-formula-intro"><i class="fa fa-check"></i><b>22.8.1</b> 在Markdown中输入数学公式</a></li>
<li class="chapter" data-level="22.8.2" data-path="rmarkdown.html"><a href="rmarkdown.html#markdown-formula-type"><i class="fa fa-check"></i><b>22.8.2</b> 数学公式类别</a></li>
<li class="chapter" data-level="22.8.3" data-path="rmarkdown.html"><a href="rmarkdown.html#markdown-formula-basic"><i class="fa fa-check"></i><b>22.8.3</b> 基本功能</a></li>
<li class="chapter" data-level="22.8.4" data-path="rmarkdown.html"><a href="rmarkdown.html#markdown-formula-accent"><i class="fa fa-check"></i><b>22.8.4</b> 修饰符</a></li>
<li class="chapter" data-level="22.8.5" data-path="rmarkdown.html"><a href="rmarkdown.html#markdown-formula-align"><i class="fa fa-check"></i><b>22.8.5</b> 对齐与矩阵</a></li>
<li class="chapter" data-level="22.8.6" data-path="rmarkdown.html"><a href="rmarkdown.html#markdown-formula-fonts"><i class="fa fa-check"></i><b>22.8.6</b> 特殊字体</a></li>
</ul></li>
<li class="chapter" data-level="22.9" data-path="rmarkdown.html"><a href="rmarkdown.html#rmd-engines"><i class="fa fa-check"></i><b>22.9</b> 其它编程语言引擎</a></li>
<li class="chapter" data-level="22.10" data-path="rmarkdown.html"><a href="rmarkdown.html#rmd-interact"><i class="fa fa-check"></i><b>22.10</b> 交互内容</a></li>
<li class="chapter" data-level="22.11" data-path="rmarkdown.html"><a href="rmarkdown.html#rmarkdown-attryaml"><i class="fa fa-check"></i><b>22.11</b> 属性设置</a><ul>
<li class="chapter" data-level="22.11.1" data-path="rmarkdown.html"><a href="rmarkdown.html#rmarkdown-yaml"><i class="fa fa-check"></i><b>22.11.1</b> YAML元数据</a></li>
<li class="chapter" data-level="22.11.2" data-path="rmarkdown.html"><a href="rmarkdown.html#rmd-output-types"><i class="fa fa-check"></i><b>22.11.2</b> 输出格式</a></li>
<li class="chapter" data-level="22.11.3" data-path="rmarkdown.html"><a href="rmarkdown.html#rmd-output-attr"><i class="fa fa-check"></i><b>22.11.3</b> 输出格式设置</a></li>
<li class="chapter" data-level="22.11.4" data-path="rmarkdown.html"><a href="rmarkdown.html#rmd-output-attr-toc"><i class="fa fa-check"></i><b>22.11.4</b> 目录设置</a></li>
<li class="chapter" data-level="22.11.5" data-path="rmarkdown.html"><a href="rmarkdown.html#rmd-output-attr-numsec"><i class="fa fa-check"></i><b>22.11.5</b> 章节自动编号</a></li>
<li class="chapter" data-level="22.11.6" data-path="rmarkdown.html"><a href="rmarkdown.html#rmd-output-attr-wordnumsec"><i class="fa fa-check"></i><b>22.11.6</b> Word输出章节自动编号及模板功能</a></li>
<li class="chapter" data-level="22.11.7" data-path="rmarkdown.html"><a href="rmarkdown.html#rmd-output-htmlspecific"><i class="fa fa-check"></i><b>22.11.7</b> HTML特有输出格式设置</a></li>
<li class="chapter" data-level="22.11.8" data-path="rmarkdown.html"><a href="rmarkdown.html#rmd-mathjax"><i class="fa fa-check"></i><b>22.11.8</b> 关于数学公式支持的设置</a></li>
<li class="chapter" data-level="22.11.9" data-path="rmarkdown.html"><a href="rmarkdown.html#rmd-output-yml"><i class="fa fa-check"></i><b>22.11.9</b> 输出设置文件</a></li>
</ul></li>
<li class="chapter" data-level="22.12" data-path="rmarkdown.html"><a href="rmarkdown.html#rmd-latex"><i class="fa fa-check"></i><b>22.12</b> LaTeX和PDF输出</a><ul>
<li class="chapter" data-level="22.12.1" data-path="rmarkdown.html"><a href="rmarkdown.html#rmd-latex-tinytex"><i class="fa fa-check"></i><b>22.12.1</b> TinyTex的安装使用</a></li>
<li class="chapter" data-level="22.12.2" data-path="rmarkdown.html"><a href="rmarkdown.html#rmd-latex-yaml"><i class="fa fa-check"></i><b>22.12.2</b> Rmd中Latex设置</a></li>
</ul></li>
<li class="chapter" data-level="22.13" data-path="rmarkdown.html"><a href="rmarkdown.html#rmarkdown-rticles"><i class="fa fa-check"></i><b>22.13</b> 生成期刊文章</a></li>
<li class="chapter" data-level="22.14" data-path="rmarkdown.html"><a href="rmarkdown.html#rmarkdown-app1"><i class="fa fa-check"></i><b>22.14</b> 附录：经验与问题</a><ul>
<li class="chapter" data-level="22.14.1" data-path="rmarkdown.html"><a href="rmarkdown.html#rmarkdown-app1-wordtemplate"><i class="fa fa-check"></i><b>22.14.1</b> Word模板制作</a></li>
<li class="chapter" data-level="22.14.2" data-path="rmarkdown.html"><a href="rmarkdown.html#rmarkdown-app1-math"><i class="fa fa-check"></i><b>22.14.2</b> 数学公式设置补充</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="23" data-path="bookdown.html"><a href="bookdown.html"><i class="fa fa-check"></i><b>23</b> 用bookdown制作图书</a><ul>
<li class="chapter" data-level="23.1" data-path="bookdown.html"><a href="bookdown.html#bookdown-intro"><i class="fa fa-check"></i><b>23.1</b> 介绍</a></li>
<li class="chapter" data-level="23.2" data-path="bookdown.html"><a href="bookdown.html#bookdown-settings"><i class="fa fa-check"></i><b>23.2</b> 一本书的设置</a></li>
<li class="chapter" data-level="23.3" data-path="bookdown.html"><a href="bookdown.html#bookdown-sectioning"><i class="fa fa-check"></i><b>23.3</b> 章节结构</a></li>
<li class="chapter" data-level="23.4" data-path="bookdown.html"><a href="bookdown.html#bookdown-compile"><i class="fa fa-check"></i><b>23.4</b> 书的编译</a></li>
<li class="chapter" data-level="23.5" data-path="bookdown.html"><a href="bookdown.html#bookdown-cref"><i class="fa fa-check"></i><b>23.5</b> 交叉引用</a></li>
<li class="chapter" data-level="23.6" data-path="bookdown.html"><a href="bookdown.html#bookdown-formula"><i class="fa fa-check"></i><b>23.6</b> 数学公式和公式编号</a></li>
<li class="chapter" data-level="23.7" data-path="bookdown.html"><a href="bookdown.html#bookdown-theorem"><i class="fa fa-check"></i><b>23.7</b> 定理类编号</a></li>
<li class="chapter" data-level="23.8" data-path="bookdown.html"><a href="bookdown.html#bookdown-bib"><i class="fa fa-check"></i><b>23.8</b> 文献引用</a></li>
<li class="chapter" data-level="23.9" data-path="bookdown.html"><a href="bookdown.html#bookdown-graph"><i class="fa fa-check"></i><b>23.9</b> 插图</a></li>
<li class="chapter" data-level="23.10" data-path="bookdown.html"><a href="bookdown.html#bookdown-table"><i class="fa fa-check"></i><b>23.10</b> 表格</a><ul>
<li class="chapter" data-level="23.10.1" data-path="bookdown.html"><a href="bookdown.html#bookdown-table-md"><i class="fa fa-check"></i><b>23.10.1</b> Markdown表格</a></li>
<li class="chapter" data-level="23.10.2" data-path="bookdown.html"><a href="bookdown.html#bookdown-table-kable"><i class="fa fa-check"></i><b>23.10.2</b> 用<code>kable()</code>函数制作表格</a></li>
<li class="chapter" data-level="23.10.3" data-path="bookdown.html"><a href="bookdown.html#bookdown-table-kable"><i class="fa fa-check"></i><b>23.10.3</b> R中其它制作表格的包</a></li>
</ul></li>
<li class="chapter" data-level="23.11" data-path="bookdown.html"><a href="bookdown.html#bookdown-mathjax"><i class="fa fa-check"></i><b>23.11</b> 数学公式的设置</a></li>
<li class="chapter" data-level="23.12" data-path="bookdown.html"><a href="bookdown.html#bookdown-exp"><i class="fa fa-check"></i><b>23.12</b> 使用经验</a></li>
<li class="chapter" data-level="23.13" data-path="bookdown.html"><a href="bookdown.html#bookdown-bugs"><i class="fa fa-check"></i><b>23.13</b> bookdown的一些使用问题</a></li>
</ul></li>
<li class="chapter" data-level="24" data-path="rmdsite.html"><a href="rmdsite.html"><i class="fa fa-check"></i><b>24</b> 用R Markdown制作简易网站</a><ul>
<li class="chapter" data-level="24.1" data-path="rmdsite.html"><a href="rmdsite.html#rmdsite-intro"><i class="fa fa-check"></i><b>24.1</b> 介绍</a></li>
<li class="chapter" data-level="24.2" data-path="rmdsite.html"><a href="rmdsite.html#rmdsite-rmarkdown"><i class="fa fa-check"></i><b>24.2</b> 简易网站制作</a><ul>
<li class="chapter" data-level="24.2.1" data-path="rmdsite.html"><a href="rmdsite.html#rmdsite-rmarkdown-struct"><i class="fa fa-check"></i><b>24.2.1</b> 网站结构</a></li>
<li class="chapter" data-level="24.2.2" data-path="rmdsite.html"><a href="rmdsite.html#rmdsite-rmarkdown-build"><i class="fa fa-check"></i><b>24.2.2</b> 编译</a></li>
<li class="chapter" data-level="24.2.3" data-path="rmdsite.html"><a href="rmdsite.html#rmdsite-rmarkdown-pages"><i class="fa fa-check"></i><b>24.2.3</b> 内容文件</a></li>
<li class="chapter" data-level="24.2.4" data-path="rmdsite.html"><a href="rmdsite.html#rmdsite-rmarkdown-config"><i class="fa fa-check"></i><b>24.2.4</b> 网站设置</a></li>
</ul></li>
<li class="chapter" data-level="24.3" data-path="rmdsite.html"><a href="rmdsite.html#blogdown"><i class="fa fa-check"></i><b>24.3</b> 用blogdown制作网站</a><ul>
<li class="chapter" data-level="24.3.1" data-path="rmdsite.html"><a href="rmdsite.html#blogd-new"><i class="fa fa-check"></i><b>24.3.1</b> 生成新网站的框架</a></li>
<li class="chapter" data-level="24.3.2" data-path="rmdsite.html"><a href="rmdsite.html#blogd-page"><i class="fa fa-check"></i><b>24.3.2</b> 网页内容文件及其设置</a></li>
<li class="chapter" data-level="24.3.3" data-path="rmdsite.html"><a href="rmdsite.html#blogd-workflow"><i class="fa fa-check"></i><b>24.3.3</b> 初学者的工作流程</a></li>
<li class="chapter" data-level="24.3.4" data-path="rmdsite.html"><a href="rmdsite.html#blogd-config"><i class="fa fa-check"></i><b>24.3.4</b> 网站设置文件</a></li>
<li class="chapter" data-level="24.3.5" data-path="rmdsite.html"><a href="rmdsite.html#blogd-static"><i class="fa fa-check"></i><b>24.3.5</b> 静态文件</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="25" data-path="slides.html"><a href="slides.html"><i class="fa fa-check"></i><b>25</b> 制作幻灯片</a><ul>
<li class="chapter" data-level="25.1" data-path="slides.html"><a href="slides.html#rmd-slides-intro"><i class="fa fa-check"></i><b>25.1</b> 介绍</a></li>
<li class="chapter" data-level="25.2" data-path="slides.html"><a href="slides.html#rmd-slidy"><i class="fa fa-check"></i><b>25.2</b> Slidy幻灯片</a><ul>
<li class="chapter" data-level="25.2.1" data-path="slides.html"><a href="slides.html#rmd-slidy-format"><i class="fa fa-check"></i><b>25.2.1</b> 文件格式</a></li>
<li class="chapter" data-level="25.2.2" data-path="slides.html"><a href="slides.html#rmd-slidy-compile"><i class="fa fa-check"></i><b>25.2.2</b> 幻灯片编译</a></li>
<li class="chapter" data-level="25.2.3" data-path="slides.html"><a href="slides.html#rmd-slidy-play"><i class="fa fa-check"></i><b>25.2.3</b> 播放控制</a></li>
<li class="chapter" data-level="25.2.4" data-path="slides.html"><a href="slides.html#rmd-slidy-handout"><i class="fa fa-check"></i><b>25.2.4</b> 生成单页HTML</a></li>
<li class="chapter" data-level="25.2.5" data-path="slides.html"><a href="slides.html#rmd-slidy-mathjax"><i class="fa fa-check"></i><b>25.2.5</b> 数学公式处理与输出设置文件</a></li>
<li class="chapter" data-level="25.2.6" data-path="slides.html"><a href="slides.html#rmd-slidy-options"><i class="fa fa-check"></i><b>25.2.6</b> 其它选项</a></li>
<li class="chapter" data-level="25.2.7" data-path="slides.html"><a href="slides.html#rmd-slidy-laser"><i class="fa fa-check"></i><b>25.2.7</b> slidy幻灯片激光笔失效问题的修改</a></li>
</ul></li>
<li class="chapter" data-level="25.3" data-path="slides.html"><a href="slides.html#rmdslides-pp"><i class="fa fa-check"></i><b>25.3</b> MS PowerPoint幻灯片</a></li>
<li class="chapter" data-level="25.4" data-path="slides.html"><a href="slides.html#rmdslides-beamer"><i class="fa fa-check"></i><b>25.4</b> Bearmer幻灯片格式</a></li>
<li class="chapter" data-level="25.5" data-path="slides.html"><a href="slides.html#rmdslides-rpres"><i class="fa fa-check"></i><b>25.5</b> R Presentation格式</a></li>
</ul></li>
<li class="part"><span><b>V 数据整理与汇总</b></span></li>
<li class="chapter" data-level="26" data-path="summary-manip.html"><a href="summary-manip.html"><i class="fa fa-check"></i><b>26</b> 数据整理</a><ul>
<li class="chapter" data-level="26.1" data-path="summary-manip.html"><a href="summary-manip.html#summm-tidyv"><i class="fa fa-check"></i><b>26.1</b> tidyverse系统</a></li>
<li class="chapter" data-level="26.2" data-path="summary-manip.html"><a href="summary-manip.html#dplyr-filter"><i class="fa fa-check"></i><b>26.2</b> 用<code>filter()</code>选择行子集</a></li>
<li class="chapter" data-level="26.3" data-path="summary-manip.html"><a href="summary-manip.html#dplyr-head"><i class="fa fa-check"></i><b>26.3</b> 按行序号选择行子集</a></li>
<li class="chapter" data-level="26.4" data-path="summary-manip.html"><a href="summary-manip.html#dplyr-samplen"><i class="fa fa-check"></i><b>26.4</b> 用<code>sample_n()</code>对观测随机抽样</a></li>
<li class="chapter" data-level="26.5" data-path="summary-manip.html"><a href="summary-manip.html#dplyr-distinct"><i class="fa fa-check"></i><b>26.5</b> 用<code>distinct()</code>去除重复行</a></li>
<li class="chapter" data-level="26.6" data-path="summary-manip.html"><a href="summary-manip.html#tidyr-dropna"><i class="fa fa-check"></i><b>26.6</b> 用<code>drop_na()</code>去除指定的变量有缺失值的行</a></li>
<li class="chapter" data-level="26.7" data-path="summary-manip.html"><a href="summary-manip.html#dplyr-select"><i class="fa fa-check"></i><b>26.7</b> 用<code>select()</code>选择列子集</a></li>
<li class="chapter" data-level="26.8" data-path="summary-manip.html"><a href="summary-manip.html#dplyr-pull"><i class="fa fa-check"></i><b>26.8</b> 取出单个变量为向量</a></li>
<li class="chapter" data-level="26.9" data-path="summary-manip.html"><a href="summary-manip.html#dplyr-arrange"><i class="fa fa-check"></i><b>26.9</b> 用<code>arrange()</code>排序</a></li>
<li class="chapter" data-level="26.10" data-path="summary-manip.html"><a href="summary-manip.html#dplyr-rename"><i class="fa fa-check"></i><b>26.10</b> 用<code>rename()</code>修改变量名</a></li>
<li class="chapter" data-level="26.11" data-path="summary-manip.html"><a href="summary-manip.html#dplyr-mutate"><i class="fa fa-check"></i><b>26.11</b> 用<code>mutate()</code>计算新变量</a></li>
<li class="chapter" data-level="26.12" data-path="summary-manip.html"><a href="summary-manip.html#dplyr-transmute"><i class="fa fa-check"></i><b>26.12</b> 用<code>tranmute()</code>生成新变量的数据框</a></li>
<li class="chapter" data-level="26.13" data-path="summary-manip.html"><a href="summary-manip.html#dplyr-pipe"><i class="fa fa-check"></i><b>26.13</b> 用管道连接多次操作</a></li>
<li class="chapter" data-level="26.14" data-path="summary-manip.html"><a href="summary-manip.html#tidyr-longer"><i class="fa fa-check"></i><b>26.14</b> 宽表转换为长表</a><ul>
<li class="chapter" data-level="26.14.1" data-path="summary-manip.html"><a href="summary-manip.html#tidyr-longer-pl"><i class="fa fa-check"></i><b>26.14.1</b> <code>pivot_longer</code>函数</a></li>
<li class="chapter" data-level="26.14.2" data-path="summary-manip.html"><a href="summary-manip.html#tidyr-longer-prefixvalue"><i class="fa fa-check"></i><b>26.14.2</b> 从列名中提取数值</a></li>
<li class="chapter" data-level="26.14.3" data-path="summary-manip.html"><a href="summary-manip.html#tidyr-longer-colnamemultclassv"><i class="fa fa-check"></i><b>26.14.3</b> 从列名中提取多个分类变量值</a></li>
<li class="chapter" data-level="26.14.4" data-path="summary-manip.html"><a href="summary-manip.html#tidyr-longer-multvarsmultclassv"><i class="fa fa-check"></i><b>26.14.4</b> 一行中有多个属性的多次观测的情形</a></li>
</ul></li>
<li class="chapter" data-level="26.15" data-path="summary-manip.html"><a href="summary-manip.html#dplyr-wider"><i class="fa fa-check"></i><b>26.15</b> 长表转换为宽表</a><ul>
<li class="chapter" data-level="26.15.1" data-path="summary-manip.html"><a href="summary-manip.html#dplyr-wider-sepvars"><i class="fa fa-check"></i><b>26.15.1</b> 将多个混在一起的变量拆开</a></li>
<li class="chapter" data-level="26.15.2" data-path="summary-manip.html"><a href="summary-manip.html#dplyr-wider-combtimes"><i class="fa fa-check"></i><b>26.15.2</b> 将多个类别合并到一个观测</a></li>
<li class="chapter" data-level="26.15.3" data-path="summary-manip.html"><a href="summary-manip.html#dplyr-wider-combcross"><i class="fa fa-check"></i><b>26.15.3</b> 将交叉类别合并到一个观测</a></li>
<li class="chapter" data-level="26.15.4" data-path="summary-manip.html"><a href="summary-manip.html#dplyr-wider-mvmest"><i class="fa fa-check"></i><b>26.15.4</b> 多个变量的多种值</a></li>
<li class="chapter" data-level="26.15.5" data-path="summary-manip.html"><a href="summary-manip.html#dplyr-wider-mixed"><i class="fa fa-check"></i><b>26.15.5</b> 长宽转换混合使用</a></li>
</ul></li>
<li class="chapter" data-level="26.16" data-path="summary-manip.html"><a href="summary-manip.html#dplyr-spearate"><i class="fa fa-check"></i><b>26.16</b> 拆分数据列</a></li>
<li class="chapter" data-level="26.17" data-path="summary-manip.html"><a href="summary-manip.html#dplyr-unite"><i class="fa fa-check"></i><b>26.17</b> 合并数据列</a></li>
<li class="chapter" data-level="26.18" data-path="summary-manip.html"><a href="summary-manip.html#summ-trans-combv"><i class="fa fa-check"></i><b>26.18</b> 数据框纵向合并</a></li>
<li class="chapter" data-level="26.19" data-path="summary-manip.html"><a href="summary-manip.html#dplyr-join"><i class="fa fa-check"></i><b>26.19</b> 横向合并</a></li>
<li class="chapter" data-level="26.20" data-path="summary-manip.html"><a href="summary-manip.html#dplyr-semi"><i class="fa fa-check"></i><b>26.20</b> 利用第二个数据集筛选</a></li>
<li class="chapter" data-level="26.21" data-path="summary-manip.html"><a href="summary-manip.html#dplyr-set"><i class="fa fa-check"></i><b>26.21</b> 数据集的集合操作</a></li>
<li class="chapter" data-level="26.22" data-path="summary-manip.html"><a href="summary-manip.html#summ-trans-standard"><i class="fa fa-check"></i><b>26.22</b> 标准化</a></li>
</ul></li>
<li class="chapter" data-level="27" data-path="summary-summ.html"><a href="summary-summ.html"><i class="fa fa-check"></i><b>27</b> 数据汇总</a><ul>
<li class="chapter" data-level="27.1" data-path="summary-summ.html"><a href="summary-summ.html#dplyr-summ"><i class="fa fa-check"></i><b>27.1</b> 用dplyr作数据汇总</a></li>
<li class="chapter" data-level="27.2" data-path="summary-summ.html"><a href="summary-summ.html#dplyr-summat"><i class="fa fa-check"></i><b>27.2</b> 多个变量的汇总</a></li>
<li class="chapter" data-level="27.3" data-path="summary-summ.html"><a href="summary-summ.html#dplyr-groupby"><i class="fa fa-check"></i><b>27.3</b> 用dplyr作数据分组汇总</a></li>
<li class="chapter" data-level="27.4" data-path="summary-summ.html"><a href="summary-summ.html#dplyr-crossgroup"><i class="fa fa-check"></i><b>27.4</b> 交叉分类的汇总</a></li>
<li class="chapter" data-level="27.5" data-path="summary-summ.html"><a href="summary-summ.html#summ-nest"><i class="fa fa-check"></i><b>27.5</b> tibble中的列表列</a><ul>
<li class="chapter" data-level="27.5.1" data-path="summary-summ.html"><a href="summary-summ.html#summ-nest-intro"><i class="fa fa-check"></i><b>27.5.1</b> <code>nest</code>和<code>unnest</code></a></li>
<li class="chapter" data-level="27.5.2" data-path="summary-summ.html"><a href="summary-summ.html#summ-nest-groupby"><i class="fa fa-check"></i><b>27.5.2</b> <code>group_by</code>与<code>nest</code>配合</a></li>
<li class="chapter" data-level="27.5.3" data-path="summary-summ.html"><a href="summary-summ.html#summ-nest-summarise"><i class="fa fa-check"></i><b>27.5.3</b> <code>summarise</code>统计量用列表表示</a></li>
<li class="chapter" data-level="27.5.4" data-path="summary-summ.html"><a href="summary-summ.html#summ-nest-unnest-grammar"><i class="fa fa-check"></i><b>27.5.4</b> <code>unnest</code>的语法格式</a></li>
<li class="chapter" data-level="27.5.5" data-path="summary-summ.html"><a href="summary-summ.html#summ-nest-direct"><i class="fa fa-check"></i><b>27.5.5</b> 直接生成列表类型的列</a></li>
</ul></li>
<li class="chapter" data-level="27.6" data-path="summary-summ.html"><a href="summary-summ.html#summ-base"><i class="fa fa-check"></i><b>27.6</b> 基本R的汇总功能</a><ul>
<li class="chapter" data-level="27.6.1" data-path="summary-summ.html"><a href="summary-summ.html#summ-base-summary"><i class="fa fa-check"></i><b>27.6.1</b> <code>summary()</code>函数</a></li>
<li class="chapter" data-level="27.6.2" data-path="summary-summ.html"><a href="summary-summ.html#summ-cont"><i class="fa fa-check"></i><b>27.6.2</b> 连续型变量概括函数</a></li>
<li class="chapter" data-level="27.6.3" data-path="summary-summ.html"><a href="summary-summ.html#summ-fact"><i class="fa fa-check"></i><b>27.6.3</b> 分类变量概括</a></li>
<li class="chapter" data-level="27.6.4" data-path="summary-summ.html"><a href="summary-summ.html#summ-df"><i class="fa fa-check"></i><b>27.6.4</b> 数据框概括</a></li>
</ul></li>
<li class="chapter" data-level="27.7" data-path="summary-summ.html"><a href="summary-summ.html#summ-by"><i class="fa fa-check"></i><b>27.7</b> 用基本R作分类概括</a><ul>
<li class="chapter" data-level="27.7.1" data-path="summary-summ.html"><a href="summary-summ.html#summ-by-tapply"><i class="fa fa-check"></i><b>27.7.1</b> 用<code>tapply()</code>分组概括向量</a></li>
<li class="chapter" data-level="27.7.2" data-path="summary-summ.html"><a href="summary-summ.html#summ-by-aggregate"><i class="fa fa-check"></i><b>27.7.2</b> 用<code>aggregate()</code>分组概括数据框</a></li>
<li class="chapter" data-level="27.7.3" data-path="summary-summ.html"><a href="summary-summ.html#summ-by-split"><i class="fa fa-check"></i><b>27.7.3</b> 用<code>split()</code>函数分组后概括</a></li>
</ul></li>
<li class="chapter" data-level="27.8" data-path="summary-summ.html"><a href="summary-summ.html#summ-by-plyr"><i class="fa fa-check"></i><b>27.8</b> 用plyr包进行分类概括</a></li>
<li class="chapter" data-level="27.9" data-path="summary-summ.html"><a href="summary-summ.html#summ-by-exer"><i class="fa fa-check"></i><b>27.9</b> 练习</a></li>
</ul></li>
<li class="part"><span><b>VI 绘图</b></span></li>
<li class="chapter" data-level="28" data-path="graph.html"><a href="graph.html"><i class="fa fa-check"></i><b>28</b> 基本R绘图</a><ul>
<li class="chapter" data-level="28.1" data-path="graph.html"><a href="graph.html#graph-ph"><i class="fa fa-check"></i><b>28.1</b> 常用高级图形</a><ul>
<li class="chapter" data-level="28.1.1" data-path="graph.html"><a href="graph.html#graph-ph-barplot"><i class="fa fa-check"></i><b>28.1.1</b> 条形图</a></li>
<li class="chapter" data-level="28.1.2" data-path="graph.html"><a href="graph.html#graph-ph-hist"><i class="fa fa-check"></i><b>28.1.2</b> 直方图和密度估计图</a></li>
<li class="chapter" data-level="28.1.3" data-path="graph.html"><a href="graph.html#graph-ph-boxplot"><i class="fa fa-check"></i><b>28.1.3</b> 盒形图</a></li>
<li class="chapter" data-level="28.1.4" data-path="graph.html"><a href="graph.html#graph-pr-qq"><i class="fa fa-check"></i><b>28.1.4</b> 正态QQ图</a></li>
<li class="chapter" data-level="28.1.5" data-path="graph.html"><a href="graph.html#graph-ph-plot"><i class="fa fa-check"></i><b>28.1.5</b> 散点图</a></li>
<li class="chapter" data-level="28.1.6" data-path="graph.html"><a href="graph.html#graph-ph-curve"><i class="fa fa-check"></i><b>28.1.6</b> 曲线图</a></li>
<li class="chapter" data-level="28.1.7" data-path="graph.html"><a href="graph.html#graph-ph-3d"><i class="fa fa-check"></i><b>28.1.7</b> 三维图</a></li>
<li class="chapter" data-level="28.1.8" data-path="graph.html"><a href="graph.html#graph-ph-rgl"><i class="fa fa-check"></i><b>28.1.8</b> 动态三维图</a></li>
</ul></li>
<li class="chapter" data-level="28.2" data-path="graph.html"><a href="graph.html#graph-pl"><i class="fa fa-check"></i><b>28.2</b> 低级图形函数</a><ul>
<li class="chapter" data-level="28.2.1" data-path="graph.html"><a href="graph.html#graph-pl-abline"><i class="fa fa-check"></i><b>28.2.1</b> <code>abline()</code></a></li>
<li class="chapter" data-level="28.2.2" data-path="graph.html"><a href="graph.html#graph-pl-points"><i class="fa fa-check"></i><b>28.2.2</b> <code>points()</code></a></li>
<li class="chapter" data-level="28.2.3" data-path="graph.html"><a href="graph.html#graph-pl-lines"><i class="fa fa-check"></i><b>28.2.3</b> <code>lines()</code></a></li>
<li class="chapter" data-level="28.2.4" data-path="graph.html"><a href="graph.html#graph-pl-legend"><i class="fa fa-check"></i><b>28.2.4</b> 图例</a></li>
<li class="chapter" data-level="28.2.5" data-path="graph.html"><a href="graph.html#graph-pl-axis"><i class="fa fa-check"></i><b>28.2.5</b> <code>axis()</code></a></li>
<li class="chapter" data-level="28.2.6" data-path="graph.html"><a href="graph.html#graph-pl-text"><i class="fa fa-check"></i><b>28.2.6</b> <code>text()</code></a></li>
<li class="chapter" data-level="28.2.7" data-path="graph.html"><a href="graph.html#graph-pl-locator"><i class="fa fa-check"></i><b>28.2.7</b> <code>locator()</code>和<code>identify()</code></a></li>
</ul></li>
<li class="chapter" data-level="28.3" data-path="graph.html"><a href="graph.html#graph-par"><i class="fa fa-check"></i><b>28.3</b> 图形参数</a><ul>
<li class="chapter" data-level="28.3.1" data-path="graph.html"><a href="graph.html#graph-par-ex1"><i class="fa fa-check"></i><b>28.3.1</b> 例子：用图形参数解决barplot图形横坐标值过宽</a></li>
<li class="chapter" data-level="28.3.2" data-path="graph.html"><a href="graph.html#graph-par-elem"><i class="fa fa-check"></i><b>28.3.2</b> 图形元素控制</a></li>
<li class="chapter" data-level="28.3.3" data-path="graph.html"><a href="graph.html#graph-par-axis"><i class="fa fa-check"></i><b>28.3.3</b> 坐标轴与坐标刻度</a></li>
<li class="chapter" data-level="28.3.4" data-path="graph.html"><a href="graph.html#graph-par-mar"><i class="fa fa-check"></i><b>28.3.4</b> 图形边空</a></li>
<li class="chapter" data-level="28.3.5" data-path="graph.html"><a href="graph.html#graph-par-mfrow"><i class="fa fa-check"></i><b>28.3.5</b> 一页多图</a></li>
</ul></li>
<li class="chapter" data-level="28.4" data-path="graph.html"><a href="graph.html#graph-pout"><i class="fa fa-check"></i><b>28.4</b> 图形输出</a><ul>
<li class="chapter" data-level="28.4.1" data-path="graph.html"><a href="graph.html#graph-pout-pdf"><i class="fa fa-check"></i><b>28.4.1</b> PDF 输出</a></li>
<li class="chapter" data-level="28.4.2" data-path="graph.html"><a href="graph.html#graph-pout-png"><i class="fa fa-check"></i><b>28.4.2</b> PNG输出</a></li>
</ul></li>
<li class="chapter" data-level="28.5" data-path="graph.html"><a href="graph.html#graph-pzhn"><i class="fa fa-check"></i><b>28.5</b> 包含多种中文字体的图形</a></li>
<li class="chapter" data-level="28.6" data-path="graph.html"><a href="graph.html#graph-other"><i class="fa fa-check"></i><b>28.6</b> 其它图形</a><ul>
<li class="chapter" data-level="28.6.1" data-path="graph.html"><a href="graph.html#graph-other-corr"><i class="fa fa-check"></i><b>28.6.1</b> 相关系数图</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="29" data-path="ggplot2.html"><a href="ggplot2.html"><i class="fa fa-check"></i><b>29</b> ggplot作图入门</a><ul>
<li class="chapter" data-level="29.1" data-path="ggplot2.html"><a href="ggplot2.html#ggplot2-intro"><i class="fa fa-check"></i><b>29.1</b> 介绍</a></li>
<li class="chapter" data-level="29.2" data-path="ggplot2.html"><a href="ggplot2.html#ggplot2-principles"><i class="fa fa-check"></i><b>29.2</b> 作图的一般原则</a></li>
<li class="chapter" data-level="29.3" data-path="ggplot2.html"><a href="ggplot2.html#ggplot2-point"><i class="fa fa-check"></i><b>29.3</b> 散点图：ggplot入门</a><ul>
<li class="chapter" data-level="29.3.1" data-path="ggplot2.html"><a href="ggplot2.html#ggplot2-point-base"><i class="fa fa-check"></i><b>29.3.1</b> 基本的散点图</a></li>
<li class="chapter" data-level="29.3.2" data-path="ggplot2.html"><a href="ggplot2.html#ggplot2-point-layers"><i class="fa fa-check"></i><b>29.3.2</b> 逐步改善</a></li>
<li class="chapter" data-level="29.3.3" data-path="ggplot2.html"><a href="ggplot2.html#ggplot2-point-otheraes"><i class="fa fa-check"></i><b>29.3.3</b> 颜色、符号、线型等映射</a></li>
<li class="chapter" data-level="29.3.4" data-path="ggplot2.html"><a href="ggplot2.html#ggplot2-point-geomaes"><i class="fa fa-check"></i><b>29.3.4</b> 在geom函数中映射变量</a></li>
<li class="chapter" data-level="29.3.5" data-path="ggplot2.html"><a href="ggplot2.html#ggplot2-point-contcolor"><i class="fa fa-check"></i><b>29.3.5</b> 连续变量的颜色映射</a></li>
<li class="chapter" data-level="29.3.6" data-path="ggplot2.html"><a href="ggplot2.html#ggplot2-point-save"><i class="fa fa-check"></i><b>29.3.6</b> 保存图像</a></li>
</ul></li>
<li class="chapter" data-level="29.4" data-path="ggplot2.html"><a href="ggplot2.html#ggplot2-right"><i class="fa fa-check"></i><b>29.4</b> 折线图、分组、小图</a><ul>
<li class="chapter" data-level="29.4.1" data-path="ggplot2.html"><a href="ggplot2.html#ggplot2-right-group"><i class="fa fa-check"></i><b>29.4.1</b> 图形中的分组和折线图</a></li>
<li class="chapter" data-level="29.4.2" data-path="ggplot2.html"><a href="ggplot2.html#ggplot2-right-facet"><i class="fa fa-check"></i><b>29.4.2</b> 小图(facet)</a></li>
</ul></li>
<li class="chapter" data-level="29.5" data-path="ggplot2.html"><a href="ggplot2.html#ggplot2-bar-trans"><i class="fa fa-check"></i><b>29.5</b> 数据变换与条形图</a><ul>
<li class="chapter" data-level="29.5.1" data-path="ggplot2.html"><a href="ggplot2.html#ggplot2-right-morebar"><i class="fa fa-check"></i><b>29.5.1</b> 分段与并列条形图</a></li>
<li class="chapter" data-level="29.5.2" data-path="ggplot2.html"><a href="ggplot2.html#ggplot2-bar-morebar"><i class="fa fa-check"></i><b>29.5.2</b> 条形图的其它应用</a></li>
</ul></li>
<li class="chapter" data-level="29.6" data-path="ggplot2.html"><a href="ggplot2.html#ggplot2-hist"><i class="fa fa-check"></i><b>29.6</b> 直方图与密度估计</a></li>
<li class="chapter" data-level="29.7" data-path="ggplot2.html"><a href="ggplot2.html#ggplot2-gramm"><i class="fa fa-check"></i><b>29.7</b> 绘图语法介绍</a><ul>
<li class="chapter" data-level="29.7.1" data-path="ggplot2.html"><a href="ggplot2.html#ggplot2-gramm-gramm"><i class="fa fa-check"></i><b>29.7.1</b> 绘图语法</a></li>
<li class="chapter" data-level="29.7.2" data-path="ggplot2.html"><a href="ggplot2.html#ggplot2-gramm-geoms"><i class="fa fa-check"></i><b>29.7.2</b> 图形种类</a></li>
</ul></li>
<li class="chapter" data-level="29.8" data-path="ggplot2.html"><a href="ggplot2.html#ggplot2-moregeom"><i class="fa fa-check"></i><b>29.8</b> 更多图形种类</a><ul>
<li class="chapter" data-level="29.8.1" data-path="ggplot2.html"><a href="ggplot2.html#ggplot2-moregeom-continuousvar"><i class="fa fa-check"></i><b>29.8.1</b> 连续变量的分组图形</a></li>
<li class="chapter" data-level="29.8.2" data-path="ggplot2.html"><a href="ggplot2.html#ggplot2-moregeom-text"><i class="fa fa-check"></i><b>29.8.2</b> 坐标系中的文字</a></li>
<li class="chapter" data-level="29.8.3" data-path="ggplot2.html"><a href="ggplot2.html#ggplot2-moregeom-textops"><i class="fa fa-check"></i><b>29.8.3</b> 文字选项</a></li>
<li class="chapter" data-level="29.8.4" data-path="ggplot2.html"><a href="ggplot2.html#ggplot2-moregeom-outliers"><i class="fa fa-check"></i><b>29.8.4</b> 标出特殊点</a></li>
</ul></li>
<li class="chapter" data-level="29.9" data-path="ggplot2.html"><a href="ggplot2.html#ggplot2-auxfuncs-scale"><i class="fa fa-check"></i><b>29.9</b> 刻度(scale)</a></li>
<li class="chapter" data-level="29.10" data-path="ggplot2.html"><a href="ggplot2.html#ggplot2-refine-color"><i class="fa fa-check"></i><b>29.10</b> 如何使用颜色</a><ul>
<li class="chapter" data-level="29.10.1" data-path="ggplot2.html"><a href="ggplot2.html#ggplot2-refine-qual"><i class="fa fa-check"></i><b>29.10.1</b> 名义型变量的颜色</a></li>
<li class="chapter" data-level="29.10.2" data-path="ggplot2.html"><a href="ggplot2.html#ggplot2-refine-tile"><i class="fa fa-check"></i><b>29.10.2</b> 色块图</a></li>
<li class="chapter" data-level="29.10.3" data-path="ggplot2.html"><a href="ggplot2.html#ggplot2-refine-seq"><i class="fa fa-check"></i><b>29.10.3</b> 有序型变量的颜色</a></li>
<li class="chapter" data-level="29.10.4" data-path="ggplot2.html"><a href="ggplot2.html#ggplot2-refine-div"><i class="fa fa-check"></i><b>29.10.4</b> 相异型变量的颜色</a></li>
<li class="chapter" data-level="29.10.5" data-path="ggplot2.html"><a href="ggplot2.html#ggplot2-refine-num"><i class="fa fa-check"></i><b>29.10.5</b> 连续数值变量的颜色</a></li>
</ul></li>
<li class="chapter" data-level="29.11" data-path="ggplot2.html"><a href="ggplot2.html#ggplot2-auxfuncs"><i class="fa fa-check"></i><b>29.11</b> 标题、标注、指南、拼接</a><ul>
<li class="chapter" data-level="29.11.1" data-path="ggplot2.html"><a href="ggplot2.html#ggplot2-auxfuncs-labs"><i class="fa fa-check"></i><b>29.11.1</b> 标题</a></li>
<li class="chapter" data-level="29.11.2" data-path="ggplot2.html"><a href="ggplot2.html#ggplot2-auxfuncs-anno"><i class="fa fa-check"></i><b>29.11.2</b> 标注功能</a></li>
<li class="chapter" data-level="29.11.3" data-path="ggplot2.html"><a href="ggplot2.html#ggplot2-auxfuncs-guides"><i class="fa fa-check"></i><b>29.11.3</b> 指南(guides)</a></li>
<li class="chapter" data-level="29.11.4" data-path="ggplot2.html"><a href="ggplot2.html#ggplot2-auxfuncs-compfig"><i class="fa fa-check"></i><b>29.11.4</b> 拼接图形</a></li>
</ul></li>
<li class="chapter" data-level="29.12" data-path="ggplot2.html"><a href="ggplot2.html#ggplot2-refine"><i class="fa fa-check"></i><b>29.12</b> 图形定制调整</a><ul>
<li class="chapter" data-level="29.12.1" data-path="ggplot2.html"><a href="ggplot2.html#ggplot2-refine-asasec"><i class="fa fa-check"></i><b>29.12.1</b> 图形逐步调整例子</a></li>
</ul></li>
<li class="chapter" data-level="29.13" data-path="ggplot2.html"><a href="ggplot2.html#ggplot2-theme"><i class="fa fa-check"></i><b>29.13</b> 主题</a></li>
<li class="chapter" data-level="29.14" data-path="ggplot2.html"><a href="ggplot2.html#ggplot2-ref"><i class="fa fa-check"></i><b>29.14</b> 参考文献</a></li>
</ul></li>
<li class="chapter" data-level="30" data-path="ggplotvis.html"><a href="ggplotvis.html"><i class="fa fa-check"></i><b>30</b> ggplot的各种图形</a><ul>
<li class="chapter" data-level="30.1" data-path="ggplotvis.html"><a href="ggplotvis.html#ggplotvis-intro"><i class="fa fa-check"></i><b>30.1</b> 介绍</a></li>
<li class="chapter" data-level="30.2" data-path="ggplotvis.html"><a href="ggplotvis.html#ggplotvis-amount"><i class="fa fa-check"></i><b>30.2</b> 表现数量</a><ul>
<li class="chapter" data-level="30.2.1" data-path="ggplotvis.html"><a href="ggplotvis.html#ggplotvis-amount-bar"><i class="fa fa-check"></i><b>30.2.1</b> 条形图</a></li>
<li class="chapter" data-level="30.2.2" data-path="ggplotvis.html"><a href="ggplotvis.html#ggplotvis-amount-point"><i class="fa fa-check"></i><b>30.2.2</b> 点图</a></li>
<li class="chapter" data-level="30.2.3" data-path="ggplotvis.html"><a href="ggplotvis.html#ggplotvis-amount-heatmap"><i class="fa fa-check"></i><b>30.2.3</b> 热力图</a></li>
</ul></li>
<li class="chapter" data-level="30.3" data-path="ggplotvis.html"><a href="ggplotvis.html#ggplotvis-dist"><i class="fa fa-check"></i><b>30.3</b> 表现分布</a><ul>
<li class="chapter" data-level="30.3.1" data-path="ggplotvis.html"><a href="ggplotvis.html#ggplotvis-dist-suni-hist"><i class="fa fa-check"></i><b>30.3.1</b> 单个一元分布的直方图与密度估计图</a></li>
<li class="chapter" data-level="30.3.2" data-path="ggplotvis.html"><a href="ggplotvis.html#ggplotvis-dist-muni"><i class="fa fa-check"></i><b>30.3.2</b> 多个一元分布的直方图和密度图形</a></li>
<li class="chapter" data-level="30.3.3" data-path="ggplotvis.html"><a href="ggplotvis.html#ggplotvis-dist-cdf"><i class="fa fa-check"></i><b>30.3.3</b> 经验分布函数图</a></li>
<li class="chapter" data-level="30.3.4" data-path="ggplotvis.html"><a href="ggplotvis.html#ggplotvis-dist-qqplot"><i class="fa fa-check"></i><b>30.3.4</b> QQ图</a></li>
<li class="chapter" data-level="30.3.5" data-path="ggplotvis.html"><a href="ggplotvis.html#ggplotvis-dist-boxplot"><i class="fa fa-check"></i><b>30.3.5</b> 盒形图</a></li>
<li class="chapter" data-level="30.3.6" data-path="ggplotvis.html"><a href="ggplotvis.html#ggplotvis-dist-violin"><i class="fa fa-check"></i><b>30.3.6</b> 小提琴图</a></li>
<li class="chapter" data-level="30.3.7" data-path="ggplotvis.html"><a href="ggplotvis.html#ggplotvis-dist-mdens"><i class="fa fa-check"></i><b>30.3.7</b> 多个密度的其它画法</a></li>
<li class="chapter" data-level="30.3.8" data-path="ggplotvis.html"><a href="ggplotvis.html#ggplotvis-dist-2d"><i class="fa fa-check"></i><b>30.3.8</b> 二元分布直方图和等值线图</a></li>
</ul></li>
<li class="chapter" data-level="30.4" data-path="ggplotvis.html"><a href="ggplotvis.html#ggplotvis-prop"><i class="fa fa-check"></i><b>30.4</b> 表现比例</a><ul>
<li class="chapter" data-level="30.4.1" data-path="ggplotvis.html"><a href="ggplotvis.html#ggplotvis-prop-uni"><i class="fa fa-check"></i><b>30.4.1</b> 单个分布</a></li>
<li class="chapter" data-level="30.4.2" data-path="ggplotvis.html"><a href="ggplotvis.html#ggplotvis-prop-mult"><i class="fa fa-check"></i><b>30.4.2</b> 组间的比例分布的比较</a></li>
<li class="chapter" data-level="30.4.3" data-path="ggplotvis.html"><a href="ggplotvis.html#ggplotvis-prop-nest"><i class="fa fa-check"></i><b>30.4.3</b> 嵌套比例分布的比较</a></li>
</ul></li>
<li class="chapter" data-level="30.5" data-path="ggplotvis.html"><a href="ggplotvis.html#ggplotvis-mulvar"><i class="fa fa-check"></i><b>30.5</b> 表现多个变量间的关系</a><ul>
<li class="chapter" data-level="30.5.1" data-path="ggplotvis.html"><a href="ggplotvis.html#ggplotvis-mulvar-scatter"><i class="fa fa-check"></i><b>30.5.1</b> 散点图</a></li>
<li class="chapter" data-level="30.5.2" data-path="ggplotvis.html"><a href="ggplotvis.html#ggplotvis-mulvar-scatmat"><i class="fa fa-check"></i><b>30.5.2</b> 散点图矩阵</a></li>
<li class="chapter" data-level="30.5.3" data-path="ggplotvis.html"><a href="ggplotvis.html#ggplotvis-mulvar-corrgram"><i class="fa fa-check"></i><b>30.5.3</b> 相关系数矩阵图</a></li>
<li class="chapter" data-level="30.5.4" data-path="ggplotvis.html"><a href="ggplotvis.html#ggplotvis-mulvar-dimreduct"><i class="fa fa-check"></i><b>30.5.4</b> 数据降维</a></li>
<li class="chapter" data-level="30.5.5" data-path="ggplotvis.html"><a href="ggplotvis.html#ggplotvis-mulvar-paird"><i class="fa fa-check"></i><b>30.5.5</b> 成对数据</a></li>
</ul></li>
<li class="chapter" data-level="30.6" data-path="ggplotvis.html"><a href="ggplotvis.html#ggplotvis-ts"><i class="fa fa-check"></i><b>30.6</b> 时间序列图</a><ul>
<li class="chapter" data-level="30.6.1" data-path="ggplotvis.html"><a href="ggplotvis.html#ggplotvis-ts-uni"><i class="fa fa-check"></i><b>30.6.1</b> 一元时间序列</a></li>
<li class="chapter" data-level="30.6.2" data-path="ggplotvis.html"><a href="ggplotvis.html#ggplotvis-ts-mul"><i class="fa fa-check"></i><b>30.6.2</b> 多元时间序列</a></li>
<li class="chapter" data-level="30.6.3" data-path="ggplotvis.html"><a href="ggplotvis.html#ggplotvis-ts-het"><i class="fa fa-check"></i><b>30.6.3</b> 多个不同类型指标的时间序列</a></li>
</ul></li>
<li class="chapter" data-level="30.7" data-path="ggplotvis.html"><a href="ggplotvis.html#ggplotvis-fit"><i class="fa fa-check"></i><b>30.7</b> 拟合曲线图</a><ul>
<li class="chapter" data-level="30.7.1" data-path="ggplotvis.html"><a href="ggplotvis.html#ggplotvis-fit-smooth"><i class="fa fa-check"></i><b>30.7.1</b> 平滑方法</a></li>
<li class="chapter" data-level="30.7.2" data-path="ggplotvis.html"><a href="ggplotvis.html#ggplotvis-fit-param"><i class="fa fa-check"></i><b>30.7.2</b> 参数模型方法</a></li>
</ul></li>
<li class="chapter" data-level="30.8" data-path="ggplotvis.html"><a href="ggplotvis.html#ggplotvis-uncert"><i class="fa fa-check"></i><b>30.8</b> 表现不确定性</a><ul>
<li class="chapter" data-level="30.8.1" data-path="ggplotvis.html"><a href="ggplotvis.html#ggplotvis-uncert-prob"><i class="fa fa-check"></i><b>30.8.1</b> 表现概率</a></li>
<li class="chapter" data-level="30.8.2" data-path="ggplotvis.html"><a href="ggplotvis.html#ggplotvis-uncert-se"><i class="fa fa-check"></i><b>30.8.2</b> 表现点估计精度</a></li>
<li class="chapter" data-level="30.8.3" data-path="ggplotvis.html"><a href="ggplotvis.html#ggplotvis-uncert-cband"><i class="fa fa-check"></i><b>30.8.3</b> 拟合曲线的置信带</a></li>
<li class="chapter" data-level="30.8.4" data-path="ggplotvis.html"><a href="ggplotvis.html#ggplotvis-uncert-dyn"><i class="fa fa-check"></i><b>30.8.4</b> 随机结果动态演示</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>VII 统计模型</b></span></li>
<li class="chapter" data-level="31" data-path="stat-basics.html"><a href="stat-basics.html"><i class="fa fa-check"></i><b>31</b> R初等统计分析</a><ul>
<li class="chapter" data-level="31.1" data-path="stat-basics.html"><a href="stat-basics.html#stat-base-distr"><i class="fa fa-check"></i><b>31.1</b> 概率分布</a></li>
<li class="chapter" data-level="31.2" data-path="stat-basics.html"><a href="stat-basics.html#stat-base-mle"><i class="fa fa-check"></i><b>31.2</b> 最大似然估计</a><ul>
<li class="chapter" data-level="31.2.1" data-path="stat-basics.html"><a href="stat-basics.html#stat-base-mle-norm1"><i class="fa fa-check"></i><b>31.2.1</b> 一元正态分布参数最大似然估计</a></li>
</ul></li>
<li class="chapter" data-level="31.3" data-path="stat-basics.html"><a href="stat-basics.html#stat-base-hyptest"><i class="fa fa-check"></i><b>31.3</b> 假设检验和置信区间</a><ul>
<li class="chapter" data-level="31.3.1" data-path="stat-basics.html"><a href="stat-basics.html#stat-base-hyptest-mu"><i class="fa fa-check"></i><b>31.3.1</b> 均值的假设检验和置信区间</a></li>
<li class="chapter" data-level="31.3.2" data-path="stat-basics.html"><a href="stat-basics.html#stat-base-hyptest-prop"><i class="fa fa-check"></i><b>31.3.2</b> 比例的假设检验和置信区间</a></li>
<li class="chapter" data-level="31.3.3" data-path="stat-basics.html"><a href="stat-basics.html#stat-base-hyptest-sigma"><i class="fa fa-check"></i><b>31.3.3</b> 方差的假设检验和置信区间</a></li>
<li class="chapter" data-level="31.3.4" data-path="stat-basics.html"><a href="stat-basics.html#stat-base-hyptest-gof"><i class="fa fa-check"></i><b>31.3.4</b> 拟合优度检验</a></li>
<li class="chapter" data-level="31.3.5" data-path="stat-basics.html"><a href="stat-basics.html#stat-base-hyptest-gof-vcd"><i class="fa fa-check"></i><b>31.3.5</b> 检验分布类型</a></li>
<li class="chapter" data-level="31.3.6" data-path="stat-basics.html"><a href="stat-basics.html#stat-base-hyptest-indepcont"><i class="fa fa-check"></i><b>31.3.6</b> 列联表独立性卡方检验</a></li>
<li class="chapter" data-level="31.3.7" data-path="stat-basics.html"><a href="stat-basics.html#stat-base-hyptest-npar"><i class="fa fa-check"></i><b>31.3.7</b> 非参数检验</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="32" data-path="stat-reg.html"><a href="stat-reg.html"><i class="fa fa-check"></i><b>32</b> R相关与回归</a><ul>
<li class="chapter" data-level="32.1" data-path="stat-reg.html"><a href="stat-reg.html#stat-base-reg-cor"><i class="fa fa-check"></i><b>32.1</b> 相关分析</a><ul>
<li class="chapter" data-level="32.1.1" data-path="stat-reg.html"><a href="stat-reg.html#stat-base-reg-cor-prop"><i class="fa fa-check"></i><b>32.1.1</b> 相关系数的性质</a></li>
<li class="chapter" data-level="32.1.2" data-path="stat-reg.html"><a href="stat-reg.html#stat-base-reg-cor-caus"><i class="fa fa-check"></i><b>32.1.2</b> 相关与因果</a></li>
<li class="chapter" data-level="32.1.3" data-path="stat-reg.html"><a href="stat-reg.html#stat-base-reg-cor-magn"><i class="fa fa-check"></i><b>32.1.3</b> 相关系数大小</a></li>
<li class="chapter" data-level="32.1.4" data-path="stat-reg.html"><a href="stat-reg.html#stat-base-reg-cor-test"><i class="fa fa-check"></i><b>32.1.4</b> 相关系数的检验</a></li>
<li class="chapter" data-level="32.1.5" data-path="stat-reg.html"><a href="stat-reg.html#stat-base-reg-cor-vcorr"><i class="fa fa-check"></i><b>32.1.5</b> 相关阵</a></li>
</ul></li>
<li class="chapter" data-level="32.2" data-path="stat-reg.html"><a href="stat-reg.html#stat-base-reg-regsimp"><i class="fa fa-check"></i><b>32.2</b> 一元回归分析</a><ul>
<li class="chapter" data-level="32.2.1" data-path="stat-reg.html"><a href="stat-reg.html#stat-base-reg-regsimp-model"><i class="fa fa-check"></i><b>32.2.1</b> 模型</a></li>
<li class="chapter" data-level="32.2.2" data-path="stat-reg.html"><a href="stat-reg.html#stat-base-reg-regsimp-ls"><i class="fa fa-check"></i><b>32.2.2</b> 最小二乘法</a></li>
<li class="chapter" data-level="32.2.3" data-path="stat-reg.html"><a href="stat-reg.html#stat-base-reg-regsimp-test"><i class="fa fa-check"></i><b>32.2.3</b> 回归有效性</a></li>
<li class="chapter" data-level="32.2.4" data-path="stat-reg.html"><a href="stat-reg.html#stat-base-reg-regsimp-prog"><i class="fa fa-check"></i><b>32.2.4</b> R程序</a></li>
<li class="chapter" data-level="32.2.5" data-path="stat-reg.html"><a href="stat-reg.html#stat-base-reg-regsimp-diag"><i class="fa fa-check"></i><b>32.2.5</b> 回归诊断</a></li>
<li class="chapter" data-level="32.2.6" data-path="stat-reg.html"><a href="stat-reg.html#stat-base-reg-regsimp-ci"><i class="fa fa-check"></i><b>32.2.6</b> 预测区间</a></li>
<li class="chapter" data-level="32.2.7" data-path="stat-reg.html"><a href="stat-reg.html#stat-base-reg-regsimp-control"><i class="fa fa-check"></i><b>32.2.7</b> 控制</a></li>
</ul></li>
<li class="chapter" data-level="32.3" data-path="stat-reg.html"><a href="stat-reg.html#stat-base-reg-regmu"><i class="fa fa-check"></i><b>32.3</b> 多元线性回归</a><ul>
<li class="chapter" data-level="32.3.1" data-path="stat-reg.html"><a href="stat-reg.html#stat-base-reg-regmu-mod"><i class="fa fa-check"></i><b>32.3.1</b> 模型</a></li>
<li class="chapter" data-level="32.3.2" data-path="stat-reg.html"><a href="stat-reg.html#stat-base-reg-regmu-est"><i class="fa fa-check"></i><b>32.3.2</b> 参数估计</a></li>
<li class="chapter" data-level="32.3.3" data-path="stat-reg.html"><a href="stat-reg.html#stat-base-reg-regmu-rcode"><i class="fa fa-check"></i><b>32.3.3</b> R的多元回归程序</a></li>
<li class="chapter" data-level="32.3.4" data-path="stat-reg.html"><a href="stat-reg.html#stat-base-reg-regmu-test"><i class="fa fa-check"></i><b>32.3.4</b> 模型的检验</a></li>
<li class="chapter" data-level="32.3.5" data-path="stat-reg.html"><a href="stat-reg.html#stat-base-reg-regmu-subset"><i class="fa fa-check"></i><b>32.3.5</b> 回归自变量筛选</a></li>
<li class="chapter" data-level="32.3.6" data-path="stat-reg.html"><a href="stat-reg.html#stat-base-reg-regmu-dum"><i class="fa fa-check"></i><b>32.3.6</b> 哑变量与变截距项的模型</a></li>
<li class="chapter" data-level="32.3.7" data-path="stat-reg.html"><a href="stat-reg.html#stat-base-reg-regmu-resid"><i class="fa fa-check"></i><b>32.3.7</b> 残差诊断</a></li>
<li class="chapter" data-level="32.3.8" data-path="stat-reg.html"><a href="stat-reg.html#stat-base-reg-regmu-colin"><i class="fa fa-check"></i><b>32.3.8</b> 多重共线性</a></li>
<li class="chapter" data-level="32.3.9" data-path="stat-reg.html"><a href="stat-reg.html#stat-base-reg-regmu-lev"><i class="fa fa-check"></i><b>32.3.9</b> 强影响点分析</a></li>
<li class="chapter" data-level="32.3.10" data-path="stat-reg.html"><a href="stat-reg.html#stat-base-reg-regmu-overfit"><i class="fa fa-check"></i><b>32.3.10</b> 过度拟合示例</a></li>
<li class="chapter" data-level="32.3.11" data-path="stat-reg.html"><a href="stat-reg.html#stat-base-reg-regmu-comp-inset"><i class="fa fa-check"></i><b>32.3.11</b> 嵌套模型的比较</a></li>
<li class="chapter" data-level="32.3.12" data-path="stat-reg.html"><a href="stat-reg.html#stat-base-reg-regmu-pred"><i class="fa fa-check"></i><b>32.3.12</b> 拟合与预测</a></li>
<li class="chapter" data-level="32.3.13" data-path="stat-reg.html"><a href="stat-reg.html#stat-base-reg-regmu-curve"><i class="fa fa-check"></i><b>32.3.13</b> 利用线性回归模型做曲线拟合</a></li>
<li class="chapter" data-level="32.3.14" data-path="stat-reg.html"><a href="stat-reg.html#stat-base-reg-regmu-group"><i class="fa fa-check"></i><b>32.3.14</b> 分组建立多个模型</a></li>
</ul></li>
<li class="chapter" data-level="32.4" data-path="stat-reg.html"><a href="stat-reg.html#stat-base-reg-npar"><i class="fa fa-check"></i><b>32.4</b> 非参数回归</a><ul>
<li class="chapter" data-level="32.4.1" data-path="stat-reg.html"><a href="stat-reg.html#stat-base-reg-npar-mod"><i class="fa fa-check"></i><b>32.4.1</b> 模型</a></li>
<li class="chapter" data-level="32.4.2" data-path="stat-reg.html"><a href="stat-reg.html#stat-base-reg-cfit-spl1d"><i class="fa fa-check"></i><b>32.4.2</b> 样条平滑</a></li>
<li class="chapter" data-level="32.4.3" data-path="stat-reg.html"><a href="stat-reg.html#stat-base-reg-cfit-loess"><i class="fa fa-check"></i><b>32.4.3</b> 局部多项式曲线平滑</a></li>
<li class="chapter" data-level="32.4.4" data-path="stat-reg.html"><a href="stat-reg.html#stat-base-reg-cfit-bs"><i class="fa fa-check"></i><b>32.4.4</b> 样条函数变换</a></li>
<li class="chapter" data-level="32.4.5" data-path="stat-reg.html"><a href="stat-reg.html#stat-base-reg-cfit-gam"><i class="fa fa-check"></i><b>32.4.5</b> 线性可加模型</a></li>
</ul></li>
<li class="chapter" data-level="32.5" data-path="stat-reg.html"><a href="stat-reg.html#stat-base-reg-reglog"><i class="fa fa-check"></i><b>32.5</b> Logistic回归</a><ul>
<li class="chapter" data-level="32.5.1" data-path="stat-reg.html"><a href="stat-reg.html#stat-base-reg-reglog-mod"><i class="fa fa-check"></i><b>32.5.1</b> 模型</a></li>
<li class="chapter" data-level="32.5.2" data-path="stat-reg.html"><a href="stat-reg.html#stat-base-reg-reglog-rcode"><i class="fa fa-check"></i><b>32.5.2</b> R程序</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="33" data-path="stat-tsa.html"><a href="stat-tsa.html"><i class="fa fa-check"></i><b>33</b> R时间序列分析</a><ul>
<li class="chapter" data-level="33.1" data-path="stat-tsa.html"><a href="stat-tsa.html#stat-tsa-defs"><i class="fa fa-check"></i><b>33.1</b> 基本概念</a></li>
<li class="chapter" data-level="33.2" data-path="stat-tsa.html"><a href="stat-tsa.html#stat-tsa-dtype"><i class="fa fa-check"></i><b>33.2</b> 时间序列数据类型</a><ul>
<li class="chapter" data-level="33.2.1" data-path="stat-tsa.html"><a href="stat-tsa.html#stat-tsa-dtype-ts"><i class="fa fa-check"></i><b>33.2.1</b> ts类型</a></li>
<li class="chapter" data-level="33.2.2" data-path="stat-tsa.html"><a href="stat-tsa.html#stat-tsa-dtype-xts"><i class="fa fa-check"></i><b>33.2.2</b> xts类型与常用函数</a></li>
</ul></li>
<li class="chapter" data-level="33.3" data-path="stat-tsa.html"><a href="stat-tsa.html#stat-tsa-basicstat"><i class="fa fa-check"></i><b>33.3</b> 基本分析与作图</a></li>
<li class="chapter" data-level="33.4" data-path="stat-tsa.html"><a href="stat-tsa.html#stat-tsa-arima"><i class="fa fa-check"></i><b>33.4</b> ARIMA建模和模拟</a><ul>
<li class="chapter" data-level="33.4.1" data-path="stat-tsa.html"><a href="stat-tsa.html#stat-tsa-arima-def"><i class="fa fa-check"></i><b>33.4.1</b> 模型公式</a></li>
<li class="chapter" data-level="33.4.2" data-path="stat-tsa.html"><a href="stat-tsa.html#stat-tsa-arima-sim"><i class="fa fa-check"></i><b>33.4.2</b> 模拟</a></li>
<li class="chapter" data-level="33.4.3" data-path="stat-tsa.html"><a href="stat-tsa.html#stat-tsa-arima-armod"><i class="fa fa-check"></i><b>33.4.3</b> AR建模</a></li>
<li class="chapter" data-level="33.4.4" data-path="stat-tsa.html"><a href="stat-tsa.html#stat-tsa-arima-armamod"><i class="fa fa-check"></i><b>33.4.4</b> ARMA建模</a></li>
<li class="chapter" data-level="33.4.5" data-path="stat-tsa.html"><a href="stat-tsa.html#stat-tsa-arima-diag"><i class="fa fa-check"></i><b>33.4.5</b> 模型诊断</a></li>
<li class="chapter" data-level="33.4.6" data-path="stat-tsa.html"><a href="stat-tsa.html#stat-tsa-arima-lbtest"><i class="fa fa-check"></i><b>33.4.6</b> 白噪声检验</a></li>
<li class="chapter" data-level="33.4.7" data-path="stat-tsa.html"><a href="stat-tsa.html#stat-tsa-arima-sparse"><i class="fa fa-check"></i><b>33.4.7</b> 稀疏系数估计</a></li>
<li class="chapter" data-level="33.4.8" data-path="stat-tsa.html"><a href="stat-tsa.html#stat-tsa-arima-adftest"><i class="fa fa-check"></i><b>33.4.8</b> 单位根检验</a></li>
<li class="chapter" data-level="33.4.9" data-path="stat-tsa.html"><a href="stat-tsa.html#stat-tsa-arima-cfuncs"><i class="fa fa-check"></i><b>33.4.9</b> ARMA模型的一些自定义函数</a></li>
</ul></li>
<li class="chapter" data-level="33.5" data-path="stat-tsa.html"><a href="stat-tsa.html#stat-tsa-spectra"><i class="fa fa-check"></i><b>33.5</b> 谱密度估计</a></li>
<li class="chapter" data-level="33.6" data-path="stat-tsa.html"><a href="stat-tsa.html#stat-tsa-garch"><i class="fa fa-check"></i><b>33.6</b> GARCH类模型</a></li>
<li class="chapter" data-level="33.7" data-path="stat-tsa.html"><a href="stat-tsa.html#stat-tsa-mtsa"><i class="fa fa-check"></i><b>33.7</b> 多元时间序列基础统计</a></li>
<li class="chapter" data-level="33.8" data-path="stat-tsa.html"><a href="stat-tsa.html#stat-tsa-var"><i class="fa fa-check"></i><b>33.8</b> VAR模型</a></li>
<li class="chapter" data-level="33.9" data-path="stat-tsa.html"><a href="stat-tsa.html#stat-tsa-coint"><i class="fa fa-check"></i><b>33.9</b> 协整分析</a></li>
<li class="chapter" data-level="33.10" data-path="stat-tsa.html"><a href="stat-tsa.html#stat-tsa-causal"><i class="fa fa-check"></i><b>33.10</b> 因果性检验</a></li>
</ul></li>
<li class="chapter" data-level="34" data-path="stat-learning.html"><a href="stat-learning.html"><i class="fa fa-check"></i><b>34</b> 统计学习介绍</a><ul>
<li class="chapter" data-level="34.1" data-path="stat-learning.html"><a href="stat-learning.html#statl-intro"><i class="fa fa-check"></i><b>34.1</b> 统计学习的基本概念和一般步骤</a><ul>
<li class="chapter" data-level="34.1.1" data-path="stat-learning.html"><a href="stat-learning.html#statl-intro-basic"><i class="fa fa-check"></i><b>34.1.1</b> 统计学习的基本概念和方法</a></li>
<li class="chapter" data-level="34.1.2" data-path="stat-learning.html"><a href="stat-learning.html#statl-intro-biasvar"><i class="fa fa-check"></i><b>34.1.2</b> 偏差与方差折衷</a></li>
<li class="chapter" data-level="34.1.3" data-path="stat-learning.html"><a href="stat-learning.html#statl-cv"><i class="fa fa-check"></i><b>34.1.3</b> 交叉验证</a></li>
<li class="chapter" data-level="34.1.4" data-path="stat-learning.html"><a href="stat-learning.html#statl-steps"><i class="fa fa-check"></i><b>34.1.4</b> 一般步骤</a></li>
</ul></li>
<li class="chapter" data-level="34.2" data-path="stat-learning.html"><a href="stat-learning.html#statl-hitters"><i class="fa fa-check"></i><b>34.2</b> Hitters数据分析</a><ul>
<li class="chapter" data-level="34.2.1" data-path="stat-learning.html"><a href="stat-learning.html#statl-hitters-subset"><i class="fa fa-check"></i><b>34.2.1</b> 回归自变量选择</a></li>
<li class="chapter" data-level="34.2.2" data-path="stat-learning.html"><a href="stat-learning.html#statl-hitters-ridge"><i class="fa fa-check"></i><b>34.2.2</b> 岭回归</a></li>
<li class="chapter" data-level="34.2.3" data-path="stat-learning.html"><a href="stat-learning.html#statl-hitters-lasso"><i class="fa fa-check"></i><b>34.2.3</b> Lasso回归</a></li>
<li class="chapter" data-level="34.2.4" data-path="stat-learning.html"><a href="stat-learning.html#statl-hitters-simpt"><i class="fa fa-check"></i><b>34.2.4</b> 树回归的简单演示</a></li>
<li class="chapter" data-level="34.2.5" data-path="stat-learning.html"><a href="stat-learning.html#statl-hitters-tree"><i class="fa fa-check"></i><b>34.2.5</b> 树回归</a></li>
<li class="chapter" data-level="34.2.6" data-path="stat-learning.html"><a href="stat-learning.html#statl-hitters-bag"><i class="fa fa-check"></i><b>34.2.6</b> 装袋法</a></li>
<li class="chapter" data-level="34.2.7" data-path="stat-learning.html"><a href="stat-learning.html#statl-hitters-rf"><i class="fa fa-check"></i><b>34.2.7</b> 随机森林</a></li>
</ul></li>
<li class="chapter" data-level="34.3" data-path="stat-learning.html"><a href="stat-learning.html#statl-heart"><i class="fa fa-check"></i><b>34.3</b> Heart数据分析</a><ul>
<li class="chapter" data-level="34.3.1" data-path="stat-learning.html"><a href="stat-learning.html#statl-heart-tree"><i class="fa fa-check"></i><b>34.3.1</b> 树回归</a></li>
<li class="chapter" data-level="34.3.2" data-path="stat-learning.html"><a href="stat-learning.html#statl-heart-bag"><i class="fa fa-check"></i><b>34.3.2</b> 用装袋法</a></li>
<li class="chapter" data-level="34.3.3" data-path="stat-learning.html"><a href="stat-learning.html#statl-heart-rf"><i class="fa fa-check"></i><b>34.3.3</b> 用随机森林</a></li>
</ul></li>
<li class="chapter" data-level="34.4" data-path="stat-learning.html"><a href="stat-learning.html#statl-car"><i class="fa fa-check"></i><b>34.4</b> 汽车销量数据分析</a><ul>
<li class="chapter" data-level="34.4.1" data-path="stat-learning.html"><a href="stat-learning.html#statl-car-tree"><i class="fa fa-check"></i><b>34.4.1</b> 判别树</a></li>
<li class="chapter" data-level="34.4.2" data-path="stat-learning.html"><a href="stat-learning.html#statl-car-rf"><i class="fa fa-check"></i><b>34.4.2</b> 随机森林</a></li>
</ul></li>
<li class="chapter" data-level="34.5" data-path="stat-learning.html"><a href="stat-learning.html#statl-boston"><i class="fa fa-check"></i><b>34.5</b> 波士顿郊区房价数据</a><ul>
<li class="chapter" data-level="34.5.1" data-path="stat-learning.html"><a href="stat-learning.html#statl-boston-tree"><i class="fa fa-check"></i><b>34.5.1</b> 回归树</a></li>
<li class="chapter" data-level="34.5.2" data-path="stat-learning.html"><a href="stat-learning.html#statl-boston-bag"><i class="fa fa-check"></i><b>34.5.2</b> 装袋法</a></li>
<li class="chapter" data-level="34.5.3" data-path="stat-learning.html"><a href="stat-learning.html#statl-boston-rf"><i class="fa fa-check"></i><b>34.5.3</b> 随机森林</a></li>
<li class="chapter" data-level="34.5.4" data-path="stat-learning.html"><a href="stat-learning.html#statl-boston-boost"><i class="fa fa-check"></i><b>34.5.4</b> 提升法</a></li>
</ul></li>
<li class="chapter" data-level="34.6" data-path="stat-learning.html"><a href="stat-learning.html#statl-svm"><i class="fa fa-check"></i><b>34.6</b> 支持向量机方法</a><ul>
<li class="chapter" data-level="34.6.1" data-path="stat-learning.html"><a href="stat-learning.html#statl-svm-heart"><i class="fa fa-check"></i><b>34.6.1</b> 支持向量机用于Heart数据</a></li>
</ul></li>
<li class="chapter" data-level="34.7" data-path="stat-learning.html"><a href="stat-learning.html#statl-app"><i class="fa fa-check"></i><b>34.7</b> 附录</a><ul>
<li class="chapter" data-level="34.7.1" data-path="stat-learning.html"><a href="stat-learning.html#statl-app-hitters"><i class="fa fa-check"></i><b>34.7.1</b> Hitters数据</a></li>
<li class="chapter" data-level="34.7.2" data-path="stat-learning.html"><a href="stat-learning.html#statl-app-heart"><i class="fa fa-check"></i><b>34.7.2</b> Heart数据</a></li>
<li class="chapter" data-level="34.7.3" data-path="stat-learning.html"><a href="stat-learning.html#statl-app-car"><i class="fa fa-check"></i><b>34.7.3</b> CarSeats数据</a></li>
<li class="chapter" data-level="34.7.4" data-path="stat-learning.html"><a href="stat-learning.html#statl-app-boston"><i class="fa fa-check"></i><b>34.7.4</b> Boston数据</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="35" data-path="simulation.html"><a href="simulation.html"><i class="fa fa-check"></i><b>35</b> 随机模拟</a><ul>
<li class="chapter" data-level="35.1" data-path="simulation.html"><a href="simulation.html#simint"><i class="fa fa-check"></i><b>35.1</b> 随机数</a></li>
<li class="chapter" data-level="35.2" data-path="simulation.html"><a href="simulation.html#simsamp"><i class="fa fa-check"></i><b>35.2</b> <code>sample()</code>函数</a></li>
<li class="chapter" data-level="35.3" data-path="simulation.html"><a href="simulation.html#simexamp"><i class="fa fa-check"></i><b>35.3</b> 随机模拟示例</a><ul>
<li class="chapter" data-level="35.3.1" data-path="simulation.html"><a href="simulation.html#simexamp-expect"><i class="fa fa-check"></i><b>35.3.1</b> 估计期望值</a></li>
<li class="chapter" data-level="35.3.2" data-path="simulation.html"><a href="simulation.html#simexamp-lm"><i class="fa fa-check"></i><b>35.3.2</b> 线性回归模拟</a></li>
<li class="chapter" data-level="35.3.3" data-path="simulation.html"><a href="simulation.html#simexamp-kde"><i class="fa fa-check"></i><b>35.3.3</b> 核密度的bootstrap置信区间</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>VIII 特殊应用</b></span></li>
<li class="chapter" data-level="36" data-path="text.html"><a href="text.html"><i class="fa fa-check"></i><b>36</b> R语言的文本处理</a><ul>
<li class="chapter" data-level="36.1" data-path="text.html"><a href="text.html#text-simple"><i class="fa fa-check"></i><b>36.1</b> 简单的文本处理</a><ul>
<li class="chapter" data-level="36.1.1" data-path="text.html"><a href="text.html#text-simple-const"><i class="fa fa-check"></i><b>36.1.1</b> 字符型常量与字符型向量</a></li>
<li class="chapter" data-level="36.1.2" data-path="text.html"><a href="text.html#text-paste"><i class="fa fa-check"></i><b>36.1.2</b> 字符串连接、重复</a></li>
<li class="chapter" data-level="36.1.3" data-path="text.html"><a href="text.html#text-formatout"><i class="fa fa-check"></i><b>36.1.3</b> 格式化输出</a></li>
<li class="chapter" data-level="36.1.4" data-path="text.html"><a href="text.html#text-length"><i class="fa fa-check"></i><b>36.1.4</b> 字符串长度</a></li>
<li class="chapter" data-level="36.1.5" data-path="text.html"><a href="text.html#text-substring"><i class="fa fa-check"></i><b>36.1.5</b> 取子串</a></li>
<li class="chapter" data-level="36.1.6" data-path="text.html"><a href="text.html#text-convert"><i class="fa fa-check"></i><b>36.1.6</b> 字符串变换</a></li>
<li class="chapter" data-level="36.1.7" data-path="text.html"><a href="text.html#text-simp-find"><i class="fa fa-check"></i><b>36.1.7</b> 简单匹配与查找</a></li>
<li class="chapter" data-level="36.1.8" data-path="text.html"><a href="text.html#text-simple-gsub"><i class="fa fa-check"></i><b>36.1.8</b> 字符串替换</a></li>
<li class="chapter" data-level="36.1.9" data-path="text.html"><a href="text.html#text-simple-strsplit"><i class="fa fa-check"></i><b>36.1.9</b> 字符串拆分</a></li>
</ul></li>
<li class="chapter" data-level="36.2" data-path="text.html"><a href="text.html#text-file"><i class="fa fa-check"></i><b>36.2</b> 文本文件读写</a></li>
<li class="chapter" data-level="36.3" data-path="text.html"><a href="text.html#text-regex"><i class="fa fa-check"></i><b>36.3</b> 正则表达式</a><ul>
<li class="chapter" data-level="36.3.1" data-path="text.html"><a href="text.html#text-regex-strview"><i class="fa fa-check"></i><b>36.3.1</b> 字面匹配与匹配显示</a></li>
<li class="chapter" data-level="36.3.2" data-path="text.html"><a href="text.html#text-regex-ignore"><i class="fa fa-check"></i><b>36.3.2</b> 不区分大小写匹配和<code>regex</code>函数</a></li>
<li class="chapter" data-level="36.3.3" data-path="text.html"><a href="text.html#text-regex-dot"><i class="fa fa-check"></i><b>36.3.3</b> 用句点匹配单个字符</a></li>
<li class="chapter" data-level="36.3.4" data-path="text.html"><a href="text.html#text-regex-set"><i class="fa fa-check"></i><b>36.3.4</b> 匹配一组字符中的某一个</a></li>
<li class="chapter" data-level="36.3.5" data-path="text.html"><a href="text.html#text-regex-metalit"><i class="fa fa-check"></i><b>36.3.5</b> 原样匹配元字符</a></li>
<li class="chapter" data-level="36.3.6" data-path="text.html"><a href="text.html#text-regex-space"><i class="fa fa-check"></i><b>36.3.6</b> 匹配空白</a></li>
<li class="chapter" data-level="36.3.7" data-path="text.html"><a href="text.html#text-regex-digit"><i class="fa fa-check"></i><b>36.3.7</b> 匹配数字</a></li>
<li class="chapter" data-level="36.3.8" data-path="text.html"><a href="text.html#text-regex-alnum"><i class="fa fa-check"></i><b>36.3.8</b> 匹配字母、数字、下划线</a></li>
<li class="chapter" data-level="36.3.9" data-path="text.html"><a href="text.html#text-regex-hex"><i class="fa fa-check"></i><b>36.3.9</b> 十六进制和八进制数</a></li>
<li class="chapter" data-level="36.3.10" data-path="text.html"><a href="text.html#text-regex-posix"><i class="fa fa-check"></i><b>36.3.10</b> POSIX字符类</a></li>
<li class="chapter" data-level="36.3.11" data-path="text.html"><a href="text.html#text-regex-start"><i class="fa fa-check"></i><b>36.3.11</b> 匹配开头和末尾</a></li>
<li class="chapter" data-level="36.3.12" data-path="text.html"><a href="text.html#text-regex-wordb"><i class="fa fa-check"></i><b>36.3.12</b> 单词边界</a></li>
<li class="chapter" data-level="36.3.13" data-path="text.html"><a href="text.html#text-regex-repeat"><i class="fa fa-check"></i><b>36.3.13</b> 重复匹配</a></li>
<li class="chapter" data-level="36.3.14" data-path="text.html"><a href="text.html#text-regex-lazy"><i class="fa fa-check"></i><b>36.3.14</b> 贪婪匹配和懒惰匹配</a></li>
<li class="chapter" data-level="36.3.15" data-path="text.html"><a href="text.html#text-regex-smlines"><i class="fa fa-check"></i><b>36.3.15</b> 句点全匹配与多行模式</a></li>
<li class="chapter" data-level="36.3.16" data-path="text.html"><a href="text.html#text-regex-alt"><i class="fa fa-check"></i><b>36.3.16</b> 备择模式</a></li>
<li class="chapter" data-level="36.3.17" data-path="text.html"><a href="text.html#text-regex-group"><i class="fa fa-check"></i><b>36.3.17</b> 分组与捕获</a></li>
</ul></li>
<li class="chapter" data-level="36.4" data-path="text.html"><a href="text.html#text-stringr-funcs"><i class="fa fa-check"></i><b>36.4</b> stringr包的正则表达式函数</a><ul>
<li class="chapter" data-level="36.4.1" data-path="text.html"><a href="text.html#text-stringr-funcs-strview"><i class="fa fa-check"></i><b>36.4.1</b> <code>str_view()</code>函数</a></li>
<li class="chapter" data-level="36.4.2" data-path="text.html"><a href="text.html#text-stringr-funcs-regex"><i class="fa fa-check"></i><b>36.4.2</b> <code>regex()</code>函数</a></li>
<li class="chapter" data-level="36.4.3" data-path="text.html"><a href="text.html#text-stringr-funcs-detect"><i class="fa fa-check"></i><b>36.4.3</b> 检查那些元素能够匹配</a></li>
<li class="chapter" data-level="36.4.4" data-path="text.html"><a href="text.html#text-stringr-funcs-replace"><i class="fa fa-check"></i><b>36.4.4</b> 替换</a></li>
<li class="chapter" data-level="36.4.5" data-path="text.html"><a href="text.html#text-stringr-funcs-subset"><i class="fa fa-check"></i><b>36.4.5</b> 返回匹配的元素</a></li>
<li class="chapter" data-level="36.4.6" data-path="text.html"><a href="text.html#text-stringr-funcs-extract"><i class="fa fa-check"></i><b>36.4.6</b> 提取匹配内容</a></li>
<li class="chapter" data-level="36.4.7" data-path="text.html"><a href="text.html#text-stringr-funcs-match"><i class="fa fa-check"></i><b>36.4.7</b> 提取分组捕获内容</a></li>
<li class="chapter" data-level="36.4.8" data-path="text.html"><a href="text.html#text-stringr-funcs-locate"><i class="fa fa-check"></i><b>36.4.8</b> 定位匹配位置</a></li>
</ul></li>
<li class="chapter" data-level="36.5" data-path="text.html"><a href="text.html#text-regex-bfuncs"><i class="fa fa-check"></i><b>36.5</b> 利用基本R函数进行正则表达式处理</a><ul>
<li class="chapter" data-level="36.5.1" data-path="text.html"><a href="text.html#text-regex-bfuncs-igcase"><i class="fa fa-check"></i><b>36.5.1</b> 不区分大小写匹配</a></li>
<li class="chapter" data-level="36.5.2" data-path="text.html"><a href="text.html#text-regex-bfuncs-dotp"><i class="fa fa-check"></i><b>36.5.2</b> 匹配单个字符</a></li>
<li class="chapter" data-level="36.5.3" data-path="text.html"><a href="text.html#text-regex-bfuncs-setp"><i class="fa fa-check"></i><b>36.5.3</b> 匹配一组字符中的某一个</a></li>
<li class="chapter" data-level="36.5.4" data-path="text.html"><a href="text.html#text-regex-bfuncs-metalit"><i class="fa fa-check"></i><b>36.5.4</b> 原样匹配元字符</a></li>
<li class="chapter" data-level="36.5.5" data-path="text.html"><a href="text.html#text-regex-bfuncs-digit"><i class="fa fa-check"></i><b>36.5.5</b> 匹配数字</a></li>
<li class="chapter" data-level="36.5.6" data-path="text.html"><a href="text.html#text-regex-bfuncs-start"><i class="fa fa-check"></i><b>36.5.6</b> 匹配开头和末尾</a></li>
<li class="chapter" data-level="36.5.7" data-path="text.html"><a href="text.html#text-regex-bfuncs-alnum"><i class="fa fa-check"></i><b>36.5.7</b> 匹配字母、数字、下划线</a></li>
<li class="chapter" data-level="36.5.8" data-path="text.html"><a href="text.html#text-regex-bfuncs-hex"><i class="fa fa-check"></i><b>36.5.8</b> 十六进制和八进制数</a></li>
<li class="chapter" data-level="36.5.9" data-path="text.html"><a href="text.html#text-regex-bfuncs-posix"><i class="fa fa-check"></i><b>36.5.9</b> POSIX字符类</a></li>
<li class="chapter" data-level="36.5.10" data-path="text.html"><a href="text.html#text-regex-bfuncs-plus"><i class="fa fa-check"></i><b>36.5.10</b> 加号重复匹配</a></li>
<li class="chapter" data-level="36.5.11" data-path="text.html"><a href="text.html#text-regex-bfuncs-ast"><i class="fa fa-check"></i><b>36.5.11</b> 星号和问号重复匹配</a></li>
<li class="chapter" data-level="36.5.12" data-path="text.html"><a href="text.html#text-regex-bfuncs-repnum"><i class="fa fa-check"></i><b>36.5.12</b> 计数重复</a></li>
<li class="chapter" data-level="36.5.13" data-path="text.html"><a href="text.html#text-regex-bfuncs-lazy"><i class="fa fa-check"></i><b>36.5.13</b> 贪婪匹配和懒惰匹配</a></li>
<li class="chapter" data-level="36.5.14" data-path="text.html"><a href="text.html#text-regex-bfuncs-wordb"><i class="fa fa-check"></i><b>36.5.14</b> 单词边界</a></li>
<li class="chapter" data-level="36.5.15" data-path="text.html"><a href="text.html#text-regex-bfuncs-sm"><i class="fa fa-check"></i><b>36.5.15</b> 句点全匹配与多行模式</a></li>
<li class="chapter" data-level="36.5.16" data-path="text.html"><a href="text.html#text-regex-bfuncs-alt"><i class="fa fa-check"></i><b>36.5.16</b> 备择模式</a></li>
<li class="chapter" data-level="36.5.17" data-path="text.html"><a href="text.html#text-regex-bfuncs-group"><i class="fa fa-check"></i><b>36.5.17</b> 分组与捕获</a></li>
</ul></li>
<li class="chapter" data-level="36.6" data-path="text.html"><a href="text.html#text-regexex"><i class="fa fa-check"></i><b>36.6</b> 正则表达式应用例子</a><ul>
<li class="chapter" data-level="36.6.1" data-path="text.html"><a href="text.html#text-regexex-pre"><i class="fa fa-check"></i><b>36.6.1</b> 数据预处理</a></li>
<li class="chapter" data-level="36.6.2" data-path="text.html"><a href="text.html#text-regexex-excelmore"><i class="fa fa-check"></i><b>36.6.2</b> 不规则Excel文件处理</a></li>
<li class="chapter" data-level="36.6.3" data-path="text.html"><a href="text.html#text-regexex-wordfreq"><i class="fa fa-check"></i><b>36.6.3</b> 字频统计</a></li>
<li class="chapter" data-level="36.6.4" data-path="text.html"><a href="text.html#text-regexex-digits"><i class="fa fa-check"></i><b>36.6.4</b> 数字验证</a></li>
<li class="chapter" data-level="36.6.5" data-path="text.html"><a href="text.html#text-regexex-digfn"><i class="fa fa-check"></i><b>36.6.5</b> 文件名中的数字提取</a></li>
</ul></li>
<li class="chapter" data-level="36.7" data-path="text.html"><a href="text.html#text-webscape"><i class="fa fa-check"></i><b>36.7</b> 网站数据获取</a></li>
<li class="chapter" data-level="36.8" data-path="text.html"><a href="text.html#text-jiebaR"><i class="fa fa-check"></i><b>36.8</b> 中文分词与词频</a></li>
</ul></li>
<li class="part"><span><b>IX 用Rcpp访问C++代码</b></span></li>
<li class="chapter" data-level="37" data-path="rcpp.html"><a href="rcpp.html"><i class="fa fa-check"></i><b>37</b> Rcpp介绍</a><ul>
<li class="chapter" data-level="37.1" data-path="rcpp.html"><a href="rcpp.html#rcpp-intro-use"><i class="fa fa-check"></i><b>37.1</b> Rcpp的用途</a></li>
<li class="chapter" data-level="37.2" data-path="rcpp.html"><a href="rcpp.html#rcpp-intro-examp"><i class="fa fa-check"></i><b>37.2</b> Rcpp入门样例</a><ul>
<li class="chapter" data-level="37.2.1" data-path="rcpp.html"><a href="rcpp.html#rcpp-intro-examp-ex1"><i class="fa fa-check"></i><b>37.2.1</b> 用<code>cppFunction()</code>转换简单的C++函数—Fibnacci例子</a></li>
<li class="chapter" data-level="37.2.2" data-path="rcpp.html"><a href="rcpp.html#rcpp-intro-examp-ex2"><i class="fa fa-check"></i><b>37.2.2</b> 用<code>sourceCpp()</code>转换C++程序—正负交替迭代例子</a></li>
<li class="chapter" data-level="37.2.3" data-path="rcpp.html"><a href="rcpp.html#rcpp-intro-examp-ex3"><i class="fa fa-check"></i><b>37.2.3</b> 用<code>sourceCpp()</code>转换C++源文件中的程序—正负交替迭代例子</a></li>
<li class="chapter" data-level="37.2.4" data-path="rcpp.html"><a href="rcpp.html#rcpp-intro-examp-ex4"><i class="fa fa-check"></i><b>37.2.4</b> 用<code>sourceCpp()</code>转换C++源程序文件—卷积例子</a></li>
<li class="chapter" data-level="37.2.5" data-path="rcpp.html"><a href="rcpp.html#rcpp-intro-examp-rmdconv"><i class="fa fa-check"></i><b>37.2.5</b> 在Rmd文件中使用C++源程序文件</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="38" data-path="rcpp-typeconv.html"><a href="rcpp-typeconv.html"><i class="fa fa-check"></i><b>38</b> R与C++的类型转换</a><ul>
<li class="chapter" data-level="38.1" data-path="rcpp-typeconv.html"><a href="rcpp-typeconv.html#rcpp-typeconv-wrap"><i class="fa fa-check"></i><b>38.1</b> 用<code>wrap()</code>把C++变量返回到R中</a></li>
<li class="chapter" data-level="38.2" data-path="rcpp-typeconv.html"><a href="rcpp-typeconv.html#rcpp-typeconv-as"><i class="fa fa-check"></i><b>38.2</b> 用<code>as()</code>函数把R变量转换为C++类型</a></li>
<li class="chapter" data-level="38.3" data-path="rcpp-typeconv.html"><a href="rcpp-typeconv.html#rcpp-typeconv-implicit"><i class="fa fa-check"></i><b>38.3</b> <code>as()</code>和<code>wrap()</code>的隐含调用</a></li>
</ul></li>
<li class="chapter" data-level="39" data-path="rcpp-attr.html"><a href="rcpp-attr.html"><i class="fa fa-check"></i><b>39</b> Rcpp 属性</a><ul>
<li class="chapter" data-level="39.1" data-path="rcpp-attr.html"><a href="rcpp-attr.html#rcpp-attr-intro"><i class="fa fa-check"></i><b>39.1</b> Rcpp属性介绍</a></li>
<li class="chapter" data-level="39.2" data-path="rcpp-attr.html"><a href="rcpp-attr.html#rcpp-attr-export"><i class="fa fa-check"></i><b>39.2</b> 在C++源程序中指定要导出的C++函数</a></li>
<li class="chapter" data-level="39.3" data-path="rcpp-attr.html"><a href="rcpp-attr.html#rcpp-attr-sourcecpp"><i class="fa fa-check"></i><b>39.3</b> 在R中编译链接C++代码</a></li>
<li class="chapter" data-level="39.4" data-path="rcpp-attr.html"><a href="rcpp-attr.html#rcpp-attr-misc"><i class="fa fa-check"></i><b>39.4</b> Rcpp属性的其它功能</a><ul>
<li class="chapter" data-level="39.4.1" data-path="rcpp-attr.html"><a href="rcpp-attr.html#rcpp-attr-misc-default"><i class="fa fa-check"></i><b>39.4.1</b> 自变量有缺省值的函数</a></li>
<li class="chapter" data-level="39.4.2" data-path="rcpp-attr.html"><a href="rcpp-attr.html#rcpp-attr-misc-interrupt"><i class="fa fa-check"></i><b>39.4.2</b> 允许用户中断</a></li>
<li class="chapter" data-level="39.4.3" data-path="rcpp-attr.html"><a href="rcpp-attr.html#rcpp-attr-misc-rinclude"><i class="fa fa-check"></i><b>39.4.3</b> 把R代码写在C++源文件中</a></li>
<li class="chapter" data-level="39.4.4" data-path="rcpp-attr.html"><a href="rcpp-attr.html#rcpp-attr-misc-rand"><i class="fa fa-check"></i><b>39.4.4</b> 在C++中调用R的随机数发生器</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="40" data-path="rcpp-vectype.html"><a href="rcpp-vectype.html"><i class="fa fa-check"></i><b>40</b> Rcpp提供的C++数据类型</a><ul>
<li class="chapter" data-level="40.1" data-path="rcpp-vectype.html"><a href="rcpp-vectype.html#rcpp-vectype-robject"><i class="fa fa-check"></i><b>40.1</b> RObject类</a></li>
<li class="chapter" data-level="40.2" data-path="rcpp-vectype.html"><a href="rcpp-vectype.html#rcpp-vectype-ivec"><i class="fa fa-check"></i><b>40.2</b> IntegerVector类</a><ul>
<li class="chapter" data-level="40.2.1" data-path="rcpp-vectype.html"><a href="rcpp-vectype.html#rcpp-vectype-ivec-ex1"><i class="fa fa-check"></i><b>40.2.1</b> IntegerVector示例1：返回完全数</a></li>
<li class="chapter" data-level="40.2.2" data-path="rcpp-vectype.html"><a href="rcpp-vectype.html#rcpp-vectype-ivec-ex2"><i class="fa fa-check"></i><b>40.2.2</b> IntegerVector示例2：输入整数向量</a></li>
</ul></li>
<li class="chapter" data-level="40.3" data-path="rcpp-vectype.html"><a href="rcpp-vectype.html#rcpp-vectype-num"><i class="fa fa-check"></i><b>40.3</b> NumericVector类</a><ul>
<li class="chapter" data-level="40.3.1" data-path="rcpp-vectype.html"><a href="rcpp-vectype.html#rcpp-vectype-num-ex1"><i class="fa fa-check"></i><b>40.3.1</b> 示例1：计算元素<span class="math inline">\(p\)</span>次方的和</a></li>
<li class="chapter" data-level="40.3.2" data-path="rcpp-vectype.html"><a href="rcpp-vectype.html#rcpp-vectype-num-ex2"><i class="fa fa-check"></i><b>40.3.2</b> 示例2：<code>clone</code>函数</a></li>
<li class="chapter" data-level="40.3.3" data-path="rcpp-vectype.html"><a href="rcpp-vectype.html#rcpp-vectype-num-ex3"><i class="fa fa-check"></i><b>40.3.3</b> 示例3：向量子集</a></li>
</ul></li>
<li class="chapter" data-level="40.4" data-path="rcpp-vectype.html"><a href="rcpp-vectype.html#rcpp-vectype-mat"><i class="fa fa-check"></i><b>40.4</b> NumericMatrix类</a><ul>
<li class="chapter" data-level="40.4.1" data-path="rcpp-vectype.html"><a href="rcpp-vectype.html#rcpp-vectype-mat-ex1"><i class="fa fa-check"></i><b>40.4.1</b> 示例1：计算矩阵各列模的最大值</a></li>
<li class="chapter" data-level="40.4.2" data-path="rcpp-vectype.html"><a href="rcpp-vectype.html#rcpp-vectype-mat-ex2"><i class="fa fa-check"></i><b>40.4.2</b> 示例2：把输入矩阵制作副本计算元素平方根</a></li>
<li class="chapter" data-level="40.4.3" data-path="rcpp-vectype.html"><a href="rcpp-vectype.html#rcpp-vectype-mat-ex3"><i class="fa fa-check"></i><b>40.4.3</b> 示例3：访问列子集</a></li>
</ul></li>
<li class="chapter" data-level="40.5" data-path="rcpp-vectype.html"><a href="rcpp-vectype.html#rcpp-vectype-other"><i class="fa fa-check"></i><b>40.5</b> Rcpp的其它向量类</a><ul>
<li class="chapter" data-level="40.5.1" data-path="rcpp-vectype.html"><a href="rcpp-vectype.html#rcpp-vectype-logic"><i class="fa fa-check"></i><b>40.5.1</b> Rcpp的LogicalVector类</a></li>
<li class="chapter" data-level="40.5.2" data-path="rcpp-vectype.html"><a href="rcpp-vectype.html#rcpp-vectype-char"><i class="fa fa-check"></i><b>40.5.2</b> Rcpp的CharacterVector类型</a></li>
</ul></li>
<li class="chapter" data-level="40.6" data-path="rcpp-vectype.html"><a href="rcpp-vectype.html#rcpp-types"><i class="fa fa-check"></i><b>40.6</b> Rcpp提供的其它数据类型</a><ul>
<li class="chapter" data-level="40.6.1" data-path="rcpp-vectype.html"><a href="rcpp-vectype.html#rcpp-types-named"><i class="fa fa-check"></i><b>40.6.1</b> Named类型</a></li>
<li class="chapter" data-level="40.6.2" data-path="rcpp-vectype.html"><a href="rcpp-vectype.html#rcpp-types-list"><i class="fa fa-check"></i><b>40.6.2</b> List类型</a></li>
<li class="chapter" data-level="40.6.3" data-path="rcpp-vectype.html"><a href="rcpp-vectype.html#rcpp-types-df"><i class="fa fa-check"></i><b>40.6.3</b> Rcpp的DataFrame类</a></li>
<li class="chapter" data-level="40.6.4" data-path="rcpp-vectype.html"><a href="rcpp-vectype.html#rcpp-types-func"><i class="fa fa-check"></i><b>40.6.4</b> Rcpp的Function类</a></li>
<li class="chapter" data-level="40.6.5" data-path="rcpp-vectype.html"><a href="rcpp-vectype.html#rcpp-types-environ"><i class="fa fa-check"></i><b>40.6.5</b> Rcpp的Environment类</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="41" data-path="rcpp-sugar.html"><a href="rcpp-sugar.html"><i class="fa fa-check"></i><b>41</b> Rcpp糖</a><ul>
<li class="chapter" data-level="41.1" data-path="rcpp-sugar.html"><a href="rcpp-sugar.html#rcpp-sugar-examp"><i class="fa fa-check"></i><b>41.1</b> 简单示例</a></li>
<li class="chapter" data-level="41.2" data-path="rcpp-sugar.html"><a href="rcpp-sugar.html#rcpp-sugar-vecop"><i class="fa fa-check"></i><b>41.2</b> 向量化的运算符</a><ul>
<li class="chapter" data-level="41.2.1" data-path="rcpp-sugar.html"><a href="rcpp-sugar.html#rcpp-sugar-vecop-arith"><i class="fa fa-check"></i><b>41.2.1</b> 向量化的四则运算</a></li>
<li class="chapter" data-level="41.2.2" data-path="rcpp-sugar.html"><a href="rcpp-sugar.html#rcpp-sugar-vecop-binop"><i class="fa fa-check"></i><b>41.2.2</b> 向量化的二元逻辑运算</a></li>
<li class="chapter" data-level="41.2.3" data-path="rcpp-sugar.html"><a href="rcpp-sugar.html#rcpp-sugar-vecop-uop"><i class="fa fa-check"></i><b>41.2.3</b> 向量化的一元运算符</a></li>
</ul></li>
<li class="chapter" data-level="41.3" data-path="rcpp-sugar.html"><a href="rcpp-sugar.html#rcpp-sugar-mathfunc"><i class="fa fa-check"></i><b>41.3</b> 用Rcpp访问数学函数</a></li>
<li class="chapter" data-level="41.4" data-path="rcpp-sugar.html"><a href="rcpp-sugar.html#rcpp-sugar-any"><i class="fa fa-check"></i><b>41.4</b> 返回单一逻辑值的函数</a></li>
<li class="chapter" data-level="41.5" data-path="rcpp-sugar.html"><a href="rcpp-sugar.html#rcpp-sugar-expfunc"><i class="fa fa-check"></i><b>41.5</b> 返回糖表达式的函数</a></li>
<li class="chapter" data-level="41.6" data-path="rcpp-sugar.html"><a href="rcpp-sugar.html#rcpp-sugar-diff"><i class="fa fa-check"></i><b>41.6</b> R与Rcpp不同语法示例</a></li>
</ul></li>
<li class="chapter" data-level="42" data-path="rcpp-package.html"><a href="rcpp-package.html"><i class="fa fa-check"></i><b>42</b> 用Rcpp帮助制作R扩展包</a><ul>
<li class="chapter" data-level="42.1" data-path="rcpp-package.html"><a href="rcpp-package.html#rcpp-package-wo"><i class="fa fa-check"></i><b>42.1</b> 不用扩展包共享C++代码的方法</a></li>
<li class="chapter" data-level="42.2" data-path="rcpp-package.html"><a href="rcpp-package.html#rcpp-package-gen"><i class="fa fa-check"></i><b>42.2</b> 生成扩展包</a><ul>
<li class="chapter" data-level="42.2.1" data-path="rcpp-package.html"><a href="rcpp-package.html#rcpp-package-gen-exist"><i class="fa fa-check"></i><b>42.2.1</b> 利用已有基于Rcpp属性的源程序制作扩展包</a></li>
<li class="chapter" data-level="42.2.2" data-path="rcpp-package.html"><a href="rcpp-package.html#rcpp-package-gen-desc"><i class="fa fa-check"></i><b>42.2.2</b> DESCRIPTION文件</a></li>
<li class="chapter" data-level="42.2.3" data-path="rcpp-package.html"><a href="rcpp-package.html#rcpp-package-gen-namespace"><i class="fa fa-check"></i><b>42.2.3</b> NAMESPACE文件</a></li>
</ul></li>
<li class="chapter" data-level="42.3" data-path="rcpp-package.html"><a href="rcpp-package.html#rcpp-package-recomp"><i class="fa fa-check"></i><b>42.3</b> 重新编译</a></li>
<li class="chapter" data-level="42.4" data-path="rcpp-package.html"><a href="rcpp-package.html#rcpp-package-interface"><i class="fa fa-check"></i><b>42.4</b> 建立C++用的接口界面</a></li>
</ul></li>
<li class="part"><span><b>X 编程例子</b></span></li>
<li class="chapter" data-level="43" data-path="examples.html"><a href="examples.html"><i class="fa fa-check"></i><b>43</b> R编程例子</a><ul>
<li class="chapter" data-level="43.1" data-path="examples.html"><a href="examples.html#examples-rlang"><i class="fa fa-check"></i><b>43.1</b> R语言</a><ul>
<li class="chapter" data-level="43.1.1" data-path="examples.html"><a href="examples.html#examples-rlang-inverse"><i class="fa fa-check"></i><b>43.1.1</b> 用向量作逆变换</a></li>
<li class="chapter" data-level="43.1.2" data-path="examples.html"><a href="examples.html#examples-rlang-fibonacci"><i class="fa fa-check"></i><b>43.1.2</b> 斐波那契数列计算</a></li>
<li class="chapter" data-level="43.1.3" data-path="examples.html"><a href="examples.html#examples-rlang-permutation"><i class="fa fa-check"></i><b>43.1.3</b> 穷举所有排列</a></li>
<li class="chapter" data-level="43.1.4" data-path="examples.html"><a href="examples.html#examples-rlang-repgroup"><i class="fa fa-check"></i><b>43.1.4</b> 可重复分组方式穷举</a></li>
<li class="chapter" data-level="43.1.5" data-path="examples.html"><a href="examples.html#examples-rlang-runs"><i class="fa fa-check"></i><b>43.1.5</b> 升降连计数</a></li>
</ul></li>
<li class="chapter" data-level="43.2" data-path="examples.html"><a href="examples.html#examples-prob"><i class="fa fa-check"></i><b>43.2</b> 概率</a><ul>
<li class="chapter" data-level="43.2.1" data-path="examples.html"><a href="examples.html#examples-prob-thsage"><i class="fa fa-check"></i><b>43.2.1</b> 智者千虑必有一失</a></li>
<li class="chapter" data-level="43.2.2" data-path="examples.html"><a href="examples.html#examples-prob-coupleseats"><i class="fa fa-check"></i><b>43.2.2</b> 圆桌夫妇座位问题</a></li>
</ul></li>
<li class="chapter" data-level="43.3" data-path="examples.html"><a href="examples.html#examples-scicomp"><i class="fa fa-check"></i><b>43.3</b> 科学计算</a><ul>
<li class="chapter" data-level="43.3.1" data-path="examples.html"><a href="examples.html#examples-scicomp-citylink"><i class="fa fa-check"></i><b>43.3.1</b> 城市间最短路径</a></li>
<li class="chapter" data-level="43.3.2" data-path="examples.html"><a href="examples.html#examples-scicomp-daub"><i class="fa fa-check"></i><b>43.3.2</b> Daubechies小波函数计算</a></li>
<li class="chapter" data-level="43.3.3" data-path="examples.html"><a href="examples.html#examples-scicomp-heating"><i class="fa fa-check"></i><b>43.3.3</b> 房间加热温度变化</a></li>
</ul></li>
<li class="chapter" data-level="43.4" data-path="examples.html"><a href="examples.html#examples-statcomp"><i class="fa fa-check"></i><b>43.4</b> 统计计算</a><ul>
<li class="chapter" data-level="43.4.1" data-path="examples.html"><a href="examples.html#examples-statcomp-kernden"><i class="fa fa-check"></i><b>43.4.1</b> 核回归与核密度估计</a></li>
<li class="chapter" data-level="43.4.2" data-path="examples.html"><a href="examples.html#examples-statcomp-mcquad2d"><i class="fa fa-check"></i><b>43.4.2</b> 二维随机模拟积分</a></li>
<li class="chapter" data-level="43.4.3" data-path="examples.html"><a href="examples.html#examples-statcomp-hidfreq"><i class="fa fa-check"></i><b>43.4.3</b> 潜周期估计</a></li>
<li class="chapter" data-level="43.4.4" data-path="examples.html"><a href="examples.html#examples-statcomp-armaest"><i class="fa fa-check"></i><b>43.4.4</b> ARMA(1,1)模型估计</a></li>
<li class="chapter" data-level="43.4.5" data-path="examples.html"><a href="examples.html#examples-statcomp-varprop"><i class="fa fa-check"></i><b>43.4.5</b> VAR模型平稳性</a></li>
<li class="chapter" data-level="43.4.6" data-path="examples.html"><a href="examples.html#examples-statcomp-storereliab"><i class="fa fa-check"></i><b>43.4.6</b> 贮存可靠性评估</a></li>
</ul></li>
<li class="chapter" data-level="43.5" data-path="examples.html"><a href="examples.html#examples-datatreat"><i class="fa fa-check"></i><b>43.5</b> 数据处理</a><ul>
<li class="chapter" data-level="43.5.1" data-path="examples.html"><a href="examples.html#examples-datatreat-subscore"><i class="fa fa-check"></i><b>43.5.1</b> 小题分题型分数汇总</a></li>
<li class="chapter" data-level="43.5.2" data-path="examples.html"><a href="examples.html#examples-datatreat-cluslab"><i class="fa fa-check"></i><b>43.5.2</b> 类别编号重排</a></li>
</ul></li>
<li class="chapter" data-level="43.6" data-path="examples.html"><a href="examples.html#examples-texttr"><i class="fa fa-check"></i><b>43.6</b> 文本处理</a><ul>
<li class="chapter" data-level="43.6.1" data-path="examples.html"><a href="examples.html#examples-texttr-hongloument"><i class="fa fa-check"></i><b>43.6.1</b> 用R语言下载处理《红楼梦》htm文件</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="http://www.math.pku.edu.cn/teachers/lidf/" target="blank">编著：李东风</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R语言教程</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="rmarkdown" class="section level1">
<h1><span class="header-section-number">22</span> R Markdown文件格式</h1>
<div id="rmd-intro" class="section level2">
<h2><span class="header-section-number">22.1</span> R Markdown文件</h2>
<p>借助于R的knitr和rmarkdown扩展包的帮助，
可以在Markdown格式的源文件中插入R代码，
使得R代码的结果能够自动插入到最后生成的研究报告中。
这种格式称为R Markdown格式，简称为Rmd格式，
相应的源文件扩展名为.Rmd。
输出格式可以是HTML、docx、pdf、beamer等。
R Markdown的基础格式是markdown格式，
严格说来是Pandoc软件支持的增强版的markdown格式，
比如，
支持LaTex格式的数学公式，
支持各种编程语言语法彩色加亮显示，等等。</p>
<p>knitr的详细文档参见网站<a href="http://yihui.name/knitr/">knitr文档</a>。
关于R Markdown可参考专著<span class="citation">(Xie, Allaire, and Grolemund <a href="#ref-Xie2019:rmarkdown" role="doc-biblioref">2019</a>)</span>和<span class="citation">(Xie, Dervieux, and Riederer <a href="#ref-Xie2020:rmd-cook" role="doc-biblioref">2020</a>)</span>。
RStudio网站提供了一个R Markdown使用摘要下载：
(rmarkdown-2.0.pdf)[rmarkdown-2.0.pdf]。
Pandoc的文档见<a href="https://www.pandoc.org/">pandoc网站</a>。</p>
<p>一个Rmd文件中包含元数据(metadata)、正文内容和R代码三种成分，
比如，下面是一个简单的Rmd文件样例：</p>
<div class="sourceCode" id="cb1323"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb1323-1"><a href="rmarkdown.html#cb1323-1"></a><span class="pp">---</span></span>
<span id="cb1323-2"><a href="rmarkdown.html#cb1323-2"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;R语言简介&quot;</span></span>
<span id="cb1323-3"><a href="rmarkdown.html#cb1323-3"></a><span class="fu">author</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;李东风&quot;</span></span>
<span id="cb1323-4"><a href="rmarkdown.html#cb1323-4"></a><span class="fu">date</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;2020-12-28&quot;</span></span>
<span id="cb1323-5"><a href="rmarkdown.html#cb1323-5"></a><span class="fu">output</span><span class="kw">:</span><span class="at"> html_document</span></span>
<span id="cb1323-6"><a href="rmarkdown.html#cb1323-6"></a><span class="pp">---</span></span></code></pre></div>
<div class="sourceCode" id="cb1324"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb1324-1"><a href="rmarkdown.html#cb1324-1"></a>这里是正文段落。</span>
<span id="cb1324-2"><a href="rmarkdown.html#cb1324-2"></a>段落中仍可以利用一般的Markdown语法，</span>
<span id="cb1324-3"><a href="rmarkdown.html#cb1324-3"></a>比如在两边用双星号表示**粗体加重**，</span>
<span id="cb1324-4"><a href="rmarkdown.html#cb1324-4"></a>在用两边反单撇号表示代码，如<span class="bn">`y &lt;- sin(x)`</span>。</span>
<span id="cb1324-5"><a href="rmarkdown.html#cb1324-5"></a></span>
<span id="cb1324-6"><a href="rmarkdown.html#cb1324-6"></a>下面是一个R代码段，有文字输出：</span>
<span id="cb1324-7"><a href="rmarkdown.html#cb1324-7"></a><span class="bn">```{r}</span></span>
<span id="cb1324-8"><a href="rmarkdown.html#cb1324-8"></a><span class="bn">set.seed(1)</span></span>
<span id="cb1324-9"><a href="rmarkdown.html#cb1324-9"></a><span class="bn">x &lt;- round(rnorm(10), 2)</span></span>
<span id="cb1324-10"><a href="rmarkdown.html#cb1324-10"></a><span class="bn">print(x)</span></span>
<span id="cb1324-11"><a href="rmarkdown.html#cb1324-11"></a><span class="bn">```</span></span>
<span id="cb1324-12"><a href="rmarkdown.html#cb1324-12"></a></span>
<span id="cb1324-13"><a href="rmarkdown.html#cb1324-13"></a>下面是一个R代码段，有图形输出：</span>
<span id="cb1324-14"><a href="rmarkdown.html#cb1324-14"></a></span>
<span id="cb1324-15"><a href="rmarkdown.html#cb1324-15"></a><span class="bn">```{r}</span></span>
<span id="cb1324-16"><a href="rmarkdown.html#cb1324-16"></a><span class="bn">plot(x)</span></span>
<span id="cb1324-17"><a href="rmarkdown.html#cb1324-17"></a><span class="bn">```</span></span>
<span id="cb1324-18"><a href="rmarkdown.html#cb1324-18"></a></span>
<span id="cb1324-19"><a href="rmarkdown.html#cb1324-19"></a>下面是一个R代码段，</span>
<span id="cb1324-20"><a href="rmarkdown.html#cb1324-20"></a>有富文本表格输出：</span>
<span id="cb1324-21"><a href="rmarkdown.html#cb1324-21"></a></span>
<span id="cb1324-22"><a href="rmarkdown.html#cb1324-22"></a><span class="bn">```{r}</span></span>
<span id="cb1324-23"><a href="rmarkdown.html#cb1324-23"></a><span class="bn">knitr::kable(as.data.frame(x))</span></span>
<span id="cb1324-24"><a href="rmarkdown.html#cb1324-24"></a><span class="bn">```</span></span>
<span id="cb1324-25"><a href="rmarkdown.html#cb1324-25"></a></span>
<span id="cb1324-26"><a href="rmarkdown.html#cb1324-26"></a>在文字段落内部也可以有代码，</span>
<span id="cb1324-27"><a href="rmarkdown.html#cb1324-27"></a>比如，x的第一个元素值为<span class="bn">`r x[1]`</span>。</span>
<span id="cb1324-28"><a href="rmarkdown.html#cb1324-28"></a></span>
<span id="cb1324-29"><a href="rmarkdown.html#cb1324-29"></a><span class="bn">```</span></span></code></pre></div>
<p>在文件开头用三个减号组成的行包围的内容称为<strong>元数据</strong>，
可以用来规定文章标题、作者、日期、输出格式、输出设置等属性。
见<a href="rmarkdown.html#rmarkdown-attryaml">22.11</a>。</p>
<p>因为中文需要一些特殊的设置，
以及在网络条件不好的条件下支持数学公式显示，
本书作者提供了一个Rmarkdown模板，
下载链接为:</p>
<ul>
<li><a href="Bookdown-template-v0-4.zip"><code>Bookdown-template-v0-4.zip</code></a>。</li>
</ul>
<p>其中的Rmarkdown子目录包含了所需模板，
其它子目录有一些别的模板，
为了在本地支持网页中的数学公式显示还有一个MathJax目录。</p>
</div>
<div id="rmd-compile" class="section level2">
<h2><span class="header-section-number">22.2</span> R Markdown文件的编译</h2>
<p>RStudio是一个集成的R软件环境，
可以用来编辑和执行R程序，
这个软件也可以用来编辑和编译R Markdown格式的文件，
使得R Markdown格式的文件变得容易使用。
在RStudio中可以直接用一个快捷图标一次性地把R代码结果插入内容中并编译为HTML或MS Word docx格式，
还支持Markdown中LaTeX格式的数学公式。
建议使用RStudio软件作为R Markdown文件的编辑器。</p>
<p>在RStudio软件中，用菜单“File–New File–R Markdown”新建一个R Markdown文件，扩展名为<code>.Rmd</code>。
用快捷图标Knit可以将文件转换成HTML格式、PDF格式（需要安装LaTeX编译软件）、MS Word格式。</p>
<p>从HTML格式可以转换成PDF格式。
为此，
安装Google的Chrome浏览器，
在Chrome中打开HTML文件后，
然后选择菜单“打印”，
选打印机为“另存为PDF”，
然后选“更多设置”，
将其中的“缩放”改为自定义，
比例改为“90%”，
就可以将HTML网页转换成PDF，
其中的数学公式、表格、图形都可以比较好地转换。
注意，如果不缩小打印，
数学公式的编号以及较长的数学公式可能会被裁剪掉。</p>
<p>从Word文件也可以转换成PDF格式，
用MS Word软件的“文件-导出”或者“文件-另存为”功能即可。</p>
<p>如果想将R Markdown文件借助于LaTeX格式转换为PDF，
需要在系统中安装一个TeX编译器。
rmarkdown包从第1.9版本开始要求使用tinytex扩展包以及配套的<a href="https://yihui.name/tinytex/">TinyTeX</a>软件包，
没有提供用本机原有的LaTex编译系统的选择，
如果不安装tinytex，编译为PDF格式时会出错。
关于TinyTeX的安装和使用参见<a href="rmarkdown.html#rmd-latex">22.12</a>。</p>
<p>如果不借助于RStudio软件，
可以用R软件、knitr包、rmarkdown包、pandoc软件来完成R Markdown源文件的编译。
比如，假设<code>test.Rmd</code>是一个这样的R Markdown格式的文件，
注意一定要使用UTF-8编码保存，
可以在R或RStudio中运行如下命令以生成含有运行结果的html文件:</p>
<div class="sourceCode" id="cb1325"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1325-1"><a href="rmarkdown.html#cb1325-1"></a>rmarkdown<span class="op">::</span><span class="kw">render</span>(<span class="st">&quot;myfile.Rmd&quot;</span>, <span class="dt">output_format =</span> <span class="st">&quot;html_document&quot;</span>, <span class="dt">encoding=</span><span class="st">&quot;UTF-8&quot;</span>)</span></code></pre></div>
<p>其中<code>myfile.Rmd</code>是源文件，
产生的HTML文件带有图形、支持数学公式。</p>
<p>在R或RStudio中可以用如下命令把.Rmd文件转化为MS Word docx格式:</p>
<div class="sourceCode" id="cb1326"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1326-1"><a href="rmarkdown.html#cb1326-1"></a>rmarkdown<span class="op">::</span><span class="kw">render</span>(<span class="st">&quot;myfile.Rmd&quot;</span>, <span class="dt">output_format =</span> <span class="st">&quot;word_document&quot;</span>, <span class="dt">encoding=</span><span class="st">&quot;UTF-8&quot;</span>)</span></code></pre></div>
<p>使用RStudio软件使得这些任务可以一键完成，
而且有很好的数学公式支持，
所以建议编辑R Markdown文件还是使用RStudio软件。</p>
<p>用RStudio的Knit图标一键编译与用<code>rmarkdown::render()</code>命令编译有重要差别：</p>
<ul>
<li>用Knit图标编译，Rmd文件中的程序会在一个崭新的会话中执行，
当前会话中已经定义的函数、变量、导入的扩展包不会影响到编译结果；</li>
<li>用<code>rmarkdown::render()</code>编译，
Rmd文件中的程序是在当前会话中执行的，
会带来一定的兼容性问题，
有可能在别人的环境下就不能正确执行或者会给出不同结果。
但是，<code>rmarkdown::render()</code>可以通过程序调用，
比如，循环地从同一个Rmd生成一系列不同的报告。
为了不让当前会话环境干扰结果，
可以人为地打开一个新会话。</li>
</ul>
<div id="rmd-compile-proc" class="section level3">
<h3><span class="header-section-number">22.2.1</span> 编译的实际过程</h3>
<p>编译Rmd文件，
一般是调用<code>rmarkdown::render()</code>函数执行任务。
编译的第一步，
会调用knitr包的<code>knit()</code>函数将代码段中的程序依次运行，
结果保存为一个临时.md文件中，
图形结果暂存在单独的图形文件中，
文字结果会直接保存在临时.md文件中。
编译的第二步，
调用外部程序Pandoc将临时的.md文件转换为要求的Word、HTML等输出格式；
如果要求的输出是<code>pdf_document</code>，
则会调用Pandoc先将临时的.md文件转换为一个中间的.tex文件，
然后利用tinytex包调用外部的TinyTex软件将.tex文件编译为PDF结果。</p>
<p><a href="https://www.pandoc.org/">Pandoc</a>是一个功能强大的文件转换程序，
可以在多种不同的文件格式之间转换，
具有丰富的选项。
对于markdown格式，
Pandoc也提供了丰富的扩充功能，
最重要的是支持LaTeX格式的数学公式。
见<a href="markdown.html#markdown-pandoc">21.4</a>。</p>
</div>
</div>
<div id="rmd-rcode" class="section level2">
<h2><span class="header-section-number">22.3</span> 在R Markdown文件中插入R代码</h2>
<p>插入的R代码分为行内代码与代码块。</p>
<p>行内代码的结果插入到一个段落中间，
代码以<code>`r</code>开头，以<code>`</code>结尾，
如<code>`r sin(pi/2)`</code>在结果中会显示为1。
为了原样显示一个反向单撇号，
可以在两边用双反向单撇号界定并用空格隔开内部的内容。</p>
<p>代码块则把结果当作单独的段落，
按照Markdown格式的规定，
代码块的前后需要有空行，
但是R Markdown实际上放松了这个要求，
允许前后不空行。
R代码段以单独的一行开头，
此行以三个反单撇号开始，
然后是<code>{r}</code>，如<code>```{r}</code>。
代码段以占据单独一行的三个反单撇号<code>```</code>结尾。
如</p>
<pre><code>```{r}
set.seed(1)
x &lt;- round(rnorm(10), 2)
print(x)
```</code></pre>
<p>结果将变成</p>
<div class="sourceCode" id="cb1328"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1328-1"><a href="rmarkdown.html#cb1328-1"></a><span class="kw">set.seed</span>(<span class="dv">1</span>)</span>
<span id="cb1328-2"><a href="rmarkdown.html#cb1328-2"></a>x &lt;-<span class="st"> </span><span class="kw">round</span>(<span class="kw">rnorm</span>(<span class="dv">10</span>), <span class="dv">2</span>)</span>
<span id="cb1328-3"><a href="rmarkdown.html#cb1328-3"></a><span class="kw">print</span>(x)</span></code></pre></div>
<pre><code>##  [1] -0.63  0.18 -0.84  1.60  0.33 -0.82  0.49  0.74  0.58 -0.31</code></pre>
<p>可以看出，代码段程序会被插入到最终结果中，
代码段的文本型输出会插入到程序的后面。</p>
<p>代码块也可以嵌入到引用、列表等环境中。</p>
<p>代码块中作的图将自动插入到当前位置。
下面的程序：</p>
<pre><code>```{r}
plot(x)
```</code></pre>
<p>结果将显示为:</p>
<div class="sourceCode" id="cb1331"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1331-1"><a href="rmarkdown.html#cb1331-1"></a><span class="kw">plot</span>(x)</span></code></pre></div>
<p><img src="static/picture/rmd-block02-1.png" width="672" /></p>
<p>在RStudio中，
可以用Insert快捷图标插入代码段，
还可以用Ctrl+Alt+I快捷键插入代码段。</p>
</div>
<div id="rmd-kable" class="section level2">
<h2><span class="header-section-number">22.4</span> 输出表格</h2>
<p>knitr包提供了一个 <code>kable()</code> 函数可以用来把数据框或矩阵转化成有格式的表格，
支持HTML、docx、LaTeX等格式。</p>
<p>例如，计算线性回归后，
<code>summary()</code>函数的输出中有coefficients一项，是一个矩阵，
如果直接文本显示比较难看：</p>
<div class="sourceCode" id="cb1332"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1332-1"><a href="rmarkdown.html#cb1332-1"></a>x &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span>; y &lt;-<span class="st"> </span>x<span class="op">^</span><span class="dv">2</span>; lmr &lt;-<span class="st"> </span><span class="kw">lm</span>(y <span class="op">~</span><span class="st"> </span>x)</span>
<span id="cb1332-2"><a href="rmarkdown.html#cb1332-2"></a>co &lt;-<span class="st"> </span><span class="kw">summary</span>(lmr)<span class="op">$</span>coefficients</span>
<span id="cb1332-3"><a href="rmarkdown.html#cb1332-3"></a><span class="kw">print</span>(co)</span></code></pre></div>
<pre><code>##             Estimate Std. Error   t value     Pr(&gt;|t|)
## (Intercept)      -22  5.5497748 -3.964125 4.152962e-03
## x                 11  0.8944272 12.298374 1.777539e-06</code></pre>
<p>可以用knitr包的kable函数来显示:</p>
<div class="sourceCode" id="cb1334"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1334-1"><a href="rmarkdown.html#cb1334-1"></a>knitr<span class="op">::</span><span class="kw">kable</span>(co)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th></th>
<th align="right">Estimate</th>
<th align="right">Std. Error</th>
<th align="right">t value</th>
<th align="right">Pr(&gt;|t|)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>(Intercept)</td>
<td align="right">-22</td>
<td align="right">5.5497748</td>
<td align="right">-3.964125</td>
<td align="right">0.0041530</td>
</tr>
<tr class="even">
<td>x</td>
<td align="right">11</td>
<td align="right">0.8944272</td>
<td align="right">12.298374</td>
<td align="right">0.0000018</td>
</tr>
</tbody>
</table>
<p><code>kable()</code>函数的<code>digits=</code>选项可以控制小数点后数字位数，
<code>caption=</code>选项可以指定表的标题内容。</p>
<p>R扩展包xtable提供了一个<code>xtable()</code>函数，
也可以用来生成HTML格式和LaTeX格式的表格，
但是需要指定要输出的格式。
xtable对比较多的R数据类型和输出类型提供了表格式显示功能，
包括矩阵、数据框、回归分析结果、方差分析结果、主成分分析结果、
若干分析结果的summary结果等。
例如，上面的回归结果用<code>xtable()</code>函数显示如:</p>
<div class="sourceCode" id="cb1335"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1335-1"><a href="rmarkdown.html#cb1335-1"></a><span class="kw">print</span>(xtable<span class="op">::</span><span class="kw">xtable</span>(lmr), <span class="dt">type=</span><span class="st">&#39;html&#39;</span>)</span></code></pre></div>
<!-- html table generated in R 3.6.2 by xtable 1.8-4 package -->
<!-- Fri Mar 20 10:13:33 2020 -->
<table border="1">
<tr>
<th>
</th>
<th>
Estimate
</th>
<th>
Std. Error
</th>
<th>
t value
</th>
<th>
Pr(&gt;|t|)
</th>
</tr>
<tr>
<td align="right">
(Intercept)
</td>
<td align="right">
-22.0000
</td>
<td align="right">
5.5498
</td>
<td align="right">
-3.96
</td>
<td align="right">
0.0042
</td>
</tr>
<tr>
<td align="right">
x
</td>
<td align="right">
11.0000
</td>
<td align="right">
0.8944
</td>
<td align="right">
12.30
</td>
<td align="right">
0.0000
</td>
</tr>
</table>
<p>这个代码段用了选项<code>results='asis'</code>，
因为xtable生成的是直接用来插入到结果中的html代码。
注意这里指定了输出为HTML类型。
如果将本文件转化为docx,
xtable的结果不可用。</p>
<p>R扩展包pander提供了更好的表格能力，
也能与knitr包很好的合作输出。
其<code>pander()</code>函数可以将多种R输出格式转换成knitr需要的表格形式。
如</p>
<div class="sourceCode" id="cb1336"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1336-1"><a href="rmarkdown.html#cb1336-1"></a>pander<span class="op">::</span><span class="kw">pander</span>(lmr)</span></code></pre></div>
<table style="width:89%;">
<caption>Fitting linear model: y ~ x</caption>
<colgroup>
<col width="25%" />
<col width="15%" />
<col width="18%" />
<col width="13%" />
<col width="16%" />
</colgroup>
<thead>
<tr class="header">
<th align="center"> </th>
<th align="center">Estimate</th>
<th align="center">Std. Error</th>
<th align="center">t value</th>
<th align="center">Pr(&gt;|t|)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center"><strong>(Intercept)</strong></td>
<td align="center">-22</td>
<td align="center">5.55</td>
<td align="center">-3.964</td>
<td align="center">0.004153</td>
</tr>
<tr class="even">
<td align="center"><strong>x</strong></td>
<td align="center">11</td>
<td align="center">0.8944</td>
<td align="center">12.3</td>
<td align="center">1.778e-06</td>
</tr>
</tbody>
</table>
<p>但是，经过试验发现，
表中中有中文时pander包会出错。</p>
</div>
<div id="rmd-graph" class="section level2">
<h2><span class="header-section-number">22.5</span> 利用R程序插图</h2>
<p>Rmd文件的插图有两种，
一种是已经保存为图形文件的，
主要是png和pdf图片；
另一种是文中的R代码生成的图形。</p>
<p>已经有图形文件的，
可以用markdown格式原来的插图方法，
见<a href="markdown.html">markdown格式介绍</a>。
但是，这样做不能给图形自动编号，
另外因为制作图书是有网页和PDF书两种主要输出格式的，
原有的插图方式在这两种输出格式上有细微的不一致。
所以，最好是统一使用Rmd的插图方法。</p>
<p>Rmd的插图方法就是写一段R代码段来插图，
如果是用程序作图，则代码中写作图的代码；
如果是已有的图形文件，
可以在一个单独的R代码段中用类似下面的命令插图：</p>
<pre><code>```{r, echo=FALSE}
knitr::include_graphics(&quot;figs/myfig01.png&quot;)
```</code></pre>
<p>其中<code>figs</code>是存放图形文件的子目录名，
<code>myfig01.png</code>是要插入的图形文件名。
这样，
如果同时还有<code>myfig01.pdf</code>的话，
则HTML输出使用png图片而PDF输出自动选用pdf文件。
另外，
插图的选项在代码段的选项中规定：
用代码段的<code>fig.with</code>和<code>fig.height</code>选项指定作图的宽和高（英寸），
用<code>out.width</code>和<code>out.height</code>选项指定在输出中实际显示的宽和高，
实际显示的宽和高如果使用如<code>"90%"</code>这样的百分数单位则可以自动适应输出的大小。</p>
<p>由于PDF中的中文编码不能自动识别，
所以在每个Rmd源文件的开头应该加上如下的设置，
使得生成PDF图时中文能够正确显示：</p>
<pre><code>```{r setup-pdf, include=FALSE}
pdf.options(family=&quot;GB1&quot;)
```</code></pre>
<p>其中<code>include=FALSE</code>表示要不显示代码段的代码，
有运行结果也不插入到输出结果中，
是否运行视缺省的<code>eval=</code>的值而定。</p>
</div>
<div id="rmd-rcode-opt" class="section level2">
<h2><span class="header-section-number">22.6</span> 代码段选项</h2>
<p>独立代码段以<code>```{r}</code>开头，
在大括号内还可以写一些选项，
选项之间以及与开始的<code>r</code>之间用逗号分隔，
所有选项写在同一行内不要换行。
选项都使用“选项名=选项值”的格式，
选项值除了使用常量外也可以使用全局变量名或表达式。
在大括号内开头的 <code>r</code>空格后写一个由英文大小写字母、数字、减号组成的标识符，
作为代码段的标签。
标签中不要用其它类型的字符，
下划线也不要用。
如</p>
<pre><code>```{r firstCode}  
cat(&#39;This is 第一段, 有标签.\n&#39;)  
```</code></pre>
<p>关于代码段选项，
详见<a href="https://yihui.name/knitr/options" class="uri">https://yihui.name/knitr/options</a>。</p>
<div id="rmd-rcode-outformat" class="section level3">
<h3><span class="header-section-number">22.6.1</span> 代码和文本输出结果格式</h3>
<p>R代码块和R代码块的运行结果通常是代码块原样输出，
运行结果用井号保护起来，
这样有利于从文章中复制粘贴代码。
如：</p>
<pre><code>```{r}
s &lt;- 0
for(x in 1:5) s &lt;- s + x^x
s
```</code></pre>
<p>结果为:</p>
<div class="sourceCode" id="cb1341"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1341-1"><a href="rmarkdown.html#cb1341-1"></a>s &lt;-<span class="st"> </span><span class="dv">0</span></span>
<span id="cb1341-2"><a href="rmarkdown.html#cb1341-2"></a><span class="cf">for</span>(x <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>) s &lt;-<span class="st"> </span>s <span class="op">+</span><span class="st"> </span>x<span class="op">^</span>x</span>
<span id="cb1341-3"><a href="rmarkdown.html#cb1341-3"></a>s</span></code></pre></div>
<pre><code>## [1] 3413</code></pre>
<div id="rmd-rcode-outformat-highlight" class="section level4">
<h4><span class="header-section-number">22.6.1.1</span> highlight选项</h4>
<p>转化后的R代码块缺省显示为彩色加亮形式。
用选项<code>highlight=FALSE</code>关闭彩色加亮功能。</p>
</div>
<div id="rmd-rcode-outformat-prompt" class="section level4">
<h4><span class="header-section-number">22.6.1.2</span> prompt和comment选项</h4>
<p>如果希望代码用R的大于号提示符开始，
用选项<code>prompt=TRUE</code>。
如果希望结果不用井号保护，
使用选项<code>comment=''</code>。
例如：</p>
<pre><code>```{r prompt=TRUE, comment=&#39;&#39;}
sum(1:5)
```</code></pre>
<p>结果为:</p>
<div class="sourceCode" id="cb1344"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1344-1"><a href="rmarkdown.html#cb1344-1"></a><span class="op">&gt;</span><span class="st"> </span><span class="kw">sum</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>)</span></code></pre></div>
<pre><code>[1] 15</code></pre>
</div>
<div id="rmd-rcode-outformat-echo" class="section level4">
<h4><span class="header-section-number">22.6.1.3</span> echo选项</h4>
<p>如果希望不显示代码，
加选项<code>echo=FALSE</code>。
如</p>
<pre><code>```{r echo=FALSE}
print(1:5)
```</code></pre>
<p>结果为:</p>
<pre><code>## [1] 1 2 3 4 5</code></pre>
</div>
<div id="rmd-rcode-outformat-tidy" class="section level4">
<h4><span class="header-section-number">22.6.1.4</span> tidy选项</h4>
<p>加选项<code>tidy=TRUE</code>可以自动重新排列代码段，
使得代码段格式更符合规范。例如：</p>
<pre><code>```{r tidy=TRUE}
s &lt;- 0
for(x in 1:5) {s &lt;- s + x^x; print(s)}
```</code></pre>
<p>结果为:</p>
<div class="sourceCode" id="cb1349"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1349-1"><a href="rmarkdown.html#cb1349-1"></a>s &lt;-<span class="st"> </span><span class="dv">0</span></span>
<span id="cb1349-2"><a href="rmarkdown.html#cb1349-2"></a><span class="cf">for</span> (x <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>) {</span>
<span id="cb1349-3"><a href="rmarkdown.html#cb1349-3"></a>    s &lt;-<span class="st"> </span>s <span class="op">+</span><span class="st"> </span>x<span class="op">^</span>x</span>
<span id="cb1349-4"><a href="rmarkdown.html#cb1349-4"></a>    <span class="kw">print</span>(s)</span>
<span id="cb1349-5"><a href="rmarkdown.html#cb1349-5"></a>}</span></code></pre></div>
<pre><code>## [1] 1
## [1] 5
## [1] 32
## [1] 288
## [1] 3413</code></pre>
</div>
<div id="rmd-rcode-outformat-eval" class="section level4">
<h4><span class="header-section-number">22.6.1.5</span> eval选项和include选项</h4>
<p>加选项<code>eval=FALSE</code>,
可以使得代码仅显示而不实际运行。
这样的代码段如果有标签，
可以在后续代码段中被引用。</p>
<p>加选项<code>include=FALSE</code>，
则本代码段仅运行，
但是代码和结果都不写入到生成的文档中。</p>
</div>
<div id="rmd-rcode-outformat-child" class="section level4">
<h4><span class="header-section-number">22.6.1.6</span> child选项</h4>
<p>加选项<code>child='文件名.Rmd'</code>可以调入另一个.Rmd文件的内容。
如果有多个.Rmd文件依赖于相同的代码，可以用这样的方法。</p>
</div>
<div id="rmd-rcode-outformat-collapse" class="section level4">
<h4><span class="header-section-number">22.6.1.7</span> collapse选项</h4>
<p>一个代码块的代码、输出通常被分解为多个原样文本块中，
如果一个代码块希望所有的代码、输出都写到同一个原样文本块中，
加选项<code>collapse=TRUE</code>。
例如，
没有这个选项时：</p>
<pre><code>```{r}
sin(pi/2)
cos(pi/2)
```</code></pre>
<p>结果为：</p>
<div class="sourceCode" id="cb1352"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1352-1"><a href="rmarkdown.html#cb1352-1"></a><span class="kw">sin</span>(pi<span class="op">/</span><span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb1354"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1354-1"><a href="rmarkdown.html#cb1354-1"></a><span class="kw">cos</span>(pi<span class="op">/</span><span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] 6.123032e-17</code></pre>
<p>代码和结果被分成了4个原样文本块。
加上<code>collapse=TRUE</code>后，结果为：</p>
<div class="sourceCode" id="cb1356"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1356-1"><a href="rmarkdown.html#cb1356-1"></a><span class="kw">sin</span>(pi<span class="op">/</span><span class="dv">2</span>)</span>
<span id="cb1356-2"><a href="rmarkdown.html#cb1356-2"></a><span class="co">## [1] 1</span></span>
<span id="cb1356-3"><a href="rmarkdown.html#cb1356-3"></a><span class="kw">cos</span>(pi<span class="op">/</span><span class="dv">2</span>)</span>
<span id="cb1356-4"><a href="rmarkdown.html#cb1356-4"></a><span class="co">## [1] 6.123032e-17</span></span></code></pre></div>
<p>代码和结果都在一个原样文本块中。</p>
</div>
<div id="rmd-rcode-outformat-results" class="section level4">
<h4><span class="header-section-number">22.6.1.8</span> results选项</h4>
<p>用选项<code>results=</code>选择文本型结果的类型。
取值有：</p>
<ul>
<li><code>markup</code>, 这是缺省选项，
会把文本型结果变成HTML的原样文本格式。</li>
<li><code>hide</code>, 运行了代码后不显示运行结果。</li>
<li><code>hold</code>, 一个代码块所有的代码都显示完，
才显示所有的结果。</li>
<li><code>asis</code>, 文本型输出直接进入到HTML文件中，
这需要R代码直接生成HTML标签，
knitr包的<code>kable()</code>函数可以把数据框转换为HTML代码的表格。</li>
</ul>
<p>例如：<code>results='hold'</code>的示例:</p>
<pre><code>```{r collapse=TRUE, results=&#39;hold&#39;}
sin(pi/2)
cos(pi/2)
```</code></pre>
<p>结果为:</p>
<div class="sourceCode" id="cb1358"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1358-1"><a href="rmarkdown.html#cb1358-1"></a><span class="kw">sin</span>(pi<span class="op">/</span><span class="dv">2</span>)</span>
<span id="cb1358-2"><a href="rmarkdown.html#cb1358-2"></a><span class="kw">cos</span>(pi<span class="op">/</span><span class="dv">2</span>)</span>
<span id="cb1358-3"><a href="rmarkdown.html#cb1358-3"></a><span class="co">## [1] 1</span></span>
<span id="cb1358-4"><a href="rmarkdown.html#cb1358-4"></a><span class="co">## [1] 6.123032e-17</span></span></code></pre></div>
</div>
<div id="rmd-rcode-outformat-error" class="section level4">
<h4><span class="header-section-number">22.6.1.9</span> 错误信息选项</h4>
<p>选项<code>warning=FALSE</code>使得代码段的警告信息不进入编译结果，
而是在控制台(console)中显示。
有一些扩展包的载入警告可以用这种办法屏蔽。</p>
<p>选项<code>error=FALSE</code>可以使得错误信息不进入编译结果，
而是出错停止并将错误信息在控制台中显示。</p>
<p>选项<code>message=FALSE</code>可以使得message级别的信息不进入编译结果，
而是在控制台中显示。</p>
</div>
<div id="rmd-rcode-outformat-width" class="section level4">
<h4><span class="header-section-number">22.6.1.10</span> 控制普通文字结果宽度</h4>
<p>Rmd代码段选项中没有直接提供控制输出的普通文字结果行宽的功能，
但可以用代码行<code>options(width=80)</code>控制，
这里<code>80</code>可以替换成自己选择的每行字符个数。
如：</p>
<div class="sourceCode" id="cb1359"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1359-1"><a href="rmarkdown.html#cb1359-1"></a><span class="kw">options</span>(<span class="dt">width=</span><span class="dv">80</span>)</span>
<span id="cb1359-2"><a href="rmarkdown.html#cb1359-2"></a><span class="kw">print</span>(<span class="dv">123456789001</span><span class="op">:</span><span class="dv">123456789020</span>)</span>
<span id="cb1359-3"><a href="rmarkdown.html#cb1359-3"></a><span class="co">##  [1] 123456789001 123456789002 123456789003 123456789004 123456789005</span></span>
<span id="cb1359-4"><a href="rmarkdown.html#cb1359-4"></a><span class="co">##  [6] 123456789006 123456789007 123456789008 123456789009 123456789010</span></span>
<span id="cb1359-5"><a href="rmarkdown.html#cb1359-5"></a><span class="co">## [11] 123456789011 123456789012 123456789013 123456789014 123456789015</span></span>
<span id="cb1359-6"><a href="rmarkdown.html#cb1359-6"></a><span class="co">## [16] 123456789016 123456789017 123456789018 123456789019 123456789020</span></span></code></pre></div>
<p>用<code>options()</code>可以设置行宽，
PDF输出的编码，
这样的调用一般放在Rmd文件的开头，
YAML的后面，
用<code>setup</code>作代码段标签，
加<code>include=FALSE</code>选项表示仅运行但不使用运行得到的文字和图形输出结果。</p>
</div>
</div>
<div id="rmd-rcode-figopt" class="section level3">
<h3><span class="header-section-number">22.6.2</span> 图形选项</h3>
<div id="rmd-rcode-figopt-size" class="section level4">
<h4><span class="header-section-number">22.6.2.1</span> 图形大小</h4>
<p>用<code>fig.width=</code>指定生成的图形的宽度，
用<code>fig.height=</code>指定生成的图形的高度，
单位是英寸（1英寸等于2.54厘米）。</p>
<p>下面给出一个长宽都是10厘米的图例。</p>
<pre><code>```{r fig.width=10/2.54, fig.height=10/2.54}
curve(exp(-0.1*x)*sin(x), 0, 4*pi)
abline(h=0, lty=3)
```</code></pre>
<p>结果为:</p>
<div class="sourceCode" id="cb1361"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1361-1"><a href="rmarkdown.html#cb1361-1"></a><span class="kw">curve</span>(<span class="kw">exp</span>(<span class="op">-</span><span class="fl">0.1</span><span class="op">*</span>x)<span class="op">*</span><span class="kw">sin</span>(x), <span class="dv">0</span>, <span class="dv">4</span><span class="op">*</span>pi)</span>
<span id="cb1361-2"><a href="rmarkdown.html#cb1361-2"></a><span class="kw">abline</span>(<span class="dt">h=</span><span class="dv">0</span>, <span class="dt">lty=</span><span class="dv">3</span>)</span></code></pre></div>
<p><img src="static/picture/rmd-knitop-figw01-1.png" width="377.952755905512" /></p>
<p><code>fig.width=</code>和<code>fig.height=</code>规定的是生成的图形大小，
实际生成图形的显示大小会受到dpi（分辨率）影响，
默认dpi是72（每英寸72个点），
也可以用<code>dpi=</code>选择分辨率。
转化后的HTML文件显示时不一定按原始大小显示。
用<code>out.width=</code>和<code>out.height=</code>可以指定显示大小，
但是必须是最终文件格式承认的单位，
比如HTML的图形大小单位是点（平常说屏幕分辨率的单位）。
或者写成如<code>90%</code>这样的百分比格式。
例如在上面的例子中加上输出度为页面宽度80%的选项：</p>
<pre><code>```{r fig.width=10/2.54, fig.height=10/2.54, out.width=&quot;80%&quot;}
curve(exp(-0.1*x)*sin(x), 0, 4*pi)
abline(h=0, lty=3)
```</code></pre>
<p>注意所有选项都要写在一行中，不能换行。
结果为:</p>
<div class="sourceCode" id="cb1363"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1363-1"><a href="rmarkdown.html#cb1363-1"></a><span class="kw">curve</span>(<span class="kw">exp</span>(<span class="op">-</span><span class="fl">0.1</span><span class="op">*</span>x)<span class="op">*</span><span class="kw">sin</span>(x), <span class="dv">0</span>, <span class="dv">4</span><span class="op">*</span>pi)</span>
<span id="cb1363-2"><a href="rmarkdown.html#cb1363-2"></a><span class="kw">abline</span>(<span class="dt">h=</span><span class="dv">0</span>, <span class="dt">lty=</span><span class="dv">3</span>)</span></code></pre></div>
<p><img src="static/picture/rmd-knitop-outw01-1.png" width="80%" /></p>
<p>当输出结果为HTML结果或者LaTeX转换的PDF时，
只要两个图形的总宽度小于页面宽度，
两个连续的图形就可以左右并列放置。
Word不支持这种功能。
例如：</p>
<pre><code>```{r, echo=FALSE, fig.width=10/2.54, fig.height=10/2.54, out.width=&quot;45%&quot;}
curve(exp(-0.1*x)*sin(x), 0, 2*pi)
abline(h=0, lty=3)
curve(exp(-0.1*x)*cos(x), 0, 2*pi)
abline(h=0, lty=3)
```</code></pre>
<p>结果为</p>
<p><img src="static/picture/rmd-knitop-double01-1.png" width="45%" /><img src="static/picture/rmd-knitop-double01-2.png" width="45%" /></p>
</div>
<div id="rmd-rcode-figopt-out" class="section level4">
<h4><span class="header-section-number">22.6.2.2</span> 图形结果选择</h4>
<p>用<code>fig.keep=</code>选项可以选择保留哪些R代码生成的图。
缺省是<code>fig.keep='high'</code>,
即保留每个高级图形函数的结果图形，
低级图形函数对高级图形函数的更改不单独保存而汇总到高级图形函数结果中。
如</p>
<div class="sourceCode" id="cb1365"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1365-1"><a href="rmarkdown.html#cb1365-1"></a><span class="kw">par</span>(<span class="dt">mar =</span> <span class="kw">c</span>(<span class="dv">3</span>, <span class="dv">3</span>, <span class="fl">0.1</span>, <span class="fl">0.1</span>))</span>
<span id="cb1365-2"><a href="rmarkdown.html#cb1365-2"></a><span class="kw">plot</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, <span class="dt">ann =</span> <span class="ot">FALSE</span>, <span class="dt">las =</span> <span class="dv">1</span>)</span>
<span id="cb1365-3"><a href="rmarkdown.html#cb1365-3"></a><span class="kw">text</span>(<span class="dv">5</span>, <span class="dv">9</span>, <span class="st">&quot;Testing low level graphics&quot;</span>)</span></code></pre></div>
<p><img src="static/picture/rmd-knitop-keep01-1.png" width="672" /></p>
<p>其中<code>text()</code>函数的结果与高级图形函数<code>plot()</code>的结果一起显示。</p>
<p><code>fig.keep</code>还可以取：<code>all</code>, 会把低级图形函数修改后的结果单独保存；
<code>last</code>, 仅保留最后一个图形；<code>first</code>, 仅保留第一个图；
<code>none</code>, 所有图都不显示出来。</p>
</div>
<div id="rmd-rcode-figopt-gb" class="section level4">
<h4><span class="header-section-number">22.6.2.3</span> 图形中的中文编码</h4>
<p>如果编译输出目标是HTML，
程序产生的图形是PNG格式，
属于点阵图，
图中的任何中文内容不会有乱码问题。
但是，
如果输出目标是PDF，
程序将产生PDF格式的图形，
这种图形属于矢量图，
需要正确设置文字编码才能保证图中的中文不会乱码。
设置的办法是用<code>pdf.options()</code>函数作如下指定：</p>
<div class="sourceCode" id="cb1366"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1366-1"><a href="rmarkdown.html#cb1366-1"></a><span class="kw">pdf.options</span>(<span class="dt">height=</span><span class="dv">10</span><span class="op">/</span><span class="fl">2.54</span>, <span class="dt">width=</span><span class="dv">10</span><span class="op">/</span><span class="fl">2.54</span>, <span class="dt">family=</span><span class="st">&quot;GB1&quot;</span>)</span></code></pre></div>
<p>其中的<code>family</code>选项指定了支持中文，
而<code>height</code>和<code>width</code>则是指定生成的每个图片的物理大小，
以英寸为单位。
这样的设定一般都放在Rmd文件开头，
YAML后面的位置，
用<code>setup</code>作代码段标签，
加<code>include=FALSE</code>选项表示仅运行但不使用运行得到的文字和图形输出结果。</p>
</div>
</div>
<div id="rmd-rcode-cache" class="section level3">
<h3><span class="header-section-number">22.6.3</span> 缓存(cache)选项</h3>
<p>当R Markdown文章比较长，包含的R代码比较多，
或者代码段运行需要比较长时间时，
反复编译整篇文章会造成不必要的计算，
因为有些代码段并没有修改，
依赖的数据也没有改变。
knitr提供了缓存功能，
代码段选项<code>cache=TRUE</code>对代码段打开缓存，
允许暂存上次运行的结果（包括产生的变量、函数、文本结果和图形）
而不需要重复运行代码段。
当代码段被修改时，
缓存被放弃，
编译时重新运行代码段。</p>
<p>缓存这种功能需要慎重使用，
免得错误地使用了旧的结果。
当后面的代码段需要使用前面代码段结果时，
如果前面结果改了，
后面的代码段就不能使用缓存的结果而必须重新计算。
为此，
在后面的代码段中应该加上<code>dependson=</code>选项，
比如<code>dependson=c('codeA', 'codeB')</code>，
其中<code>codeA</code>和<code>codeB</code>是前面的缓存了的代码段的标签，
其结果会用在本代码段中。
也可以使用代码段选项<code>autodep=TRUE</code>，
knitr试图自动确定前后代码段之间的依赖关系，
每当前面的代码段改变时，
后面的用到其结果代码段也自动重新计算而不使用缓存的旧结果。</p>
<p>建议仅对计算一次需要较长时间的代码段使用缓存功能，
后面依赖于其结果的代码一定要加上<code>dependson=</code>选项。
建议代码段尽可能有标签，这样在编译失败时能马上看出失败的地点。</p>
<p>对于用<code>options()</code>、<code>par()</code>等改变全局设置的代码段，
应不缓存，
缓存功能不能缓存这些全局设置的修改。</p>
<p>为了保险起见，
可以尽量不使用缓存功能，
而是用<code>save()</code>功能将需要长时间结算的结果保存下来，
用<code>load()</code>载入然后输出到结果文档中。</p>
</div>
</div>
<div id="rmd--sectionlink" class="section level2">
<h2><span class="header-section-number">22.7</span> 章节目录链接问题</h2>
<p>对于英文文件，
R Markdown基于的pandoc软件可以自动从标题生成适当的链接标签，
将HTML输出或者PDF输出设置属性<code>toc: true</code>后可以生成可点击的章节目录。
但是，目前Pandoc对于中文文件的支持差一些，
所以中文文件要自动生成可点击的目录，
需要在每个标题行的末尾，空格后添加<code>{#label}</code>，
其中<code>label</code>是自己指定的标签内容，
但是建议仅使用英文字母、数字、减号。
如</p>
<div class="sourceCode" id="cb1367"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb1367-1"><a href="rmarkdown.html#cb1367-1"></a><span class="fu">### 第三章第一节标题 {#c3-s1-int}</span></span></code></pre></div>
<p>如果希望某个标题不参与自动编号，
可以在标题末尾空格之后加上<code>{-}</code>标记。
但是，这种办法使得该标题没有合适的链接，
所以另一种做法是在大括号内写<code>.unnumbered</code>属性和标签，如：</p>
<div class="sourceCode" id="cb1368"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb1368-1"><a href="rmarkdown.html#cb1368-1"></a><span class="fu">## 摘要 {.unnumbered #abstract}</span></span></code></pre></div>
<p>还可以用<code>.unlisted</code>属性表示不要将标题加入到目录中。</p>
<p>bookdown包支持的部分（PART）、附录（APPENDIX）也使用<code>{-}</code>来标记，
也存在没有合适的链接的问题，
也可以试验用<code>.unnumbered</code>属性。</p>
</div>
<div id="markdown-formula" class="section level2">
<h2><span class="header-section-number">22.8</span> 数学公式</h2>
<div id="markdown-formula-intro" class="section level3">
<h3><span class="header-section-number">22.8.1</span> 在Markdown中输入数学公式</h3>
<p>原始的Markdown格式并不支持数学公式。
Pandoc扩展的markdown格式提供了对数学公式的支持，
可以在Markdown文件中插入LaTeX格式的数学公式。
虽然不能提供所有的LaTeX公式能力，
但是常用的数学公式还是能做得很好，
转换到HTML、docx都可以得到正常显示的公式。</p>
<p>用RStudio软件编译Markdown文件，可以在其中插入LaTeX格式的数学公式，
编译成HTML或者docx格式后都可以正常显示数学公式,
在另外安装的LaTeX编译器的支持下也可以将.Rmd格式编译LaTeX格式然后再转换为PDF格式，
这种方法对数学公式的支持会更完善。</p>
<p>关于数学公式的软件设置参见下面设置部分的内容。</p>
</div>
<div id="markdown-formula-type" class="section level3">
<h3><span class="header-section-number">22.8.2</span> 数学公式类别</h3>
<p>数学公式公式分为行内公式和独立公式。
行内公式和段落的文字混排，
写在两个美元符号<code>$</code>中间，或者<code>\(</code>和<code>\)</code>之间。
例如<code>$f(x)=\frac{1}{2} \int_0^1 \sin^2 (t x) dt$</code>变成
<span class="math inline">\(f(x)=\frac{1}{2} \int_0^1 \sin^2 (t x) dt\)</span>。
开头的<code>$</code>后面不能紧跟着空格，
结尾的<code>$</code>不能紧跟在空格后面。</p>
<p>独立公式写在成对的美元符号中间，或者<code>\[</code>和<code>\]</code>之间。
例如：</p>
<pre><code>$$
  f(x) = \frac{1}{2} \sum_{j=1}^\infty \int_0^1 \sin^2(j t x) dt .
$$</code></pre>
<p>显示为</p>
<p><span class="math display">\[
  f(x) = \frac{1}{2} \sum_{j=1}^\infty \int_0^1 \sin^2(j t x) dt .
\]</span></p>
</div>
<div id="markdown-formula-basic" class="section level3">
<h3><span class="header-section-number">22.8.3</span> 基本功能</h3>
<p>在数学公式中，
用下划线表示下标，
比如<code>$x_1$</code>结果为<span class="math inline">\(x_1\)</span>。
用<code>^</code>表示上标，
如<code>$x^2$</code>结果为<span class="math inline">\(x^2\)</span>。
上下标都有，如<code>$x_1^2$</code>结果为<span class="math inline">\(x_1^2\)</span>。</p>
<p>公式中用大括号表示一个整体，
比如<code>$x^(1)$</code>不能得到<span class="math inline">\(x^{(1)}\)</span>，
需要用<code>$x^{(1)}$</code>。</p>
<p>公式中用反斜杠开始一个命令，
命令仅包含字母而不能包含数字，
数字只能作为参数。
如<code>$\frac{1}{2}$</code>和<code>$\frac12$</code>都可以生成<span class="math inline">\(\frac{1}{2}\)</span>。
类似的命令如<code>$\sqrt{2}$</code>为<span class="math inline">\(\sqrt{2}\)</span>。</p>
<p>希腊字母都有对应的命令，
如<code>$\alpha$</code>为<span class="math inline">\(\alpha\)</span>，
<code>$\Sigma$</code>为<span class="math inline">\(\Sigma\)</span>。</p>
<p>常用数学函数有自己的命令，
如<code>$\sin x$</code>变成<span class="math inline">\(\sin x\)</span>，
<code>$\exp (x)$</code>为<span class="math inline">\(\exp (x)\)</span>。</p>
<p>圆括号与方括号可以直接使用，
绝对值符号用<code>|</code>，
如<code>$|x|$</code>变成<span class="math inline">\(|x|\)</span>。
但是，大括号必须写成<code>\{</code>和<code>\}</code>的形式，
如<code>$\exp\{-\frac12 x^2\}$</code>变成<span class="math inline">\(\exp\{-\frac12 x^2\}\)</span>。</p>
<p>为了使得括号能够与括号内部的内容等高，
可以用<code>\left</code>和<code>\right</code>命令进行修饰，
如</p>
<pre><code>$$
\phi(x) = \frac{1}{\sqrt{2\pi}} \exp\left\{ \frac{1}{2} x^2 \right\}
$$</code></pre>
<p>变成
<span class="math display">\[
\phi(x) = \frac{1}{\sqrt{2\pi}} \exp\left\{ \frac{1}{2} x^2 \right\}
\]</span>
注意<code>\left</code>与<code>\right</code>必须成对使用，否则出错。</p>
<p>求和如<code>$\sum_{i=1}^n x_i$</code>变成<span class="math inline">\(\sum_{i=1}^n x_i\)</span>。
乘积如<code>$\prod_{i=1}^n x_i$</code>变成<span class="math inline">\(\prod_{i=1}^n x_i\)</span>。
积分如<code>$\int_0^1 f(x) dx$</code>变成<span class="math inline">\(\int_0^1 f(x) dx\)</span>。</p>
</div>
<div id="markdown-formula-accent" class="section level3">
<h3><span class="header-section-number">22.8.4</span> 修饰符</h3>
<p><code>$f'(x)$</code>显示为<span class="math inline">\(f&#39;(x)\)</span>，
表示导数；
<code>$f''(x)$</code>显示为<span class="math inline">\(f&#39;&#39;(x)\)</span>，
表示二阶导数。
顺便说一句，
偏导数写法如<code>$\frac{\partial f(x,t)}{\partial x}$</code>，
显示为<span class="math inline">\(\frac{\partial f(x,t)}{\partial x}\)</span>。</p>
<p><span class="math inline">\(\bar{x}\)</span>的写法是<code>$\bar{x}$</code>。
<span class="math inline">\(\overline{\text{span}}\)</span>的写法是<code>$\overline{\text{span}}$</code>。
<span class="math inline">\(\hat{x}\)</span>的写法是<code>$\hat{x}$</code>。
<span class="math inline">\(\tilde{x}\)</span>的写法是<code>$\tilde{x}$</code>。
<span class="math inline">\(\vec{x}\)</span>的写法是<code>$\vec{x}$</code>。</p>
</div>
<div id="markdown-formula-align" class="section level3">
<h3><span class="header-section-number">22.8.5</span> 对齐与矩阵</h3>
<p>为了产生对齐的公式，
在独立公式中使用aligned环境。
公式中的环境以<code>\begin{环境名}</code>开始，
以<code>\end{环境名}</code>结束，
用<code>\\</code>表示换行，用<code>&amp;</code>表示一个上下对齐位置。
如</p>
<pre><code>$$
\begin{aligned}
  f(x) =&amp; \sum_{k=0}^\infty \frac{1}{k!} x^k \\
  =&amp; e^x
\end{aligned}
$$</code></pre>
<p>转化成
<span class="math display">\[
  \begin{aligned}
    f(x) =&amp; \sum_{k=0}^\infty \frac{1}{k!} x^k \\
    =&amp; e^x
  \end{aligned}
\]</span></p>
<p>可以用pmatrix环境制作写在圆括号中的矩阵，
用bmatrix环境制作写在方括号中的矩阵，
用vmatrix制作写在绝对值号中的矩阵，如
<span class="math display">\[
\begin{pmatrix}
x_{11} &amp; x_{12} \\
x_{21} &amp; x_{22}
\end{pmatrix}
\]</span>
列向量、行向量也可以用这种办法制作。</p>
</div>
<div id="markdown-formula-fonts" class="section level3">
<h3><span class="header-section-number">22.8.6</span> 特殊字体</h3>
<p>数学公式中的单词、文字必须用<code>\text{...}</code>保护，比如</p>
<pre><code>$$
\text{CV} = \frac{S}{\bar x} \times 100 \%
$$</code></pre>
<p>变成
<span class="math display">\[
\text{CV} = \frac{S}{\bar x} \times 100 \%
\]</span>
上例中如果不用<code>\text{}</code>保护，就会显示为
<span class="math display">\[
CV = \frac{S}{\bar x} \times 100 \%
\]</span>
这里的<span class="math inline">\(CV\)</span>通常理解为<span class="math inline">\(C\)</span>乘以<span class="math inline">\(V\)</span>。</p>
<p>有时用粗体表示向量或者矩阵，
用<code>\boldsymbol{...}</code>说明。如</p>
<pre><code>$$
\boldsymbol{v} = (v_1, v_2)^T
$$</code></pre>
<p>变成
<span class="math display">\[
\boldsymbol{v} = (v_1, v_2)^T
\]</span></p>
<p>美术体英文字母用<code>\mathcal{...}</code>，
如<span class="math inline">\(\mathcal{A, B, C}\)</span>写法为<code>$\mathcal{A, B, C}$</code>。</p>
<p>手写花体字母用<code>\mathscr{...}</code>，
如<span class="math inline">\(\mathscr{B, C, F, G}\)</span>写法为<code>$\mathscr{B, C, F, G}$</code>。</p>
</div>
</div>
<div id="rmd-engines" class="section level2">
<h2><span class="header-section-number">22.9</span> 其它编程语言引擎</h2>
<p>Rmd文件中除了R代码段以外，
还可以插入Rcpp、Python、Julia、SQL等许多编程语言的代码段，
常用编程语言还可以与R代码段进行信息交换。</p>
</div>
<div id="rmd-interact" class="section level2">
<h2><span class="header-section-number">22.10</span> 交互内容</h2>
<p>在Rmd生成HTML结果时，
可以在结果中包含允许读者交互操作的内容，
比如，
用户修改模型参数，
使得模型报表、图形交互地改变。
有两种方法可以实现交互：</p>
<ul>
<li>HTML小程序(widgets)，
由R扩展包<a href="https://www.htmlwidgets.org/">htmlwidgets</a>实现，
利用JavaScript函数库进行交互。
在这一功能基础上有一些派生的扩展包，
如DT，leaflet, dygraph。</li>
<li>利用shiny框架，这也是一个R扩展包，
交互功能由R的一个会话驱动。
Rmd文件的YAML元数据中需要设置<code>runtime: shiny</code>。</li>
</ul>
</div>
<div id="rmarkdown-attryaml" class="section level2">
<h2><span class="header-section-number">22.11</span> 属性设置</h2>
<div id="rmarkdown-yaml" class="section level3">
<h3><span class="header-section-number">22.11.1</span> YAML元数据</h3>
<p>可以在RStudio软件中编辑markdown文件与Rmarkdown文件，
RStudio的markdown支持来自knitr、rmarkdown、bookdown扩展包和pandoc软件，
.Rmd文件支持一些特殊的文件设置，
这些设置写在markdown文件和.Rmd文件的开头位置，
用三个减号组成的行作为开始标记与结束标记，
称为YAML元数据块(YAML meta data block)，
块后面必须用空行分隔。
元数据块中可以用“设置属性名: 设置属性值”的办法设置属性，
用缩进表示属性内容，用上下对齐的行表示多项列表。
常用属性有<code>title</code>(标题)、<code>author</code>(作者)、<code>date</code>(日期)、<code>output_format</code>(输出格式)等，如</p>
<div class="sourceCode" id="cb1374"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb1374-1"><a href="rmarkdown.html#cb1374-1"></a><span class="pp">---</span></span>
<span id="cb1374-2"><a href="rmarkdown.html#cb1374-2"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;临时测试&quot;</span></span>
<span id="cb1374-3"><a href="rmarkdown.html#cb1374-3"></a><span class="fu">author</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;李东风&quot;</span></span>
<span id="cb1374-4"><a href="rmarkdown.html#cb1374-4"></a><span class="fu">date</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;2016年7月6日&quot;</span></span>
<span id="cb1374-5"><a href="rmarkdown.html#cb1374-5"></a><span class="pp">---</span></span></code></pre></div>
<p>这三个设置会出现在转换后结果的标题部分。
RStudio的中文支持还是有时出现问题，
如果出现涉及到YAML的错误，
先将中文内容替换为英文试一试。</p>
<p>因为冒号<code>:</code>在属性设置中有特殊意义，
属性设置值如果含有冒号，
需要把整个属性值两边用单撇号界定。</p>
<p>属性值可以是列表或多项，例如：</p>
<div class="sourceCode" id="cb1375"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb1375-1"><a href="rmarkdown.html#cb1375-1"></a><span class="pp">---</span></span>
<span id="cb1375-2"><a href="rmarkdown.html#cb1375-2"></a><span class="fu">title</span><span class="kw">:</span><span class="at">  </span><span class="st">&#39;This is the title: it contains a colon&#39;</span></span>
<span id="cb1375-3"><a href="rmarkdown.html#cb1375-3"></a><span class="fu">author</span><span class="kw">:</span></span>
<span id="cb1375-4"><a href="rmarkdown.html#cb1375-4"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> Author One</span></span>
<span id="cb1375-5"><a href="rmarkdown.html#cb1375-5"></a><span class="at">    </span><span class="fu">affiliation</span><span class="kw">:</span><span class="at"> University of Somewhere</span></span>
<span id="cb1375-6"><a href="rmarkdown.html#cb1375-6"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> Author Two</span></span>
<span id="cb1375-7"><a href="rmarkdown.html#cb1375-7"></a><span class="at">    </span><span class="fu">affiliation</span><span class="kw">:</span><span class="at"> University of Nowhere</span></span>
<span id="cb1375-8"><a href="rmarkdown.html#cb1375-8"></a><span class="fu">tags</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at">nothing</span><span class="kw">,</span><span class="at"> nothingness</span><span class="kw">]</span></span>
<span id="cb1375-9"><a href="rmarkdown.html#cb1375-9"></a><span class="fu">abstract</span><span class="kw">: </span><span class="ch">|</span></span>
<span id="cb1375-10"><a href="rmarkdown.html#cb1375-10"></a>  This is the abstract.</span>
<span id="cb1375-11"><a href="rmarkdown.html#cb1375-11"></a></span>
<span id="cb1375-12"><a href="rmarkdown.html#cb1375-12"></a>  It consists of two paragraphs.</span>
<span id="cb1375-13"><a href="rmarkdown.html#cb1375-13"></a><span class="pp">---</span></span></code></pre></div>
<p>此例中有title、author、tags、abstract四个属性。
author属性包含两个作者，
每个作者又有name和affiliation两个属性。
tags属性是一个两项的列表。
abstract属性用管道符号<code>|</code>表示开头，不需要结束标志，内容缩进。</p>
</div>
<div id="rmd-output-types" class="section level3">
<h3><span class="header-section-number">22.11.2</span> 输出格式</h3>
<p>.Rmd文件开头的YAML元数据中，
属性<code>output</code>选择输出的格式，
如</p>
<ul>
<li><code>html_document</code>是HTML输出;</li>
<li><code>pdf_document</code>是PDF输出，通过系统中另外安装LaTeX编译系统转换；</li>
<li><code>word_document</code>是docx格式的Word文件输出，等等。</li>
</ul>
<p>输出格式指定如：</p>
<div class="sourceCode" id="cb1376"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb1376-1"><a href="rmarkdown.html#cb1376-1"></a><span class="fu">output</span><span class="kw">:</span><span class="at"> </span></span>
<span id="cb1376-2"><a href="rmarkdown.html#cb1376-2"></a><span class="at">  </span><span class="fu">html_document</span><span class="kw">:</span><span class="at"> default</span></span>
<span id="cb1376-3"><a href="rmarkdown.html#cb1376-3"></a><span class="at">  </span><span class="fu">word_document</span><span class="kw">:</span><span class="at"> default</span></span>
<span id="cb1376-4"><a href="rmarkdown.html#cb1376-4"></a><span class="at">  </span><span class="fu">pdf_document</span><span class="kw">:</span><span class="at"> default</span></span></code></pre></div>
<p>其中default表示该输出格式完全使用默认设置。
在输出格式没有定制设置时必须有default指定。</p>
<p>除了上述三种常见格式以外，
在RStudio中使用时，
还支持一种<code>html_notebook</code>输出格式，
这种输出格式完全在当前的R会话中运行代码块，
其Knit按钮会变成Preview按钮，
可以显示当前已有的结果到HTML窗口，
不显示未运行部分的结果。
这可以交互地人为控制代码块的运行，
因为不需要重新运行代码块，预览的速度也比较快。
其它输出格式在用Knit编译时都要在一个新的R会话中逐一运行文中的代码块。</p>
<p>有时需要根据编译输出目标采用不同的设置，
比如，
输出为html时可以使用HTML插件(widgets)，
而输出到PDF则不可以。
函数<code>knitr::is_html_output()</code>可以判断当前编译的源文件是否正在被编译为HTML，
<code>knitr::is_latex_output()</code>可以判断是否正在编译为LaTeX然后再转换为PDF。</p>
<p>另外，也可以用
<code>knitr::opts_knit$get("rmarkdown.pandoc.to")</code>
感知当前编译过程的目标，
对HTML类，结果为<code>"html"</code>，
对PDF，结果为<code>"latex"</code>。</p>
</div>
<div id="rmd-output-attr" class="section level3">
<h3><span class="header-section-number">22.11.3</span> 输出格式设置</h3>
<p>在每种输出格式后面还可以继续添加该输出特有属性。
如：</p>
<div class="sourceCode" id="cb1377"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb1377-1"><a href="rmarkdown.html#cb1377-1"></a><span class="fu">output</span><span class="kw">:</span><span class="at"> </span></span>
<span id="cb1377-2"><a href="rmarkdown.html#cb1377-2"></a><span class="at">  </span><span class="fu">html_document</span><span class="kw">:</span></span>
<span id="cb1377-3"><a href="rmarkdown.html#cb1377-3"></a><span class="at">    </span><span class="fu">toc</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb1377-4"><a href="rmarkdown.html#cb1377-4"></a><span class="at">    </span><span class="fu">number_sections</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb1377-5"><a href="rmarkdown.html#cb1377-5"></a><span class="at">  </span><span class="fu">word_document</span><span class="kw">:</span></span>
<span id="cb1377-6"><a href="rmarkdown.html#cb1377-6"></a><span class="at">    </span><span class="fu">toc</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb1377-7"><a href="rmarkdown.html#cb1377-7"></a><span class="at">  </span><span class="fu">pdf_document</span><span class="kw">:</span></span>
<span id="cb1377-8"><a href="rmarkdown.html#cb1377-8"></a><span class="at">    </span><span class="fu">toc</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span></code></pre></div>
</div>
<div id="rmd-output-attr-toc" class="section level3">
<h3><span class="header-section-number">22.11.4</span> 目录设置</h3>
<p>输出格式的<code>toc: true</code>选项指定自动生成目录，
HTML输出、PDF输出、Word输出都支持此功能。
见上例。</p>
<div class="sourceCode" id="cb1378"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb1378-1"><a href="rmarkdown.html#cb1378-1"></a><span class="fu">output</span><span class="kw">:</span><span class="at"> </span></span>
<span id="cb1378-2"><a href="rmarkdown.html#cb1378-2"></a><span class="at">  </span><span class="fu">html_document</span><span class="kw">:</span></span>
<span id="cb1378-3"><a href="rmarkdown.html#cb1378-3"></a><span class="at">    </span><span class="fu">toc</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb1378-4"><a href="rmarkdown.html#cb1378-4"></a><span class="at">    </span><span class="fu">toc_depth</span><span class="kw">:</span><span class="at"> </span><span class="dv">2</span></span></code></pre></div>
<p>上例中，<code>html_document</code>是<code>output</code>的属性，
隶属关系用缩进表示；
<code>html_document</code>又有自己的属性<code>toc</code>和<code>toc_depth</code>，
隶属关系用缩进表示。
属性<code>toc: true</code>表示要自动生成可点击的目录。
输出格式的属性<code>toc_depth</code>是目录包含的章节层级数。</p>
<p>对<code>html_document</code>输出，
属性<code>toc_float: true</code>使得生成的文档在左侧显示一个目录导览窗格。
而<code>toc_float</code>属性又可以指定一些属性，隶属关系用缩进表示。
<code>toc_float</code>的属性<code>collapse: true</code>表示仅展开章节第一层级，
<code>smooth_scroll: true</code>使得通过导览窗格跳跃时页面有平滑滚动过程显示。
用如：</p>
<div class="sourceCode" id="cb1379"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb1379-1"><a href="rmarkdown.html#cb1379-1"></a><span class="fu">output</span><span class="kw">:</span><span class="at"> </span></span>
<span id="cb1379-2"><a href="rmarkdown.html#cb1379-2"></a><span class="at">  </span><span class="fu">html_document</span><span class="kw">:</span></span>
<span id="cb1379-3"><a href="rmarkdown.html#cb1379-3"></a><span class="at">    </span><span class="fu">toc</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb1379-4"><a href="rmarkdown.html#cb1379-4"></a><span class="at">    </span><span class="fu">toc_float</span><span class="kw">:</span></span>
<span id="cb1379-5"><a href="rmarkdown.html#cb1379-5"></a><span class="at">      </span><span class="fu">collapse</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb1379-6"><a href="rmarkdown.html#cb1379-6"></a><span class="at">      </span><span class="fu">smooth_scroll</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span></code></pre></div>
</div>
<div id="rmd-output-attr-numsec" class="section level3">
<h3><span class="header-section-number">22.11.5</span> 章节自动编号</h3>
<p>输出格式的属性<code>number_sections</code>为<code>true</code>可以自动对章节编号。
HTML输出与PDF输出都支持此功能。</p>
<p>在章节自动编号时，
如果不是利用bookdown包而是基于基本的R Markdown，
文中的分节最高层级最好用一个井号，
对应于节，
如果用两个井号，
编号会变成<code>0.1</code>，<code>0.2</code>这样。</p>
</div>
<div id="rmd-output-attr-wordnumsec" class="section level3">
<h3><span class="header-section-number">22.11.6</span> Word输出章节自动编号及模板功能</h3>
<p>Word文件不能自动编号，
解决办法是生成适当的模板文件，
如wordstyle.docx,
然后在Rmd文件的元数据部分为<code>word_document</code>输出增加<code>reference_docx</code>选项，如:</p>
<div class="sourceCode" id="cb1380"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb1380-1"><a href="rmarkdown.html#cb1380-1"></a><span class="fu">output</span><span class="kw">:</span><span class="at"> </span></span>
<span id="cb1380-2"><a href="rmarkdown.html#cb1380-2"></a><span class="at">  </span><span class="fu">html_document</span><span class="kw">:</span></span>
<span id="cb1380-3"><a href="rmarkdown.html#cb1380-3"></a><span class="at">    </span><span class="fu">toc</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb1380-4"><a href="rmarkdown.html#cb1380-4"></a><span class="at">    </span><span class="fu">number_sections</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb1380-5"><a href="rmarkdown.html#cb1380-5"></a><span class="at">  </span><span class="fu">word_document</span><span class="kw">:</span></span>
<span id="cb1380-6"><a href="rmarkdown.html#cb1380-6"></a><span class="at">    </span><span class="fu">toc</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb1380-7"><a href="rmarkdown.html#cb1380-7"></a><span class="at">    </span><span class="fu">reference_docx</span><span class="kw">:</span><span class="at"> wordstyle.docx</span></span></code></pre></div>
<p>这样，新编译的Rmd文件就可以采用<code>wordstyle.docx</code>的格式设置，
比如章节自动编号等。
目前目录标题还是英文，
需要在结果中人为地修改为中文。
一个样例模板下载如下：
<a href="wordstyle.docx">wordstyle.docx</a></p>
</div>
<div id="rmd-output-htmlspecific" class="section level3">
<h3><span class="header-section-number">22.11.7</span> HTML特有输出格式设置</h3>
<p>对于<code>html_document</code>输出类型，
可以用<code>theme</code>属性设置一个主题，
取值如default, cerulean, journal, flatly, darkly, readable, spacelab, united, cosmo, lumen, paper, sandstone, simplex, yeti。</p>
<p>用<code>highlight</code>属性设置程序语言语法高亮样式，
可取值有default, tango, pygments, kate, monochrome, espresso, zenburn, haddock, and textmate。
用<code>null</code>表示取消语法高亮。</p>
<p>可以用<code>css</code>属性指定一个自定义的CSS样式表文件。
如果希望完全用自己的样式代替原有样式，
可以设置<code>theme: null</code>。</p>
<p><code>code_folding</code>属性设置HTML结果中代码折叠选项，
取值<code>hide</code>可以隐藏代码，
但读者通过选项可见。
取值<code>show</code>可以显示代码，
但读者通过选项可隐藏代码显示。</p>
</div>
<div id="rmd-mathjax" class="section level3">
<h3><span class="header-section-number">22.11.8</span> 关于数学公式支持的设置</h3>
<p>Rmd格式支持数学公式，
在生成的HTML、Word、PDF中都可以正常显示数学公式。</p>
<p>以HTML为输出时，
会使用MathJax库显示数学公式。
这是一个用于在浏览器中显示数学公式的Javascript程序库，
显示效果很好，
还支持多种显示实现方式，
支持包括LaTeX在内的多种数学公式输入方法。
R Markdown原来使用MathJax版本2，
现在MathJax已经发布了版本3，
有很大的改动，
我们这里应仍使用版本2。</p>
<p>MathJax库很大，
所以一般是从其网站按需远程调用的，
但是远程调用MathJax库在网络不畅通时会使得公式显示极为缓慢甚至无法显示，
所以Rmd允许将MathJax本地化。
在.Rmd文件头部YAML元数据的某种HTML输出格式的属性中，
设置属性<code>mathjax: local</code>和就可以使得MathJax库被放在生成的HTML的一个下层目录中。
设置如</p>
<div class="sourceCode" id="cb1381"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb1381-1"><a href="rmarkdown.html#cb1381-1"></a><span class="fu">output</span><span class="kw">:</span><span class="at"> </span></span>
<span id="cb1381-2"><a href="rmarkdown.html#cb1381-2"></a><span class="at">  </span><span class="fu">html_document</span><span class="kw">:</span></span>
<span id="cb1381-3"><a href="rmarkdown.html#cb1381-3"></a><span class="at">    </span><span class="fu">toc</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb1381-4"><a href="rmarkdown.html#cb1381-4"></a><span class="at">    </span><span class="fu">self_contained</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span>
<span id="cb1381-5"><a href="rmarkdown.html#cb1381-5"></a><span class="at">    </span><span class="fu">mathjax</span><span class="kw">:</span><span class="at"> local</span></span></code></pre></div>
<p>注意设置<code>mathjax: local</code>同时必须设置<code>self_contained: false</code>。
在不使用本地MathJax副本时，
可以设置<code>self_contained: true</code>，
这使得图形文件、JavaScript代码等依赖项也打包在生成的单一HTML文件中，
如果设为<code>false</code>，
这些依赖文件会存放在单独文件中。
可以用<code>lib_dir</code>属性指定一个子目录用来存放这些依赖文件，
多个Rmd文件可以共用同一个<code>lib_dir</code>值。</p>
<p>将MathJax用<code>mathjax: local</code>属性本地化有明显的缺点。
这时，每个Rmd项目都需要一个MathJax库副本，
使得文件备份变得很麻烦。
下面的设置方法可以令多个Rmd项目共享一个共同的本地MathJax库。</p>
</div>
<div id="rmd-output-yml" class="section level3">
<h3><span class="header-section-number">22.11.9</span> 输出设置文件</h3>
<p>如果一个项目包含多个.Rmd文件，
每个文件单独用YAML元数据进行设置比较繁琐，
修改时也很麻烦。
可以在项目目录中增加一个<code>_output.yml</code>文件，
其中包含所有.Rmd文件共用的<code>output</code>属性的设置，
各个.Rmd文件还可以有自己单独的output属性，
.Rmd文件YAML元数据中的属性优先级高于共同设置的属性。</p>
<p>例如，<code>_output.yml</code>文件内容如下：</p>
<div class="sourceCode" id="cb1382"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb1382-1"><a href="rmarkdown.html#cb1382-1"></a><span class="fu">html_document</span><span class="kw">:</span></span>
<span id="cb1382-2"><a href="rmarkdown.html#cb1382-2"></a><span class="at">  </span><span class="fu">toc</span><span class="kw">:</span><span class="at"> </span><span class="ch">yes</span></span>
<span id="cb1382-3"><a href="rmarkdown.html#cb1382-3"></a><span class="at">  </span><span class="fu">number_sections</span><span class="kw">:</span><span class="at"> </span><span class="ch">yes</span></span>
<span id="cb1382-4"><a href="rmarkdown.html#cb1382-4"></a><span class="at">  </span><span class="fu">mathjax</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;../../MathJax/MathJax.js&quot;</span></span>
<span id="cb1382-5"><a href="rmarkdown.html#cb1382-5"></a><span class="at">  </span><span class="fu">includes</span><span class="kw">:</span></span>
<span id="cb1382-6"><a href="rmarkdown.html#cb1382-6"></a><span class="at">    </span><span class="fu">in_header</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;_header.html&quot;</span></span>
<span id="cb1382-7"><a href="rmarkdown.html#cb1382-7"></a><span class="fu">word_document</span><span class="kw">:</span></span>
<span id="cb1382-8"><a href="rmarkdown.html#cb1382-8"></a><span class="at">  </span><span class="fu">toc</span><span class="kw">:</span><span class="at"> </span><span class="ch">yes</span></span>
<span id="cb1382-9"><a href="rmarkdown.html#cb1382-9"></a><span class="at">  </span><span class="fu">reference_docx</span><span class="kw">:</span><span class="at"> wordstyle.docx</span></span>
<span id="cb1382-10"><a href="rmarkdown.html#cb1382-10"></a><span class="fu">pdf_document</span><span class="kw">:</span></span>
<span id="cb1382-11"><a href="rmarkdown.html#cb1382-11"></a><span class="at">  </span><span class="fu">includes</span><span class="kw">:</span></span>
<span id="cb1382-12"><a href="rmarkdown.html#cb1382-12"></a><span class="at">    </span><span class="fu">in_header</span><span class="kw">:</span><span class="at"> preamble.tex</span></span>
<span id="cb1382-13"><a href="rmarkdown.html#cb1382-13"></a><span class="at">  </span><span class="fu">latex_engine</span><span class="kw">:</span><span class="at"> xelatex</span></span></code></pre></div>
<p>上面设置了使用本地硬盘的MathJax库，
位于项目目录的上两层目录中的MathJax子目录中。
这样可以使得多个项目共享一个MathJax库。
将生成的结果当作网站发布时，
只要将MathJax库也安装到项目在网站的目录的上两层的MathJax子目录中就可以。
其中<code>_header.html</code>内容如下，是关于MathJax具体的一些设置：</p>
<div class="sourceCode" id="cb1383"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb1383-1"><a href="rmarkdown.html#cb1383-1"></a><span class="kw">&lt;script</span><span class="ot"> type=</span><span class="st">&quot;text/x-mathjax-config&quot;</span><span class="kw">&gt;</span></span>
<span id="cb1383-2"><a href="rmarkdown.html#cb1383-2"></a><span class="va">MathJax</span>.<span class="va">Hub</span>.<span class="at">Config</span>(<span class="op">{</span></span>
<span id="cb1383-3"><a href="rmarkdown.html#cb1383-3"></a>  <span class="dt">jax</span><span class="op">:</span> [<span class="st">&quot;input/TeX&quot;</span><span class="op">,</span><span class="st">&quot;output/SVG&quot;</span>]<span class="op">,</span></span>
<span id="cb1383-4"><a href="rmarkdown.html#cb1383-4"></a>  <span class="dt">extensions</span><span class="op">:</span> [<span class="st">&quot;tex2jax.js&quot;</span><span class="op">,</span><span class="st">&quot;MathMenu.js&quot;</span><span class="op">,</span><span class="st">&quot;MathZoom.js&quot;</span>]<span class="op">,</span></span>
<span id="cb1383-5"><a href="rmarkdown.html#cb1383-5"></a>  <span class="dt">TeX</span><span class="op">:</span> <span class="op">{</span></span>
<span id="cb1383-6"><a href="rmarkdown.html#cb1383-6"></a>    <span class="dt">extensions</span><span class="op">:</span> [<span class="st">&quot;AMSmath.js&quot;</span><span class="op">,</span><span class="st">&quot;AMSsymbols.js&quot;</span><span class="op">,</span><span class="st">&quot;noErrors.js&quot;</span><span class="op">,</span><span class="st">&quot;noUndefined.js&quot;</span>]</span>
<span id="cb1383-7"><a href="rmarkdown.html#cb1383-7"></a>  <span class="op">}</span></span>
<span id="cb1383-8"><a href="rmarkdown.html#cb1383-8"></a><span class="op">}</span>)<span class="op">;</span></span>
<span id="cb1383-9"><a href="rmarkdown.html#cb1383-9"></a><span class="kw">&lt;/script&gt;</span></span></code></pre></div>
<p>注意，
<code>_output.yml</code>文件都是输出设置，
所以这个文件中不能再写<code>output</code>属性，下面的<code>_output.yml</code>写法是不正确的：</p>
<div class="sourceCode" id="cb1384"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb1384-1"><a href="rmarkdown.html#cb1384-1"></a><span class="fu">output</span><span class="kw">:</span></span>
<span id="cb1384-2"><a href="rmarkdown.html#cb1384-2"></a><span class="at">  </span><span class="fu">html_document</span><span class="kw">:</span></span>
<span id="cb1384-3"><a href="rmarkdown.html#cb1384-3"></a><span class="at">    </span><span class="fu">toc</span><span class="kw">:</span><span class="at"> </span><span class="ch">yes</span></span></code></pre></div>
</div>
</div>
<div id="rmd-latex" class="section level2">
<h2><span class="header-section-number">22.12</span> LaTeX和PDF输出</h2>
<p>Rmd文件的<code>pdf_document</code>输出类型是先转换为LaTeX文件，
再借助tinytex扩展包和LaTeX编译程序包TinyTeX转换为PDF。
rmarkdown从第1.9版本开始不再支持使用本机系统中已有的LaTeX编译系统，
只允许使用<a href="https://yihui.name/tinytex/">TinyTeX</a>。
TinyTeX优点是直接用R命令就可以安装，
更新也由R自动进行，不需要用户干预。</p>
<div id="rmd-latex-tinytex" class="section level3">
<h3><span class="header-section-number">22.12.1</span> TinyTex的安装使用</h3>
<p>为了安装R的tinytex扩展包和单独的TinyTeX编译软件，
如果已经安装了其它的LaTeX编译系统需要先卸载，
否则可能有冲突，然后在R中运行：</p>
<div class="sourceCode" id="cb1385"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1385-1"><a href="rmarkdown.html#cb1385-1"></a><span class="kw">install.packages</span>(<span class="st">&#39;tinytex&#39;</span>)</span>
<span id="cb1385-2"><a href="rmarkdown.html#cb1385-2"></a>tinytex<span class="op">::</span><span class="kw">tlmgr_repo</span>(<span class="st">&#39;http://mirrors.tuna.tsinghua.edu.cn/CTAN/&#39;</span>)</span>
<span id="cb1385-3"><a href="rmarkdown.html#cb1385-3"></a>tinytex<span class="op">::</span><span class="kw">install_tinytex</span>()</span></code></pre></div>
<p>其中上面第一行命令安装R的tinytex扩展包，
第二行将下载LaTeX编译程序的服务器设置为清华大学tuna镜像站，
第三行安装LaTeX编译程序。</p>
<p>如果安装成功，
TinyTeX软件包在MS Windows系统中一般会安装在
<code>C:\Users\用户名\AppData\Roaming\TinyTeX</code>目录中，
其中“用户名”应替换成系统当前用户名。
如果需要删除TinyTeX软件包，
只要直接删除那个子目录就可以。</p>
<p>为了判断TinyTeX是否安装成功，
在RStudio中运行</p>
<div class="sourceCode" id="cb1386"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1386-1"><a href="rmarkdown.html#cb1386-1"></a>tinytex<span class="op">::</span><span class="kw">is_tinytex</span>()</span></code></pre></div>
<p>结果应为<code>TRUE</code>,
出错或者结果为<code>FALSE</code>都说明安装不成功。</p>
<p>当用户使用RMarkdown和tinytex包转换latex并编译为PDF时，
如果缺少某些latex宏包，
tinytex会自动安装缺少的宏包。</p>
<p>因为TinyTex与已有的其它Latex编译软件会发生冲突，
所以安装了TinyTex后用户不在Rmd中使用Latex也需要使用TinyTex这个软件。
在安装TinyTex时已经设置好了程序运行路径(PATH)，
所以在Texworks等软件中可以直接调用xelatex等编译程序，
但是可能会遇到某些latex宏包找不到的问题，
并且不能自动安装下载这些宏包，
需要用户用命令查找并下载安装。</p>
<p>一种安装缺失文件的方式是在R中用tinytex包搜索编译产生的.log文件，
自动安装缺少的宏包。
比如，
编译文件为<code>C:\user\rep.log</code>中，
可以用如下命令查找并安装缺失的宏包：</p>
<div class="sourceCode" id="cb1387"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1387-1"><a href="rmarkdown.html#cb1387-1"></a><span class="kw">library</span>(tinytex)</span>
<span id="cb1387-2"><a href="rmarkdown.html#cb1387-2"></a><span class="kw">parse_install</span>(<span class="st">&quot;C:/user/rep.log&quot;</span>)</span></code></pre></div>
<p>另一种办法是在R中用tinytex扩展包直接搜索所需的扩展包然后安装。
比如，
latex编译错误信息提示缺少了一个<code>dsfont.sty</code>宏包，
可以在R中运行如下命令搜索：</p>
<div class="sourceCode" id="cb1388"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1388-1"><a href="rmarkdown.html#cb1388-1"></a><span class="kw">library</span>(tinytex)</span>
<span id="cb1388-2"><a href="rmarkdown.html#cb1388-2"></a><span class="kw">tlmgr_search</span>(<span class="st">&quot;dsfont.sty&quot;</span>)</span>
<span id="cb1388-3"><a href="rmarkdown.html#cb1388-3"></a><span class="co">## tlmgr.pl: package repository </span></span>
<span id="cb1388-4"><a href="rmarkdown.html#cb1388-4"></a><span class="co">##   http://mirrors.tuna.tsinghua.edu.cn/CTAN/systems/texlive/tlnet (verified)</span></span>
<span id="cb1388-5"><a href="rmarkdown.html#cb1388-5"></a><span class="co">## doublestroke:</span></span>
<span id="cb1388-6"><a href="rmarkdown.html#cb1388-6"></a><span class="co">##  texmf-dist/tex/latex/doublestroke/dsfont.stytlmgr search --file --global &quot;dsfont.sty&quot;</span></span></code></pre></div>
<p>结果中显示了当前使用的下载镜像网站的网址，
以及要安装<code>dsfont.sty</code>，需要安装的是<code>doublestroke</code>包。
所以：</p>
<div class="sourceCode" id="cb1389"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1389-1"><a href="rmarkdown.html#cb1389-1"></a><span class="kw">tlmgr_install</span>(<span class="st">&quot;doublestroke&quot;</span>)</span>
<span id="cb1389-2"><a href="rmarkdown.html#cb1389-2"></a><span class="co">## tlmgr install doublestroke</span></span>
<span id="cb1389-3"><a href="rmarkdown.html#cb1389-3"></a><span class="co">## tlmgr.pl: package repository</span></span>
<span id="cb1389-4"><a href="rmarkdown.html#cb1389-4"></a><span class="co">##   http://mirrors.tuna.tsinghua.edu.cn/CTAN/systems/texlive/tlnet (verified)</span></span>
<span id="cb1389-5"><a href="rmarkdown.html#cb1389-5"></a><span class="co">## [1/1, ??:??/??:??] install: doublestroke [66k]</span></span>
<span id="cb1389-6"><a href="rmarkdown.html#cb1389-6"></a><span class="co">## running mktexlsr ...</span></span>
<span id="cb1389-7"><a href="rmarkdown.html#cb1389-7"></a><span class="co">## done running mktexlsr.</span></span>
<span id="cb1389-8"><a href="rmarkdown.html#cb1389-8"></a><span class="co">## running updmap-sys ...</span></span>
<span id="cb1389-9"><a href="rmarkdown.html#cb1389-9"></a><span class="co">## done running updmap-sys.</span></span>
<span id="cb1389-10"><a href="rmarkdown.html#cb1389-10"></a><span class="co">## tlmgr.pl: package log updated: </span></span>
<span id="cb1389-11"><a href="rmarkdown.html#cb1389-11"></a><span class="co">##   C:/Users/user/AppData/Roaming/TinyTeX/texmf-var/web2c/tlmgr.log</span></span></code></pre></div>
<p>这样就安装了<code>dsfont.sty</code>宏包。</p>
<p>如下的R命令可以更新已安装的latex宏包：</p>
<div class="sourceCode" id="cb1390"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1390-1"><a href="rmarkdown.html#cb1390-1"></a><span class="kw">tlmgr_update</span>()</span></code></pre></div>
<p>如果latex系统有大幅改版，
可能会导致已安装的tinytex出错而且不能通过更新安装包纠正，
这时可以删除已安装的tinytex软件，
重新安装。
在MS Windows系统中tinytex一般安装在
<code>C:\Users\用户名\AppData\Roaming\TinyTeX</code>目录中，
其中“用户名”应替换成系统当前用户名。
如果需要删除TinyTeX软件包，
只要直接删除那个子目录就可以。</p>
<p>tinytex包的<code>tlmgr_search()</code>、<code>tlmgr_install()</code>、<code>tlmgr_update()</code>都是TexLive软件包中的<code>tlmgr</code>命令在R中的方便调用方法，
可以在命令行直接调用<code>tlmgr</code>命令，
参考<a href="https://www.tug.org/texlive/doc/tlmgr.html" class="uri">https://www.tug.org/texlive/doc/tlmgr.html</a>。</p>
</div>
<div id="rmd-latex-yaml" class="section level3">
<h3><span class="header-section-number">22.12.2</span> Rmd中Latex设置</h3>
<p>许多LaTeX相关的YAML元数据不是设置在输出属性中，
而是设置为文件的顶级元数据。
如</p>
<div class="sourceCode" id="cb1391"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb1391-1"><a href="rmarkdown.html#cb1391-1"></a><span class="pp">---</span></span>
<span id="cb1391-2"><a href="rmarkdown.html#cb1391-2"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;R语言简介&quot;</span></span>
<span id="cb1391-3"><a href="rmarkdown.html#cb1391-3"></a><span class="fu">author</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;李东风&quot;</span></span>
<span id="cb1391-4"><a href="rmarkdown.html#cb1391-4"></a><span class="fu">date</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;2020-12-28&quot;</span></span>
<span id="cb1391-5"><a href="rmarkdown.html#cb1391-5"></a><span class="fu">output</span><span class="kw">:</span><span class="at"> pdf_document</span></span>
<span id="cb1391-6"><a href="rmarkdown.html#cb1391-6"></a><span class="fu">fontsize</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;12pt&quot;</span></span>
<span id="cb1391-7"><a href="rmarkdown.html#cb1391-7"></a><span class="fu">papersize</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;a5&quot;</span></span>
<span id="cb1391-8"><a href="rmarkdown.html#cb1391-8"></a><span class="fu">geometry</span><span class="kw">:</span><span class="at"> </span><span class="st">&quot;margin=1in&quot;</span></span>
<span id="cb1391-9"><a href="rmarkdown.html#cb1391-9"></a><span class="pp">---</span></span></code></pre></div>
<p>其中属性<code>fontsize</code>, <code>papersize</code>和<code>geometry</code>都是LaTeX选项，
但是没有作为<code>output--pdf_document</code>的属性，
而是作为Rmd文件的顶级元数据属性。
使用较小的纸张大小(如a5)和较大的字体(12pt)，
可以使得制作的PDF结果容易放大显示，
这对于将PDF文件传送到屏幕较小的电子书阅读器上或者手机上阅读时比较有用。</p>
<p>用属性<code>documentclass</code>指定LaTeX文档类型，
比如article是论文格式，
book是图书格式。
ctexart和ctexbook是适用于中文的格式，
但兼容性不好。</p>
<p><code>fontsize</code>是正文字体大小，
可取<code>10pt</code>, <code>11pt</code>, <code>12pt</code>，
其中<code>10pt</code>是缺省大小。</p>
<p><code>geometry</code>用来指定geometry包的参数。</p>
<p>默认的LaTeX编译引擎是pdfLaTeX。
可以在<code>pdf_document</code>输出的属性中设置<code>latex_engine: xelatex</code>将引擎替换成xeLaTeX。
xeLaTeX的优点是支持UTF8编码，可以使用系统中现有字体，
而我们在写中文的R Markdown文档时必须使用UTF-8编码。</p>
<p>Rmd文件中的文献引用可以由pandoc软件执行，
但是在用LaTeX转换PDF时，
可以指定用一个LaTeX引用包，
如：</p>
<div class="sourceCode" id="cb1392"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb1392-1"><a href="rmarkdown.html#cb1392-1"></a><span class="pp">---</span></span>
<span id="cb1392-2"><a href="rmarkdown.html#cb1392-2"></a><span class="fu">output</span><span class="kw">:</span></span>
<span id="cb1392-3"><a href="rmarkdown.html#cb1392-3"></a><span class="at">  </span><span class="fu">pdf_document</span><span class="kw">:</span></span>
<span id="cb1392-4"><a href="rmarkdown.html#cb1392-4"></a><span class="at">    </span><span class="fu">latex_engine</span><span class="kw">:</span><span class="at"> xelatex</span></span>
<span id="cb1392-5"><a href="rmarkdown.html#cb1392-5"></a><span class="at">    </span><span class="fu">citation_package</span><span class="kw">:</span><span class="at"> natbib</span></span>
<span id="cb1392-6"><a href="rmarkdown.html#cb1392-6"></a><span class="pp">---</span></span></code></pre></div>
<p>为了自动生成目录并自动为章节编号，
仍在<code>pdf_document</code>的属性中指定<code>toc: true</code>和<code>number_section: true</code>。</p>
<p>在使用bookdown管理Rmd文件时，
文献引用、目录、章节编号方式有另外的指定办法以及默认规则。</p>
<p>为了能够检查转换过程中的错误，
可以用<code>pdf_document</code>的属性<code>keep_tex: true</code>，
保留作为中间结果的.tex文件，
人工检查其中的错误。</p>
<p>可以在<code>pdf_document</code>输出的属性中指定若干个.tex文件插入到LaTeX文档的导言、正文最前面、正文最后面，如</p>
<div class="sourceCode" id="cb1393"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb1393-1"><a href="rmarkdown.html#cb1393-1"></a><span class="pp">---</span></span>
<span id="cb1393-2"><a href="rmarkdown.html#cb1393-2"></a><span class="fu">output</span><span class="kw">:</span></span>
<span id="cb1393-3"><a href="rmarkdown.html#cb1393-3"></a><span class="at">  </span><span class="fu">pdf_document</span><span class="kw">:</span></span>
<span id="cb1393-4"><a href="rmarkdown.html#cb1393-4"></a><span class="at">    </span><span class="fu">latex_engine</span><span class="kw">:</span><span class="at"> xelatex</span></span>
<span id="cb1393-5"><a href="rmarkdown.html#cb1393-5"></a><span class="at">    </span><span class="fu">keep_tex</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb1393-6"><a href="rmarkdown.html#cb1393-6"></a><span class="at">    </span><span class="fu">citation_package</span><span class="kw">:</span><span class="at"> natbib</span></span>
<span id="cb1393-7"><a href="rmarkdown.html#cb1393-7"></a><span class="at">    </span><span class="fu">toc</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb1393-8"><a href="rmarkdown.html#cb1393-8"></a><span class="at">    </span><span class="fu">number_sections</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb1393-9"><a href="rmarkdown.html#cb1393-9"></a><span class="at">    </span><span class="fu">includes</span><span class="kw">:</span></span>
<span id="cb1393-10"><a href="rmarkdown.html#cb1393-10"></a><span class="at">      </span><span class="fu">in_header</span><span class="kw">:</span><span class="at"> preamble.tex</span></span>
<span id="cb1393-11"><a href="rmarkdown.html#cb1393-11"></a><span class="at">      </span><span class="fu">before_body</span><span class="kw">:</span><span class="at"> doc-prefix.tex</span></span>
<span id="cb1393-12"><a href="rmarkdown.html#cb1393-12"></a><span class="at">      </span><span class="fu">after_body</span><span class="kw">:</span><span class="at"> doc-suffix.tex</span></span>
<span id="cb1393-13"><a href="rmarkdown.html#cb1393-13"></a><span class="pp">---</span></span></code></pre></div>
<p><code>preamble.tex</code>主要用来载入额外的LaTeX包以及定义新的命令，
一个<code>preamble.tex</code>的例子如下</p>
<pre><code>\usepackage{ctex}     % 支持中文的标点和章节模式

%\usepackage{xltxtra} % XeLaTeX的一些额外符号

\usepackage{amsthm,mathrsfs} % 基本的ams数学公式
\usepackage{booktabs}        % 增强的表格功能
\usepackage{longtable}       % 支持超过一页的表格

% 下面是自定义的定理环境排版方法
\makeatletter
\def\thm@space@setup{%
  \thm@preskip=8pt plus 2pt minus 4pt
  \thm@postskip=\thm@preskip
}
\makeatother</code></pre>
</div>
</div>
<div id="rmarkdown-rticles" class="section level2">
<h2><span class="header-section-number">22.13</span> 生成期刊文章</h2>
<p>节<a href="rmarkdown.html#rmd-latex">22.12</a>的办法可以用来生成LaTeX然后转换为PDF，
可以用来撰写学位论文和期刊论文。
但是学位论文和期刊论文都有比较严格的格式要求，
用节<a href="rmarkdown.html#rmd-latex">22.12</a>的一般方法需要对LaTeX比较熟悉才能达到格式要求。</p>
<p>用R扩展包rticles可以比较容易地将Rmd文件转换成期刊可接受的LaTeX和PDF格式。
见<a href="https://bookdown.org/yihui/rmarkdown/journals.html" class="uri">https://bookdown.org/yihui/rmarkdown/journals.html</a>。
扩展包中对一些常见期刊提供了模板。</p>
<p>首先要安装rticles扩展包，命令为</p>
<div class="sourceCode" id="cb1395"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1395-1"><a href="rmarkdown.html#cb1395-1"></a><span class="kw">install.packages</span>(<span class="st">&quot;rticles&quot;</span>)</span></code></pre></div>
<p>为了生成新的论文源文件，
在RStudio中，
用“File – New File – R Markdown – from Template”菜单，
从列出的文章模板中选一个。</p>
<p>杂志投稿的Rmd模板是用许多元数据来规定格式的。
用户可以修改其中的标题、作者、作者单位等信息。</p>
<p>因为rticlels的输出只有PDF，
所以必要时可以在Rmd源文件中直接使用LaTeX命令，
但如果Rmd本身可以完成时尽可能用Rmd的功能。</p>
<p>因为定理、图表自动标号和索引功能是由bookdown包提供的，
而rticles的输出类型实际是<code>rmarkdown::pdf_docment</code>，
所以可以联合使用bookdown与rticles，如</p>
<div class="sourceCode" id="cb1396"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb1396-1"><a href="rmarkdown.html#cb1396-1"></a><span class="fu">output</span><span class="kw">:</span></span>
<span id="cb1396-2"><a href="rmarkdown.html#cb1396-2"></a><span class="at">  bookdown::pdf_book</span></span>
<span id="cb1396-3"><a href="rmarkdown.html#cb1396-3"></a><span class="at">    </span><span class="fu">base_format</span><span class="kw">:</span><span class="at"> rticles::peerj_article</span></span></code></pre></div>
<p>其中<code>peerj_article</code>可以替换成rticles提供的其它格式。</p>
<p>如果自己需要的模板rticles没有提供，
可以自己设法定义模板，
参见<a href="https://bookdown.org/yihui/rmarkdown/document-templates.html" class="uri">https://bookdown.org/yihui/rmarkdown/document-templates.html</a>。</p>
</div>
<div id="rmarkdown-app1" class="section level2">
<h2><span class="header-section-number">22.14</span> 附录：经验与问题</h2>
<div id="rmarkdown-app1-wordtemplate" class="section level3">
<h3><span class="header-section-number">22.14.1</span> Word模板制作</h3>
<p>如果有合适的Word格式样例，
可以在YAML元数据的<code>word_document</code>的属性中，
设置<code>reference_docs</code>属性指向该模板文件。</p>
<p>为了制作Word模板，
不应该从头开始，
而是在没有模板的情况下从Rmd文件转换生成一个Word文件，
将其作为模板文件的基础进行修改。
在修改过程中，
应该制作过程的备份，以便修改错误时能退回上一个版本。</p>
<p>如果文章的大标题样式不是“标题”，
将样式改为“标题”以免在后续的自动编号过程中参与编号。
修改的方法是选中大标题，
然后在Word软件主菜单的“开始–样式”选择框中选中“标题”，
就可以设置其样式。</p>
<p>Word的目录是与“标题1”同级的，
这样会在自动编号时参与编号；
为此，
选中“Contents”，
然后在主菜单的“开始–样式”选择框中，
找到突出显示的“TOC标题”，
右键单击“修改”，
在弹出的对话框中将“样式基准”从“标题1”改为“标题”，
并在同一对话框中将适当调整样式，
如字体类型、大小、颜色、是否居中。
改完后保存并保存一个副本。</p>
<p>如果需要修改“标题”，“作者”，“日期”，“标题1”等等的字体、大小、颜色、对齐方式，
可以选中该部分，并在“样式”中邮件单击相应的样式，选择“修改”进行修改，
保存样式文件并试验Rmd文件是否正确地利用了修改的样式。</p>
<p>为了实现自动编号，
先在正文中选中一个一级标题（不能是目录标题），
从Word的主菜单栏找到“开始——段落——多级列表——定义新的多级列表”，
在打开的对话框中点击“更多”选项，
逐一地选择“单击要修改的级别”，
将级别1、2、3等分别修改，
主要是修改“将级别链接到样式”使得”级别1“与“标题1”对应，
“级别2”与“标题2”对应，等等。
注意这个修改要一次性完成，
不能保存了文件后再次定义新的多级列表。</p>
<p>修改模板文件的页边距也会使得利用其为模板的Rmd文件转换结果被修改。
为了修改模板文件的页边距，
在主菜单“布局——页边距——自定义页边距”弹出的对话框中修改。</p>
<p>生成的目录的标题内容是“Table of Contents”，
目前只能对Rmd输出的docx文件直接修改，
修改模板文件的标题内容并不能使得Rmd输出被修改。</p>
<p>参考：Richard Layton的网站文章
<a href="https://rmarkdown.rstudio.com/articles_docx.html" class="uri">https://rmarkdown.rstudio.com/articles_docx.html</a>。</p>
</div>
<div id="rmarkdown-app1-math" class="section level3">
<h3><span class="header-section-number">22.14.2</span> 数学公式设置补充</h3>
<p>如果不使用RStudio,
R扩展包rmarkdown的<code>markdownToHTML()</code>函数可以把含有数学公式的内容转换成可显示公式的HTML文件，
R扩展包knitr的<code>knit2html()</code>也可以实现此功能。
用rmarkdown扩展包的<code>markdownToHTML()</code>函数生成的含有数学公式的内容。</p>
<p>单独使用pandoc软件时，
也可以用普通文本编辑器在Markdown文件中输入LaTeX格式的数学公式，
然后用pandoc软件转化为带有数学公式的docx文件，
不需要额外选项。
但是，为了能够在转换的HTML文件中正常显示数学公式，
需要在运行Pandoc时增加运行选项<code>--maxjax</code>，如</p>
<pre><code>  pandoc --mathjax -s -o test.html test.md</code></pre>
<p>经试验，这样转化的HTML文件可以在Firefox以及Microsoft的 Edge浏览器和Internet Explorer浏览器中正常显示数学公式。
如果公式中的中文显示不正常，
对显示的公式右键单击弹出选项菜单，
选择“Math Settings–Math Renderer–SVG”或者“HTML-CSS”。</p>

</div>
</div>
</div>
<h3>References</h3>
<div id="refs" class="references">
<div id="ref-Xie2019:rmarkdown">
<p>Xie, Yihui, J. J. Allaire, and Garrett Grolemund. 2019. <em>R Markdown: The Definitive Guide</em>. CRC Press. <a href="https://bookdown.org/yihui/rmarkdown/">https://bookdown.org/yihui/rmarkdown/</a>.</p>
</div>
<div id="ref-Xie2020:rmd-cook">
<p>Xie, Yihui, Christophe Dervieux, and Emily Riederer. 2020. <em>R Markdown Cookbook</em>. CRC Press. <a href="https://bookdown.org/yihui/rmarkdown-cookbook/">https://bookdown.org/yihui/rmarkdown-cookbook/</a>.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="markdown.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="bookdown.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="static/js/app.min.js"></script>
<script src="static/js/lunr.js"></script>
<script src="static/js/clipboard.min.js"></script>
<script src="static/js/plugin-search.js"></script>
<script src="static/js/plugin-sharing.js"></script>
<script src="static/js/plugin-fontsettings.js"></script>
<script src="static/js/plugin-bookdown.js"></script>
<script src="static/js/jquery.highlight.js"></script>
<script src="static/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["Rbook.pdf"],
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
